/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
define(["pgadmin.browser.endpoints","translations"], (__WEBPACK_EXTERNAL_MODULE_pgadmin_browser_endpoints__, __WEBPACK_EXTERNAL_MODULE_translations__) => { return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./pgadmin/browser/static/js/keyboard.js":
/*!***********************************************!*\
  !*** ./pgadmin/browser/static/js/keyboard.js ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../static/js/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var hotkeys_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! hotkeys-js */ \"./node_modules/hotkeys-js/dist/hotkeys.esm.js\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var sources_window__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/window */ \"./pgadmin/static/js/window.js\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\nconst pgBrowser = (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser) = (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser) || {};\npgBrowser.keyboardNavigation = pgBrowser.keyboardNavigation || {};\nhotkeys_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].filter = function () {\n  return true;\n};\nlodash__WEBPACK_IMPORTED_MODULE_1___default().extend(pgBrowser.keyboardNavigation, {\n  iframeEventsChannel: new BroadcastChannel('iframe-events'),\n  init: function () {\n    this.iframeEventsChannel.onmessage = ev => {\n      hotkeys_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].trigger(ev.data);\n    };\n    _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_7__[\"default\"].subscribe(prefStore => {\n      hotkeys_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].unbind();\n      if (prefStore.version > 0) {\n        this.keyboardShortcut = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, prefStore.getPreferences('browser', 'main_menu_file')?.value && {\n          'file_shortcut': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'main_menu_file')?.value)\n        }), prefStore.getPreferences('browser', 'main_menu_object')?.value && {\n          'object_shortcut': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'main_menu_object')?.value)\n        }), prefStore.getPreferences('browser', 'main_menu_tools')?.value && {\n          'tools_shortcut': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'main_menu_tools')?.value)\n        }), prefStore.getPreferences('browser', 'main_menu_help')?.value && {\n          'help_shortcut': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'main_menu_help')?.value)\n        }), {}, {\n          'left_tree_shortcut': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'browser_tree')?.value),\n          'tabbed_panel_backward': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'tabbed_panel_backward')?.value),\n          'tabbed_panel_forward': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'tabbed_panel_forward')?.value),\n          'sub_menu_query_tool': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_query_tool')?.value),\n          'sub_menu_view_data': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_view_data')?.value),\n          'sub_menu_search_objects': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_search_objects')?.value),\n          'sub_menu_properties': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_properties')?.value),\n          'sub_menu_create': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_create')?.value),\n          'sub_menu_delete': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_delete')?.value),\n          'sub_menu_refresh': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'sub_menu_refresh')?.value),\n          'direct_debugging': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'direct_debugging')?.value),\n          'add_grid_row': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'add_grid_row')?.value),\n          'open_quick_search': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'open_quick_search')?.value),\n          'close_tab_panel': _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(prefStore.getPreferences('browser', 'close_tab_panel')?.value)\n        });\n        this.shortcutMethods = _objectSpread(_objectSpread({}, prefStore.getPreferences('browser', 'main_menu_file')?.value && {\n          'bindMainMenu': {\n            'shortcuts': [this.keyboardShortcut.file_shortcut, this.keyboardShortcut.object_shortcut, this.keyboardShortcut.tools_shortcut, this.keyboardShortcut.help_shortcut]\n          }\n        }), {}, {\n          // Main menu\n          'bindRightPanel': {\n            'shortcuts': [this.keyboardShortcut.tabbed_panel_backward, this.keyboardShortcut.tabbed_panel_forward, this.keyboardShortcut.close_tab_panel]\n          },\n          // Main window panels\n          'bindLeftTree': {\n            'shortcuts': this.keyboardShortcut.left_tree_shortcut\n          },\n          // Main menu,\n          'bindSubMenuQueryTool': {\n            'shortcuts': this.keyboardShortcut.sub_menu_query_tool\n          },\n          // Sub menu - Open Query Tool,\n          'bindSubMenuViewData': {\n            'shortcuts': this.keyboardShortcut.sub_menu_view_data\n          },\n          // Sub menu - Open View Data,\n          'bindSubMenuSearchObjects': {\n            'shortcuts': this.keyboardShortcut.sub_menu_search_objects\n          },\n          // Sub menu - Open search objects,\n          'bindSubMenuProperties': {\n            'shortcuts': this.keyboardShortcut.sub_menu_properties\n          },\n          // Sub menu - Edit Properties,\n          'bindSubMenuCreate': {\n            'shortcuts': this.keyboardShortcut.sub_menu_create\n          },\n          // Sub menu - Create Object,\n          'bindSubMenuDelete': {\n            'shortcuts': this.keyboardShortcut.sub_menu_delete\n          },\n          // Sub menu - Delete object,\n          'bindSubMenuRefresh': {\n            'shortcuts': this.keyboardShortcut.sub_menu_refresh,\n            'bindElem': '#tree'\n          },\n          // Sub menu - Refresh object,\n          'bindDirectDebugging': {\n            'shortcuts': this.keyboardShortcut.direct_debugging\n          },\n          // Sub menu - Direct Debugging\n          'bindAddGridRow': {\n            'shortcuts': this.keyboardShortcut.add_grid_row\n          },\n          // Subnode Grid Add Row\n          'bindOpenQuickSearch': {\n            'shortcuts': this.keyboardShortcut.open_quick_search\n          } // Subnode Grid Refresh Row\n        });\n        this.shortcutsString = Object.values(this.shortcutMethods).map(i => i.shortcuts).join(',');\n        // Checks if the tab is iframe or not, if iframe then calls the function 'setupIframeEventsBroadcast'\n        if (window.self != window.top) {\n          this.setupIframeEventsBroadcast();\n        } else {\n          this.bindShortcuts();\n        }\n      }\n    });\n  },\n  //Sends the pressed keyboard shortcut from iframe to parent\n  triggerIframeEventsBroadcast: function (event) {\n    let checkShortcuts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    const shortcut = {\n      alt: event?.altKey,\n      shift: event?.shiftKey,\n      control: event?.ctrlKey,\n      key: {\n        char: event?.key\n      }\n    };\n    const currShortcutString = _static_js_utils__WEBPACK_IMPORTED_MODULE_4__.parseShortcutValue(shortcut);\n    if (checkShortcuts && !this.shortcutsString.split(',').includes(currShortcutString)) {\n      return;\n    }\n    this.iframeEventsChannel.postMessage(currShortcutString);\n  },\n  //listens to keyboard events and triggers the 'triggerIframeEventsBroadcast' for shortcuts\n  setupIframeEventsBroadcast: function () {\n    const self = this;\n    (0,hotkeys_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(self.shortcutsString, event => {\n      this.triggerIframeEventsBroadcast(event);\n    });\n  },\n  bindShortcuts: function () {\n    const self = this;\n    lodash__WEBPACK_IMPORTED_MODULE_1___default().each(self.shortcutMethods, (keyCombo, callback) => {\n      self._bindWithHotkeys(keyCombo.shortcuts, self[callback]);\n    });\n  },\n  _bindWithHotkeys: function (shortcuts, callback) {\n    const self = this;\n    (0,hotkeys_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(shortcuts.toString(), function (event, combo) {\n      if (!combo) {\n        combo = this;\n      }\n      callback.apply(self, [event, combo]);\n    });\n  },\n  bindMainMenu: function (event, combo) {\n    const shortcut_obj = this.keyboardShortcut;\n    let menuLabel = null;\n    switch (combo.key) {\n      case shortcut_obj.file_shortcut:\n        menuLabel = sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('File');\n        break;\n      case shortcut_obj.object_shortcut:\n        menuLabel = sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Object');\n        break;\n      case shortcut_obj.tools_shortcut:\n        menuLabel = sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Tools');\n        break;\n      case shortcut_obj.help_shortcut:\n        menuLabel = sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Help');\n        break;\n      default:\n        break;\n    }\n    if (menuLabel) {\n      document.querySelector(`div[data-test=\"app-menu-bar\"] button[data-label=\"${menuLabel}\"]`)?.click();\n    }\n  },\n  bindRightPanel: function (event, combo) {\n    const self = this;\n    const shortcutObj = this.keyboardShortcut;\n    const activeElement = document.activeElement;\n    if (activeElement.closest('.dock-tab-btn')) {\n      const currDockTab = activeElement.closest('.dock-tab-btn');\n      const dockLayout = currDockTab.closest('.dock-layout');\n      const dockLayoutTabs = dockLayout ? Array.from(dockLayout.querySelectorAll('.dock-tab-btn')) : null;\n      if (dockLayoutTabs && dockLayoutTabs.length > 1) {\n        const activeTabIndex = dockLayoutTabs.indexOf(currDockTab);\n        self._focusTab(dockLayoutTabs, activeTabIndex, shortcutObj, combo);\n      }\n    } else if (activeElement.nodeName === 'IFRAME' || activeElement.closest('.dock-tabpane.dock-tabpane-active')) {\n      let activeTabId = '';\n      activeTabId = activeElement.nodeName === 'IFRAME' ? activeElement.id : activeElement.closest('.dock-tabpane.dock-tabpane-active').id;\n      const dockLayout = document.getElementById('root');\n      const dockLayoutTabs = dockLayout ? Array.from(dockLayout.querySelectorAll('.dock-tab-btn')) : null;\n      if (dockLayoutTabs && dockLayoutTabs.length > 1 && activeTabId) {\n        const activeTabIndex = dockLayoutTabs.findIndex(tab => tab.id.slice(14) === activeTabId);\n        self._focusTab(dockLayoutTabs, activeTabIndex, shortcutObj, combo);\n      }\n    } else if (activeElement === document.body || document.querySelector('div[data-test=\"app-menu-bar\"]')) {\n      const activeTabs = document.getElementsByClassName('dock-tabpane dock-tabpane-active');\n      if (activeTabs.length > 1) {\n        const activeTabId = activeTabs[1].id;\n        const dockLayout = document.getElementById('root');\n        const dockLayoutTabs = dockLayout ? Array.from(dockLayout.querySelectorAll('.dock-tab-btn')) : null;\n        if (dockLayoutTabs && dockLayoutTabs.length > 1 && activeTabId) {\n          const activeTabIndex = dockLayoutTabs.findIndex(tab => tab.id.slice(14) === activeTabId);\n          self._focusTab(dockLayoutTabs, activeTabIndex, shortcutObj, combo);\n        }\n      }\n    }\n  },\n  _focusTab: function (dockLayoutTabs, activeTabIdx, shortcut_obj, combo) {\n    if (combo.key === shortcut_obj.close_tab_panel) {\n      const panelId = dockLayoutTabs[activeTabIdx].id?.slice(14);\n      if (panelId) {\n        _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser.docker.default_workspace.close(panelId);\n      }\n    } else {\n      if (combo.key === shortcut_obj.tabbed_panel_backward) activeTabIdx = (activeTabIdx + dockLayoutTabs.length - 1) % dockLayoutTabs.length;else if (combo.key === shortcut_obj.tabbed_panel_forward) activeTabIdx = (activeTabIdx + 1) % dockLayoutTabs.length;\n      dockLayoutTabs[activeTabIdx]?.click();\n      dockLayoutTabs[activeTabIdx]?.focus();\n    }\n  },\n  bindLeftTree: function () {\n    const tree = this.getTreeDetails();\n    document.querySelector('[id=\"id-object-explorer\"]').focus();\n    tree.t.select(tree.i);\n  },\n  bindSubMenuQueryTool: function () {\n    const tree = this.getTreeDetails();\n    if (!tree.d) return;\n\n    // Call data grid method to render query tool\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Tools.SQLEditor.showQueryTool('', tree.i);\n  },\n  bindSubMenuViewData: function () {\n    const tree = this.getTreeDetails();\n    if (!tree.d) return;\n\n    // Call data grid method to render view data\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Tools.SQLEditor.showViewData({\n      'mnuid': 1\n    }, tree.i);\n  },\n  bindSubMenuSearchObjects: function () {\n    const tree = this.getTreeDetails();\n    if (!tree.d) return;\n\n    // Call show search object to open the search object dialog.\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Tools.SearchObjects.show_search_objects('', tree.i);\n  },\n  bindSubMenuProperties: function () {\n    const tree = this.getTreeDetails();\n    if (!tree.d || (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[tree.t.itemData(tree.i)._type].collection_node === true) return;\n\n    // Open properties dialog in edit mode\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser.Node.callbacks.show_obj_properties.call((_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[tree.t.itemData(tree.i)._type], {\n      action: 'edit'\n    });\n  },\n  bindSubMenuCreate: function () {\n    const tree = this.getTreeDetails();\n    let node_obj = (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[tree.t.itemData(tree.i)._type];\n    if (!tree.d) {\n      return;\n    } else if (node_obj.collection_node === true) {\n      if (node_obj.node) {\n        node_obj = (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[node_obj.node];\n      } else {\n        return;\n      }\n    }\n\n    // Open properties dialog in edit mode\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser.Node.callbacks.show_obj_properties.call(node_obj, {\n      action: 'create',\n      item: tree.i\n    });\n  },\n  bindSubMenuDelete: function (event) {\n    const tree = this.getTreeDetails();\n    if (!tree.d || (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[tree.t.itemData(tree.i)._type].collection_node === true || !event?.target?.classList?.contains('file-tree')) return;\n\n    // Call delete object callback\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser.Node.callbacks.delete_obj.call((_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[tree.t.itemData(tree.i)._type]);\n  },\n  bindSubMenuRefresh: function (event) {\n    event?.preventDefault();\n    const tree = pgBrowser.keyboardNavigation.getTreeDetails();\n\n    // Call refresh object callback\n    _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser.Node.callbacks.refresh.call((_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[tree.t.itemData(tree.i)._type]);\n  },\n  bindDirectDebugging: function () {\n    const tree = this.getTreeDetails();\n    const type = tree.t.itemData(tree.i)._type;\n    if (!tree.d || type !== 'function' && type !== 'procedure') return;\n    if (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Tools.Debugger.canDebug(tree.d, tree.i, {\n      'debug_type': 'direct'\n    })) {\n      // Call debugger callback\n      _static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Tools.Debugger.getFunctionInformation((_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).Nodes[type]);\n    }\n  },\n  isPropertyPanelVisible: function () {\n    let isPanelVisible = false;\n    lodash__WEBPACK_IMPORTED_MODULE_1___default().each(_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser.docker.default_workspace.findPanels(), panel => {\n      if (panel._type === 'properties') isPanelVisible = panel.isVisible();\n    });\n    return isPanelVisible;\n  },\n  getTreeDetails: function () {\n    const tree = (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).tree;\n    const selectedTreeNode = tree.selected() ? tree.selected() : tree.first();\n    const selectedTreeNodeData = selectedTreeNode ? tree.itemData(selectedTreeNode) : undefined;\n    return {\n      t: tree,\n      i: selectedTreeNode,\n      d: selectedTreeNodeData\n    };\n  },\n  bindOpenQuickSearch: function () {\n    sources_window__WEBPACK_IMPORTED_MODULE_6__[\"default\"].pgAdmin.Browser.all_menus_cache.help.mnu_quick_search_help.callback();\n  },\n  bindAddGridRow: function () {\n    let gridElem = document.activeElement.closest('.pgrt')?.parentElement;\n    if (gridElem) {\n      gridElem.querySelector('button[data-test=\"add-row\"]')?.click();\n    }\n  }\n});\nmodule.exports = (_static_js_pgadmin__WEBPACK_IMPORTED_MODULE_2___default().Browser).keyboardNavigation;\n\n//# sourceURL=webpack:///./pgadmin/browser/static/js/keyboard.js?");

/***/ }),

/***/ "./pgadmin/static/js/csrf.js":
/*!***********************************!*\
  !*** ./pgadmin/static/js/csrf.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setPGCSRFToken: () => (/* binding */ setPGCSRFToken)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/lib/axios.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\nfunction setPGCSRFToken(header, token) {\n  if (!token) {\n    // Throw error message.\n    throw new Error('csrf-token meta tag has not been set');\n  }\n\n  // Configure axios to set 'X-CSRFToken' request header for\n  // every requests.\n  axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].interceptors.request.use(function (config) {\n    config.headers[header] = token;\n    return config;\n  }, function (error) {\n    return Promise.reject(error instanceof Error ? error : Error('Something went wrong'));\n  });\n}\n\n//# sourceURL=webpack:///./pgadmin/static/js/csrf.js?");

/***/ }),

/***/ "./pgadmin/static/js/tree/tree_utils.js":
/*!**********************************************!*\
  !*** ./pgadmin/static/js/tree/tree_utils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   retrieveAncestorOfTypeDatabase: () => (/* binding */ retrieveAncestorOfTypeDatabase),\n/* harmony export */   retrieveAncestorOfTypeServer: () => (/* binding */ retrieveAncestorOfTypeServer)\n/* harmony export */ });\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_1__);\n//////////////////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////////////////\n\n\n\nfunction retrieveAncestorOfTypeServer(pgBrowser, item, errorAlertTitle) {\n  let serverInformation = null;\n  let treeItem = item || pgBrowser.tree.selected();\n  let treeNode = pgBrowser.tree.findNodeByDomElement(treeItem);\n  if (treeNode) {\n    let nodeData;\n    let databaseNode = treeNode.ancestorNode(node => {\n      nodeData = node.getData();\n      return nodeData._type === 'database';\n    });\n    let isServerNode = node => {\n      nodeData = node.getData();\n      return nodeData._type === 'server';\n    };\n    if (databaseNode !== null) {\n      if (nodeData._label.indexOf('=') >= 0) {\n        sources_pgadmin__WEBPACK_IMPORTED_MODULE_1___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()(errorAlertTitle), sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Databases with = symbols in the name cannot be backed up or restored using this utility.'));\n      } else if (databaseNode.anyParent(isServerNode)) serverInformation = nodeData;\n    } else if (treeNode.anyFamilyMember(isServerNode)) serverInformation = nodeData;\n  }\n  if (serverInformation === null) {\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_1___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()(errorAlertTitle), sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Please select server or child node from the object explorer.'));\n  }\n  return serverInformation;\n}\nfunction retrieveAncestorOfTypeDatabase(pgBrowser, item, errorAlertTitle) {\n  let databaseInfo = null;\n  let treeItem = item || pgBrowser.tree.selected();\n  let treeNode = pgBrowser.tree.findNodeByDomElement(treeItem);\n  if (treeNode) {\n    if (treeNode.getData()._type === 'database') {\n      databaseInfo = treeNode.getData();\n    } else {\n      let nodeData = null;\n      treeNode.ancestorNode(node => {\n        nodeData = node.getData();\n        if (nodeData._type === 'database') {\n          databaseInfo = nodeData;\n          return true;\n        }\n        return false;\n      });\n    }\n  }\n  if (databaseInfo === null) {\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_1___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()(errorAlertTitle), sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Please select a database or its child node from the browser.'));\n  }\n  return databaseInfo;\n}\n\n//# sourceURL=webpack:///./pgadmin/static/js/tree/tree_utils.js?");

/***/ }),

/***/ "./pgadmin/tools/psql/static/js/PsqlModule.js":
/*!****************************************************!*\
  !*** ./pgadmin/tools/psql/static/js/PsqlModule.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Psql)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var sources_tree_tree_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/tree/tree_utils */ \"./pgadmin/static/js/tree/tree_utils.js\");\n/* harmony import */ var tools_sqleditor_static_js_sqleditor_title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tools/sqleditor/static/js/sqleditor_title */ \"./pgadmin/tools/sqleditor/static/js/sqleditor_title.js\");\n/* harmony import */ var _browser_static_js_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../browser/static/js/constants */ \"./pgadmin/browser/static/js/constants.js\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n/* harmony import */ var pgadmin_browser_keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! pgadmin.browser.keyboard */ \"./pgadmin/browser/static/js/keyboard.js\");\n/* harmony import */ var sources_window__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/window */ \"./pgadmin/static/js/window.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var pgadmin_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! pgadmin.browser */ \"./pgadmin/browser/static/js/browser.js\");\n/* harmony import */ var _components_PsqlComponent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/PsqlComponent */ \"./pgadmin/tools/psql/static/js/components/PsqlComponent.jsx\");\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n/* harmony import */ var _static_js_api_instance__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../static/js/api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _static_js_Theme__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../static/js/Theme */ \"./pgadmin/static/js/Theme/index.jsx\");\n/* harmony import */ var _static_js_helpers_Notifier__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../static/js/helpers/Notifier */ \"./pgadmin/static/js/helpers/Notifier.jsx\");\n/* harmony import */ var _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../static/js/helpers/ModalProvider */ \"./pgadmin/static/js/helpers/ModalProvider.jsx\");\n/* harmony import */ var sources_csrf__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! sources/csrf */ \"./pgadmin/static/js/csrf.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-dom/client */ \"./node_modules/react-dom/client.js\");\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Psql {\n  static getInstance() {\n    if (!Psql.instance) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      Psql.instance = new Psql(...args);\n    }\n    return Psql.instance;\n  }\n  constructor(pgAdmin, pgBrowser) {\n    this.pgAdmin = pgAdmin;\n    this.pgBrowser = pgBrowser;\n    this.api = (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_12__[\"default\"])();\n  }\n\n  /* Enable/disable PSQL tool menu in tools based\r\n    * on node selected. if selected node is present\r\n    * in unsupported_nodes, menu will be disabled\r\n    * otherwise enabled.\r\n    */\n  psqlToolEnabled(obj) {\n    let isEnabled = (() => {\n      if (!_.isUndefined(obj) && !_.isNull(obj) && (sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().enable_psql)) {\n        if (_.indexOf((sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().unsupported_nodes), obj._type) == -1) {\n          if (obj._type == 'database' && obj.allowConn) {\n            return true;\n          } else if (obj._type != 'database') {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    })();\n    return isEnabled;\n  }\n  init() {\n    if (this.initialized) return;\n    this.initialized = true;\n    sources_csrf__WEBPACK_IMPORTED_MODULE_18__.setPGCSRFToken((sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().csrf_token_header), (sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().csrf_token));\n    // Define the nodes on which the menus to be appear\n\n    let menus = [{\n      name: 'psql',\n      module: this,\n      applies: ['tools'],\n      callback: 'openPsqlTool',\n      enable: this.psqlToolEnabled,\n      priority: 1,\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('PSQL Tool'),\n      data: {\n        applies: 'tools',\n        data_disabled: sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('Please select a database from the object explorer to access Pql Tool.')\n      }\n    }];\n    this.enable_psql_tool = (sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().enable_psql);\n    if ((sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().enable_psql)) {\n      pgadmin_browser__WEBPACK_IMPORTED_MODULE_9__[\"default\"].add_menus(menus);\n    }\n  }\n  openPsqlTool(data, treeIdentifier) {\n    const serverInformation = (0,sources_tree_tree_utils__WEBPACK_IMPORTED_MODULE_2__.retrieveAncestorOfTypeServer)(pgadmin_browser__WEBPACK_IMPORTED_MODULE_9__[\"default\"], treeIdentifier, sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('PSQL Error'));\n    if (!(0,sources_utils__WEBPACK_IMPORTED_MODULE_1__.hasBinariesConfiguration)(pgadmin_browser__WEBPACK_IMPORTED_MODULE_9__[\"default\"], serverInformation)) {\n      return;\n    }\n    const node = pgadmin_browser__WEBPACK_IMPORTED_MODULE_9__[\"default\"].tree.findNodeByDomElement(treeIdentifier);\n    if (node === undefined || !node.getData()) {\n      sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('PSQL Error'), sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('No object selected.'));\n      return;\n    }\n    const parentData = pgadmin_browser__WEBPACK_IMPORTED_MODULE_9__[\"default\"].tree.getTreeNodeHierarchy(treeIdentifier);\n    if (_.isUndefined(parentData.server)) {\n      sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('PSQL Error'), sources_gettext__WEBPACK_IMPORTED_MODULE_13___default()('Please select a server/database object.'));\n      return;\n    }\n    const transId = (0,sources_utils__WEBPACK_IMPORTED_MODULE_1__.getRandomInt)(1, 9999999);\n    let panelTitle = '';\n    // Set psql tab title as per prefrences setting.\n    let title_data = {\n      'database': parentData.database ? _.unescape(parentData.database.label) : 'postgres',\n      'username': parentData.server.user.name,\n      'server': parentData.server.label,\n      'type': 'psql_tool'\n    };\n    let tab_title_placeholder = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState().getPreferencesForModule('browser').psql_tab_title_placeholder;\n    panelTitle = (0,tools_sqleditor_static_js_sqleditor_title__WEBPACK_IMPORTED_MODULE_3__.generateTitle)(tab_title_placeholder, title_data);\n    const [panelUrl, db_label] = this.getPanelUrls(transId, parentData);\n    const open_new_tab = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState().getPreferencesForModule('browser').new_browser_tab_open;\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().Browser.Events.trigger('pgadmin:tool:show', `${_browser_static_js_constants__WEBPACK_IMPORTED_MODULE_4__.BROWSER_PANELS.PSQL_TOOL}_${transId}`, panelUrl, {\n      title: panelTitle,\n      db: db_label\n    }, {\n      title: panelTitle,\n      icon: 'pg-font-icon icon-terminal',\n      manualClose: false,\n      renamable: true\n    }, Boolean(open_new_tab?.includes('psql_tool')));\n    return true;\n  }\n  getPanelUrls(transId, pData) {\n    let openUrl = sources_url_for__WEBPACK_IMPORTED_MODULE_14___default()('psql.panel', {\n      trans_id: transId\n    });\n    const misc_preferences = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getState().getPreferencesForModule('misc');\n    let theme = misc_preferences.theme;\n    openUrl += `?sgid=${pData.server_group._id}` + `&sid=${pData.server._id}` + `&did=${pData.database._id}` + `&server_type=${pData.server.server_type}` + `&theme=${theme}`;\n    if (pData.database?._id) {\n      openUrl += `&db=${encodeURIComponent(pData.database._label)}`;\n    } else {\n      openUrl += `&db=${''}`;\n    }\n    return [openUrl, pData.database._label];\n  }\n  async loadComponent(container, params) {\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default().Browser.keyboardNavigation.init();\n    await (0,_preferences_static_js_store__WEBPACK_IMPORTED_MODULE_5__.listenPreferenceBroadcast)();\n    const root = react_dom_client__WEBPACK_IMPORTED_MODULE_20__.createRoot(container);\n    root.render(/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(_static_js_Theme__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_11__.PgAdminProvider, {\n      value: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default())\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(_static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(_static_js_helpers_Notifier__WEBPACK_IMPORTED_MODULE_16__.NotifierProvider, {\n      pgAdmin: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default()),\n      pgWindow: sources_window__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default().createElement(_components_PsqlComponent__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      params: params,\n      pgAdmin: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_8___default())\n    })))));\n  }\n}\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Psql, \"instance\", void 0);\n\n//# sourceURL=webpack:///./pgadmin/tools/psql/static/js/PsqlModule.js?");

/***/ }),

/***/ "./pgadmin/tools/psql/static/js/components/PsqlComponent.jsx":
/*!*******************************************************************!*\
  !*** ./pgadmin/tools/psql/static/js/components/PsqlComponent.jsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PsqlComponent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/styles/useTheme.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _xterm_xterm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @xterm/xterm */ \"./node_modules/@xterm/xterm/lib/xterm.js\");\n/* harmony import */ var _xterm_xterm__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_xterm_xterm__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @xterm/addon-fit */ \"./node_modules/@xterm/addon-fit/lib/addon-fit.js\");\n/* harmony import */ var _xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @xterm/addon-web-links */ \"./node_modules/@xterm/addon-web-links/lib/addon-web-links.js\");\n/* harmony import */ var _xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _xterm_addon_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @xterm/addon-search */ \"./node_modules/@xterm/addon-search/lib/addon-search.js\");\n/* harmony import */ var _xterm_addon_search__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_xterm_addon_search__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var socketio__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! socketio */ \"./node_modules/socket.io-client/dist/socket.io.js\");\n/* harmony import */ var socketio__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(socketio__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _static_js_clipboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../static/js/clipboard */ \"./pgadmin/static/js/clipboard.js\");\n/* harmony import */ var pgadmin_browser_keyboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pgadmin.browser.keyboard */ \"./pgadmin/browser/static/js/keyboard.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_9__);\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Root = (0,_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(() => ({\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  flexGrow: '1',\n  tabIndex: '0'\n}));\nfunction psql_socket_io(socket, is_enable, sid, db, server_type, fitAddon, term, role) {\n  // Listen all the socket events emit from server.\n  let init_psql = true;\n  socket.on('pty-output', function (data) {\n    if (data.error) {\n      term.write('\\r\\n');\n    }\n    term.write(data.result);\n    if (data.error) {\n      term.write('\\r\\n');\n    }\n    if (init_psql && data && role) {\n      // setting role if available\n      socket.emit('socket_set_role', {\n        'role': _.unescape(role)\n      });\n      init_psql = false;\n    }\n  });\n  // Connect socket\n  socket.on('connect', () => {\n    if (is_enable) {\n      socket.emit('start_process', {\n        'sid': sid,\n        'db': db,\n        'stype': server_type\n      });\n    }\n    fitAddon.fit();\n    socket.emit('resize', {\n      'cols': term.cols,\n      'rows': term.rows\n    });\n  });\n  socket.on('conn_error', response => {\n    term.write(response.error);\n    fitAddon.fit();\n    socket.emit('resize', {\n      'cols': term.cols,\n      'rows': term.rows\n    });\n  });\n  socket.on('conn_not_allow', () => {\n    term.write('PSQL connection not allowed');\n    fitAddon.fit();\n    socket.emit('resize', {\n      'cols': term.cols,\n      'rows': term.rows\n    });\n  });\n  socket.on('disconnect-psql', () => {\n    socket.emit('server-disconnect', {\n      'sid': sid\n    });\n    term.write('\\r\\nServer disconnected, Connection terminated, To create new connection please open another psql tool.');\n  });\n}\nfunction psql_terminal_io(term, socket, platform, pgAdmin) {\n  // Listen key press event from terminal and emit socket event.\n  term.attachCustomKeyEventHandler(e => {\n    e.stopPropagation();\n    if (e.type == 'keydown' && (e.metaKey || e.ctrlKey) && (e.key == 'c' || e.key == 'C')) {\n      let selected_text = term.getSelection();\n      navigator.permissions.query({\n        name: 'clipboard-write'\n      }).then(function (result) {\n        if (result.state === 'granted' || result.state === 'prompt') {\n          (0,_static_js_clipboard__WEBPACK_IMPORTED_MODULE_7__.copyToClipboard)(selected_text);\n        } else {\n          pgAdmin.Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Clipboard write permission required'), sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('To copy data from PSQL terminal, Clipboard write permission required.'));\n        }\n      });\n    } else {\n      self.pgAdmin.Browser.keyboardNavigation.triggerIframeEventsBroadcast(e, true);\n    }\n    return !(e.ctrlKey && platform == 'win32');\n  });\n  term.textarea.addEventListener('paste', function () {\n    navigator.permissions.query({\n      name: 'clipboard-read'\n    }).then(function (result) {\n      if (result.state === 'granted' || result.state === 'prompt') {\n        navigator.clipboard.readText().then(clipText => {\n          let selected_text = clipText;\n          if (selected_text.length > 0) {\n            socket.emit('socket_input', {\n              'input': selected_text,\n              'key_name': 'paste'\n            });\n          }\n        });\n      } else {\n        pgAdmin.Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Clipboard read permission required'), sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('To paste data on the PSQL terminal, Clipboard read permission required.'));\n      }\n    });\n  });\n  term.onKey(function (ev) {\n    socket.emit('socket_input', {\n      'input': ev.key,\n      'key_name': ev.domEvent.code\n    });\n  });\n}\nfunction psql_Addon(term) {\n  const fitAddon = new _xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3__.FitAddon();\n  term.loadAddon(fitAddon);\n  term.loadAddon(new _xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_4__.WebLinksAddon());\n  term.loadAddon(new _xterm_addon_search__WEBPACK_IMPORTED_MODULE_5__.SearchAddon());\n  fitAddon.fit();\n  term.resize(15, 50);\n  fitAddon.fit();\n  return fitAddon;\n}\nfunction psql_socket() {\n  return (0,socketio__WEBPACK_IMPORTED_MODULE_6__.io)('/pty', {\n    path: `${sources_url_for__WEBPACK_IMPORTED_MODULE_1___default()('pgadmin.root')}/socket.io`,\n    pingTimeout: 120000,\n    pingInterval: 25000\n  });\n}\nfunction PsqlComponent(_ref) {\n  let {\n    params,\n    pgAdmin\n  } = _ref;\n  const theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"])();\n  const termRef = react__WEBPACK_IMPORTED_MODULE_0___default().useRef(null);\n  const containerRef = react__WEBPACK_IMPORTED_MODULE_0___default().useRef(null);\n  const initializePsqlTool = params => {\n    const term = new _xterm_xterm__WEBPACK_IMPORTED_MODULE_2__.Terminal({\n      cursorBlink: true,\n      scrollback: 5000\n    });\n    /* Addon for fitAddon, webLinkAddon, SearchAddon */\n    const fitAddon = psql_Addon(term);\n    term.open(containerRef.current);\n\n    /*  Socket */\n    const socket = psql_socket();\n    psql_socket_io(socket, params.is_enable, params.sid, params.db, params.server_type, fitAddon, term, params.role);\n    psql_terminal_io(term, socket, params.platform, pgAdmin);\n\n    /*  Set terminal size */\n    setTimeout(function () {\n      socket.emit('resize', {\n        'cols': term.cols,\n        'rows': term.rows\n      });\n    }, 1000);\n    return [term, socket];\n  };\n  const setTheme = () => {\n    if (termRef.current) {\n      termRef.current.options.theme = {\n        background: theme.palette.background.default,\n        foreground: theme.palette.text.primary,\n        cursor: theme.palette.text.primary,\n        cursorAccent: theme.palette.text.primary,\n        selectionBackground: `${theme.otherVars.editor.selectionBg}`\n      };\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const [term, socket] = initializePsqlTool(params);\n    termRef.current = term;\n    setTheme();\n    termRef.current.focus();\n    termRef.current.focus();\n    return () => {\n      term.dispose();\n      socket.disconnect();\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setTheme();\n  }, [theme]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Root, {\n    ref: containerRef\n  });\n}\nPsqlComponent.propTypes = {\n  params: prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({\n    is_enable: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),\n    sid: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string)]).isRequired,\n    db: prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_13___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string)]).isRequired,\n    server_type: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),\n    role: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),\n    platform: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string)\n  }),\n  pgAdmin: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object).isRequired\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/psql/static/js/components/PsqlComponent.jsx?");

/***/ }),

/***/ "./pgadmin/tools/psql/static/js/index.js":
/*!***********************************************!*\
  !*** ./pgadmin/tools/psql/static/js/index.js ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var top_browser_static_js_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! top/browser/static/js/browser */ \"./pgadmin/browser/static/js/browser.js\");\n/* harmony import */ var _PsqlModule__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PsqlModule */ \"./pgadmin/tools/psql/static/js/PsqlModule.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nif (!(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools)) {\n  (sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools) = {};\n}\n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools).Psql = _PsqlModule__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance((sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default()), top_browser_static_js_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nmodule.exports = {\n  Psql: _PsqlModule__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/psql/static/js/index.js?");

/***/ }),

/***/ "pgadmin.browser.endpoints":
/*!********************************************!*\
  !*** external "pgadmin.browser.endpoints" ***!
  \********************************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_pgadmin_browser_endpoints__;

/***/ }),

/***/ "translations":
/*!*******************************!*\
  !*** external "translations" ***!
  \*******************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_translations__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/harmony module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.hmd = (module) => {
/******/ 			module = Object.create(module);
/******/ 			if (!module.children) module.children = [];
/******/ 			Object.defineProperty(module, 'exports', {
/******/ 				enumerable: true,
/******/ 				set: () => {
/******/ 					throw new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);
/******/ 				}
/******/ 			});
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"psql_tool": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk"] = self["webpackChunk"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./pgadmin/tools/psql/static/js/index.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	__webpack_exports__ = __webpack_exports__["default"];
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});;
//# sourceMappingURL=../../../psql_tool.js.map