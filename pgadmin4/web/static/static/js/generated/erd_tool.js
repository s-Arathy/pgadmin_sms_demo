/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
define(["pgadmin.browser.endpoints","translations"], (__WEBPACK_EXTERNAL_MODULE_pgadmin_browser_endpoints__, __WEBPACK_EXTERNAL_MODULE_translations__) => { return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/static/img/schema.svg":
/*!***************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/static/img/schema.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZlZTt9LmNscy0ye2ZpbGw6I2JkNDk0OTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmNvbGwtc2NoZW1hPC90aXRsZT48ZyBpZD0iXzIiIGRhdGEtbmFtZT0iMiI+PHJlY3QgY2xhc3M9ImNscy0xIiB4PSI0LjA1IiB5PSI0LjA1IiB3aWR0aD0iNy44OSIgaGVpZ2h0PSI3Ljg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMy4zMSA4KSByb3RhdGUoLTQ1KSIvPjxwYXRoIGNsYXNzPSJjbHMtMiIgZD0iTTgsM2w1LDVMOCwxMywzLDgsOCwzTTgsMS44OSwxLjg5LDgsOCwxNC4xMSwxNC4xMSw4LDgsMS44OVoiLz48cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjYuNDQiIHk9IjYuNDQiIHdpZHRoPSIzLjExIiBoZWlnaHQ9IjMuMTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5LjMxIDgpIHJvdGF0ZSgxMzUpIi8+PC9nPjwvc3ZnPg0K\";\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/static/img/schema.svg?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/img/column.svg":
/*!******************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/img/column.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2UxZmZmOTt9LmNscy0ye2ZpbGw6bm9uZTtzdHJva2U6I2FlY2VjODtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjAuNzVweDt9LmNscy0ze2ZpbGw6IzE2YTA4NTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmNvbHVtbjwvdGl0bGU+PGcgaWQ9Il8yIiBkYXRhLW5hbWU9IjIiPjxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iNS4zIiB5PSIyLjE1IiB3aWR0aD0iNS40IiBoZWlnaHQ9IjExLjciIHJ4PSIxIiByeT0iMSIvPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNzUiIHkxPSI4IiB4Mj0iMTAuMjUiIHkyPSI4Ii8+PGxpbmUgY2xhc3M9ImNscy0yIiB4MT0iNS43NSIgeTE9IjEwLjciIHgyPSIxMC4yNSIgeTI9IjEwLjciLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik02LDUuODNsMy45LDBWMTNhLjE1LjE1LDAsMCwxLS4xNS4xNUg2LjJBLjE1LjE1LDAsMCwxLDYsMTNWNS44M001LjMsNS4wOFYxM2EuOS45LDAsMCwwLC45LjlIOS44YS45LjksMCwwLDAsLjktLjlWNS4xbC01LjQsMFoiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik05LjgsMi45QS4xNS4xNSwwLDAsMSwxMCwzVjVINlYzQS4xNS4xNSwwLDAsMSw2LjIsMi45SDkuOG0wLS43NUg2LjJhLjkuOSwwLDAsMC0uOS45djIuN2g1LjRWM2EuOS45LDAsMCwwLS45LS45WiIvPjwvZz48L3N2Zz4NCg==\";\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/img/column.svg?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui.js":
/*!*******************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ColumnSchema),\n/* harmony export */   getNodeColumnSchema: () => (/* binding */ getNodeColumnSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var top_browser_server_groups_servers_static_js_variable_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! top/browser/server_groups/servers/static/js/variable.ui */ \"./pgadmin/browser/server_groups/servers/static/js/variable.ui.js\");\n/* harmony import */ var top_browser_server_groups_servers_static_js_sec_label_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! top/browser/server_groups/servers/static/js/sec_label.ui */ \"./pgadmin/browser/server_groups/servers/static/js/sec_label.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _static_js_validators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../../../../static/js/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var _static_js_privilege_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../static/js/privilege.ui */ \"./pgadmin/browser/server_groups/servers/static/js/privilege.ui.js\");\n/* harmony import */ var _static_js_node_ajax__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../../../static/js/node_ajax */ \"./pgadmin/browser/static/js/node_ajax.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\nfunction getNodeColumnSchema(treeNodeInfo, itemNodeData, pgBrowser) {\n  return new ColumnSchema(privileges => (0,_static_js_privilege_ui__WEBPACK_IMPORTED_MODULE_7__.getNodePrivilegeRoleSchema)(this, treeNodeInfo, itemNodeData, privileges), treeNodeInfo, () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_8__.getNodeAjaxOptions)('get_types', pgBrowser.Nodes['table'], treeNodeInfo, itemNodeData, {\n    cacheLevel: 'table'\n  }), () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_8__.getNodeAjaxOptions)('get_collations', pgBrowser.Nodes['collation'], treeNodeInfo, itemNodeData));\n}\nclass ColumnSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(getPrivilegeRoleSchema, nodeInfo, cltypeOptions, collspcnameOptions) {\n    let inErd = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    super({\n      name: undefined,\n      attowner: undefined,\n      atttypid: undefined,\n      attnum: undefined,\n      cltype: undefined,\n      collspcname: undefined,\n      attacl: undefined,\n      description: undefined,\n      parent_tbl: undefined,\n      min_val_attlen: undefined,\n      min_val_attprecision: undefined,\n      max_val_attlen: undefined,\n      max_val_attprecision: undefined,\n      edit_types: undefined,\n      is_primary_key: false,\n      inheritedfrom: undefined,\n      attstattarget: undefined,\n      attnotnull: false,\n      attlen: null,\n      attprecision: null,\n      attidentity: 'a',\n      attoptions: [],\n      seqincrement: undefined,\n      seqstart: undefined,\n      seqmin: undefined,\n      seqmax: undefined,\n      seqcache: undefined,\n      seqcycle: undefined,\n      colconstype: 'n',\n      genexpr: undefined\n    });\n    this.getPrivilegeRoleSchema = getPrivilegeRoleSchema;\n    this.nodeInfo = nodeInfo;\n    this.cltypeOptions = cltypeOptions;\n    this.collspcnameOptions = collspcnameOptions;\n    this.inErd = inErd;\n    this.datatypes = [];\n  }\n  get idAttribute() {\n    return 'attnum';\n  }\n  inSchemaWithColumnCheck(state) {\n    // disable all fields if column is listed under view or mview\n    if (this.nodeInfo && ('view' in this.nodeInfo && this.nodeInfo?.server?.version < 130000 || 'mview' in this.nodeInfo)) {\n      return true;\n    }\n    if (this.nodeInfo && 'schema' in this.nodeInfo) {\n      if (this.isNew(state)) {\n        return false;\n      }\n\n      // We will disable control if it's system columns\n      // inheritedfrom check is useful when we use this schema in table node\n      // inheritedfrom has value then we should disable it\n      if (!(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.inheritedfrom)) {\n        return true;\n      }\n\n      // ie: it's position is less than 1\n      return !(!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(state.attnum) && state.attnum > 0);\n    }\n    return false;\n  }\n  editableCheckForTable(state) {\n    return !this.inSchemaWithColumnCheck(state);\n  }\n\n  // Check whether the column is identity column or not\n  isIdentityColumn(state) {\n    let isIdentity = state.attidentity;\n    return !(!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(isIdentity) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isNull(isIdentity) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isEmpty(isIdentity));\n  }\n\n  // Check whether the column is a identity column\n  isTypeIdentity(state) {\n    let colconstype = state.colconstype;\n    return !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(colconstype) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isNull(colconstype) && colconstype == 'i';\n  }\n\n  // Check whether the column is a generated column\n  isTypeGenerated(state) {\n    let colconstype = state.colconstype;\n    return !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(colconstype) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isNull(colconstype) && colconstype == 'g';\n  }\n\n  // We will check if we are under schema node & in 'create' mode\n  inSchemaWithModelCheck(state) {\n    if (this.nodeInfo && 'schema' in this.nodeInfo) {\n      // We will disable control if it's in 'edit' mode\n      return !this.isNew(state);\n    }\n    return true;\n  }\n  attlenRange(state) {\n    for (let o of this.datatypes) {\n      if (state.cltype == o.value) {\n        if (o.length) return {\n          min: o.min_val || 0,\n          max: o.max_val\n        };\n      }\n    }\n    return null;\n  }\n  attprecisionRange(state) {\n    for (let o of this.datatypes) {\n      if (state.cltype == o.value) {\n        // PostgreSQL allows negative precision\n        if (o.precision) return {\n          min: -o.max_val,\n          max: o.max_val\n        };\n      }\n    }\n    return null;\n  }\n  attCell(state) {\n    return {\n      cell: this.attlenRange(state) ? 'int' : ''\n    };\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name'),\n      cell: 'text',\n      type: 'text',\n      readonly: obj.inSchemaWithColumnCheck,\n      editable: this.editableCheckForTable,\n      noEmpty: true,\n      width: 115\n    }, {\n      // Need to show this field only when creating new table\n      // [in SubNode control]\n      id: 'is_primary_key',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Primary key?'),\n      cell: 'switch',\n      type: 'switch',\n      width: 100,\n      enableResizing: false,\n      deps: ['name', ['primary_key']],\n      visible: () => {\n        return obj.top?.nodeInfo && lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.nodeInfo['table'] || obj.top.nodeInfo['view'] || obj.top?.nodeInfo['mview']);\n      },\n      readonly: state => {\n        // Disable it, when one of this:\n        // - Primary key already exist\n        // - Table is a partitioned table\n        if (obj.top && (!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.sessData['oid']) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.sessData['primary_key']) && obj.top.sessData['primary_key'].length > 0 && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.sessData['primary_key'][0]['oid']) || 'is_partitioned' in obj.top.sessData && obj.top.sessData['is_partitioned'] && obj.getServerVersion() < 11000)) {\n          return true;\n        }\n        let name = state.name;\n        return !obj.inSchemaWithColumnCheck(state) && (lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(name) || lodash__WEBPACK_IMPORTED_MODULE_5___default().isNull(name) || name == '');\n      },\n      editable: function (state) {\n        // If primary key already exist then disable.\n        if (obj.top && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.sessData['oid']) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.sessData['primary_key']) && obj.top.sessData['primary_key'].length > 0 && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj.top.sessData['primary_key'][0]['oid'])) {\n          return false;\n        }\n\n        // If table is partitioned table then disable\n        if (obj.top && 'is_partitioned' in obj.top.sessData && obj.top.sessData['is_partitioned'] && obj.getServerVersion() < 11000) {\n          return false;\n        }\n        return !obj.inSchemaWithColumnCheck(state);\n      }\n    }, {\n      id: 'attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Position'),\n      cell: 'text',\n      type: 'text',\n      disabled: this.inCatalog,\n      mode: ['properties']\n    }, {\n      id: 'cltype',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Data type'),\n      readonly: obj.inSchemaWithColumnCheck,\n      width: 150,\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      noEmpty: true,\n      editable: this.editableCheckForTable,\n      options: this.cltypeOptions,\n      optionsLoaded: options => {\n        obj.datatypes = options;\n      },\n      type: state => {\n        return {\n          type: 'select',\n          options: this.cltypeOptions,\n          controlProps: {\n            allowClear: false,\n            filter: options => {\n              let result = options;\n              let edit_types = state?.edit_types || [];\n              if (!obj.isNew(state) && !this.inErd) {\n                result = lodash__WEBPACK_IMPORTED_MODULE_5___default().filter(options, o => edit_types.indexOf(o.value) > -1);\n              }\n              return result;\n            }\n          }\n        };\n      },\n      cell: row => {\n        return {\n          cell: 'select',\n          options: this.cltypeOptions,\n          controlProps: {\n            allowClear: false,\n            filter: options => {\n              let result = options;\n              let edit_types = row?.edit_types || [];\n              if (!obj.isNew(row) && !this.inErd) {\n                result = lodash__WEBPACK_IMPORTED_MODULE_5___default().filter(options, o => edit_types.indexOf(o.value) > -1);\n              }\n              return result;\n            }\n          }\n        };\n      }\n    }, {\n      /* This field is required to send it to back end */\n      id: 'inheritedid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()(''),\n      type: 'text',\n      visible: false\n    }, {\n      // Need to show this field only when creating new table [in SubNode control]\n      id: 'inheritedfrom',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Inherited from table'),\n      type: 'text',\n      readonly: true,\n      editable: false,\n      visible: function () {\n        if (this.nodeInfo) {\n          return lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(this.nodeInfo['table'] || this.nodeInfo['view'] || this.nodeInfo['mview']);\n        }\n        return false;\n      }\n    }, {\n      id: 'attlen',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Length/Precision'),\n      deps: ['cltype'],\n      type: 'int',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      width: 120,\n      enableResizing: false,\n      cell: state => {\n        return obj.attCell(state);\n      },\n      depChange: state => {\n        let range = this.attlenRange(state);\n        if (range) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            min_val_attlen: range.min,\n            max_val_attlen: range.max\n          });\n        } else {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            attlen: null\n          });\n        }\n      },\n      disabled: function (state) {\n        return !obj.attlenRange(state);\n      },\n      editable: function (state) {\n        // inheritedfrom has value then we should disable it\n        if (!(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.inheritedfrom)) {\n          return false;\n        }\n        return Boolean(obj.attlenRange(state));\n      }\n    }, {\n      id: 'min_val_attlen',\n      skipChange: true,\n      visible: false,\n      type: ''\n    }, {\n      id: 'max_val_attlen',\n      skipChange: true,\n      visible: false,\n      type: ''\n    }, {\n      id: 'attprecision',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Scale'),\n      width: 60,\n      enableResizing: false,\n      deps: ['cltype'],\n      type: 'int',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      cell: state => {\n        return obj.attCell(state);\n      },\n      depChange: state => {\n        let range = this.attprecisionRange(state);\n        if (range) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            min_val_attprecision: range.min,\n            max_val_attprecision: range.max\n          });\n        } else {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            attprecision: null\n          });\n        }\n      },\n      disabled: function (state) {\n        return !this.attprecisionRange(state);\n      },\n      editable: function (state) {\n        // inheritedfrom has value then we should disable it\n        if (!(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.inheritedfrom)) {\n          return false;\n        }\n        return Boolean(this.attprecisionRange(state));\n      }\n    }, {\n      id: 'min_val_attprecision',\n      skipChange: true,\n      visible: false,\n      type: ''\n    }, {\n      id: 'max_val_attprecision',\n      skipChange: true,\n      visible: false,\n      type: ''\n    }, {\n      id: 'attcompression',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Compression'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      type: 'select',\n      deps: ['cltype'],\n      controlProps: {\n        placeholder: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Select compression'),\n        allowClear: false\n      },\n      options: [{\n        label: 'PGLZ',\n        value: 'pglz'\n      }, {\n        label: 'LZ4',\n        value: 'lz4'\n      }],\n      disabled: function (state) {\n        return !obj.attlenRange(state);\n      },\n      depChange: state => {\n        if (!obj.attlenRange(state)) {\n          return {\n            attcompression: ''\n          };\n        }\n      },\n      min_version: 140000\n    }, {\n      id: 'collspcname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Collation'),\n      cell: 'select',\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['cltype'],\n      options: this.collspcnameOptions,\n      disabled: state => {\n        for (let o of this.datatypes) {\n          if (state.cltype == o.value) {\n            if (o.is_collatable) return false;\n          }\n        }\n        return true;\n      },\n      depChange: state => {\n        for (let o of this.datatypes) {\n          if (state.cltype == o.value) {\n            if (o.is_collatable) return {};\n          }\n        }\n        return {\n          collspcname: null\n        };\n      }\n    }, {\n      id: 'attstattarget',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Statistics'),\n      cell: 'text',\n      type: 'text',\n      readonly: obj.inSchemaWithColumnCheck,\n      mode: ['properties', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition')\n    }, {\n      id: 'attstorage',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Storage'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      type: 'select',\n      mode: ['properties', 'edit', 'create'],\n      cell: 'select',\n      readonly: obj.inSchemaWithColumnCheck,\n      controlProps: {\n        placeholder: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Select storage'),\n        allowClear: false\n      },\n      options: function () {\n        let options = [{\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('PLAIN'),\n          value: 'p'\n        }, {\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('MAIN'),\n          value: 'm'\n        }, {\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('EXTERNAL'),\n          value: 'e'\n        }, {\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('EXTENDED'),\n          value: 'x'\n        }];\n        if (obj.getServerVersion() >= 160000) {\n          options.push({\n            label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('DEFAULT'),\n            value: 'd'\n          });\n        }\n        return options;\n      },\n      visible: state => {\n        if (obj.getServerVersion() >= 160000) {\n          return true;\n        } else if (obj.isNew(state)) {\n          return false;\n        } else {\n          return true;\n        }\n      }\n    }, {\n      id: 'defval',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Default'),\n      cell: 'text',\n      type: 'text',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      deps: ['cltype', 'colconstype'],\n      readonly: obj.inSchemaWithColumnCheck,\n      disabled: function (state) {\n        let isDisabled = ['serial', 'bigserial', 'smallserial'].indexOf(state.cltype) > -1;\n        isDisabled = isDisabled || state.colconstype != 'n';\n        return isDisabled;\n      },\n      depChange: state => {\n        let isDisabled = false;\n        if (!obj.inSchemaWithModelCheck(state)) {\n          isDisabled = ['serial', 'bigserial', 'smallserial'].indexOf(state.cltype) > -1;\n        }\n        isDisabled = isDisabled || state.colconstype != 'n';\n        if (isDisabled && obj.isNew(state)) {\n          return {\n            defval: undefined\n          };\n        }\n      },\n      editable: function (state) {\n        // inheritedfrom has value then we should disable it\n        return !(!(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.inheritedfrom) || !this.editableCheckForTable(state));\n      }\n    }, {\n      id: 'attnotnull',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Not NULL?'),\n      cell: 'switch',\n      type: 'switch',\n      width: 80,\n      enableResizing: false,\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      editable: this.editableCheckForTable,\n      deps: ['colconstype'],\n      readonly: state => {\n        return obj.inSchemaWithColumnCheck(state);\n      },\n      depChange: state => {\n        if (state.colconstype == 'i') {\n          return {\n            attnotnull: true\n          };\n        }\n      }\n    }, {\n      id: 'colconstype',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Type'),\n      cell: 'text',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      type: state => {\n        let options = [{\n          'label': sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('NONE'),\n          'value': 'n'\n        }, {\n          'label': sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('IDENTITY'),\n          'value': 'i'\n        }];\n        if (this.getServerVersion() >= 120000) {\n          // You can't change the existing column to Generated column.\n          if (this.isNew(state)) {\n            options.push({\n              'label': sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('GENERATED'),\n              'value': 'g'\n            });\n          } else {\n            options.push({\n              'label': sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('GENERATED'),\n              'value': 'g',\n              'disabled': true\n            });\n          }\n        }\n        return {\n          type: 'toggle',\n          options: options\n        };\n      },\n      disabled: function (state) {\n        return !this.isNew(state) && state.colconstype == 'g';\n      },\n      min_version: 100000\n    }, {\n      id: 'attidentity',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Identity'),\n      cell: 'select',\n      type: 'select',\n      controlProps: {\n        placeholder: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Select identity'),\n        allowClear: false\n      },\n      min_version: 100000,\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      options: [{\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('ALWAYS'),\n        value: 'a'\n      }, {\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('BY DEFAULT'),\n        value: 'd'\n      }],\n      deps: ['colconstype'],\n      visible: this.isTypeIdentity,\n      disabled: false\n    }, {\n      id: 'seqincrement',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Increment'),\n      type: 'int',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      min: 1,\n      deps: ['attidentity', 'colconstype'],\n      disabled: this.isIdentityColumn,\n      visible: this.isTypeIdentity\n    }, {\n      id: 'seqstart',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Start'),\n      type: 'int',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      disabled: this.isIdentityColumn,\n      deps: ['attidentity', 'colconstype'],\n      visible: this.isTypeIdentity\n    }, {\n      id: 'seqmin',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Minimum'),\n      type: 'int',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      deps: ['attidentity', 'colconstype'],\n      disabled: this.isIdentityColumn,\n      visible: this.isTypeIdentity\n    }, {\n      id: 'seqmax',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Maximum'),\n      type: 'int',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      deps: ['attidentity', 'colconstype'],\n      disabled: this.isIdentityColumn,\n      visible: this.isTypeIdentity\n    }, {\n      id: 'seqcache',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Cache'),\n      type: 'int',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      min: 1,\n      deps: ['attidentity', 'colconstype'],\n      disabled: this.isIdentityColumn,\n      visible: this.isTypeIdentity\n    }, {\n      id: 'seqcycle',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Cycled'),\n      type: 'switch',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      deps: ['attidentity', 'colconstype'],\n      disabled: this.isIdentityColumn,\n      visible: this.isTypeIdentity\n    }, {\n      id: 'genexpr',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Expression'),\n      type: 'text',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      min_version: 120000,\n      deps: ['colconstype'],\n      visible: this.isTypeGenerated,\n      readonly: function (state) {\n        return !this.isNew(state);\n      }\n    }, {\n      id: 'is_pk',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Primary key?'),\n      type: 'switch',\n      mode: ['properties'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition')\n    }, {\n      id: 'is_fk',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Foreign key?'),\n      type: 'switch',\n      mode: ['properties'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition')\n    }, {\n      id: 'is_inherited',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Inherited?'),\n      type: 'switch',\n      mode: ['properties'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition')\n    }, {\n      id: 'tbls_inherited',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Inherited from table(s)'),\n      type: 'text',\n      mode: ['properties'],\n      deps: ['is_inherited'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      visible: function (state) {\n        return !lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(state.is_inherited) && state.is_inherited;\n      }\n    }, {\n      id: 'is_sys_column',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('System column?'),\n      cell: 'text',\n      type: 'switch',\n      mode: ['properties']\n    }, {\n      id: 'description',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Comment'),\n      cell: 'text',\n      type: 'multiline',\n      mode: ['properties', 'create', 'edit'],\n      disabled: this.inCatalog\n    }, {\n      id: 'attoptions',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Variables'),\n      type: 'collection',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Variables'),\n      schema: new top_browser_server_groups_servers_static_js_variable_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"]([{\n        label: 'n_distinct',\n        value: 'n_distinct',\n        vartype: 'string'\n      }, {\n        label: 'n_distinct_inherited',\n        value: 'n_distinct_inherited',\n        vartype: 'string'\n      }], null, null, ['name', 'value']),\n      uniqueCol: ['name'],\n      mode: ['edit', 'create'],\n      canAdd: true,\n      canEdit: false,\n      canDelete: true\n    }, {\n      id: 'security',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Security'),\n      type: 'group',\n      visible: !this.inErd\n    }, {\n      id: 'attacl',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Privileges'),\n      type: 'collection',\n      group: 'security',\n      schema: this.getPrivilegeRoleSchema(['a', 'r', 'w', 'x']),\n      mode: ['edit'],\n      canAdd: true,\n      canDelete: true,\n      uniqueCol: ['grantee']\n    }, {\n      id: 'seclabels',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Security labels'),\n      canAdd: true,\n      schema: new top_browser_server_groups_servers_static_js_sec_label_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"](),\n      group: 'security',\n      mode: ['edit', 'create'],\n      editable: false,\n      type: 'collection',\n      min_version: 90100,\n      canEdit: false,\n      canDelete: true,\n      uniqueCol: ['provider']\n    }];\n  }\n  validate(state, setError) {\n    let msg;\n    if (!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(state.cltype) && !(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.attlen)) {\n      // Validation for Length field\n      if (state.attlen < state.min_val_attlen) msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Length/Precision should not be less than: ') + state.min_val_attlen;\n      if (state.attlen > state.max_val_attlen) msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Length/Precision should not be greater than: ') + state.max_val_attlen;\n      // If we have any error set then throw it to user\n      if (msg) {\n        setError('attlen', msg);\n        return true;\n      }\n    }\n    if (!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(state.cltype) && !(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.attprecision)) {\n      // Validation for precision field\n      if (state.attprecision < state.min_val_attprecision) msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Scale should not be less than: ') + state.min_val_attprecision;\n      if (state.attprecision > state.max_val_attprecision) msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Scale should not be greater than: ') + state.max_val_attprecision;\n      // If we have any error set then throw it to user\n      if (msg) {\n        setError('attprecision', msg);\n        return true;\n      }\n    }\n    if (state.colconstype == 'g' && (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.genexpr)) {\n      msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Expression value cannot be empty.');\n      setError('genexpr', msg);\n      return true;\n    }\n    if (!this.isNew(state) && state.colconstype == 'i' && (this.origData.attidentity == 'a' || this.origData.attidentity == 'd') && (state.attidentity == 'a' || state.attidentity == 'd')) {\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.seqincrement)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Increment value cannot be empty.');\n        setError('seqincrement', msg);\n        return true;\n      }\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.seqmin)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Minimum value cannot be empty.');\n        setError('seqmin', msg);\n        return true;\n      }\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.seqmax)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Maximum value cannot be empty.');\n        setError('seqmax', msg);\n        return true;\n      }\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.seqcache)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Cache value cannot be empty.');\n        setError('seqcache', msg);\n        return true;\n      }\n    }\n    if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.seqmin) || (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_6__.isEmptyString)(state.seqmax)) return false;\n    if (state.seqmin == 0 && state.seqmax == 0 || parseInt(state.seqmin, 10) >= parseInt(state.seqmax, 10)) {\n      setError('seqmin', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Minimum value must be less than maximum value.'));\n      return true;\n    }\n    if (state.seqstart && state.seqmin && parseInt(state.seqstart) < parseInt(state.seqmin)) {\n      setError('seqstart', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Start value cannot be less than minimum value.'));\n      return true;\n    }\n    if (state.seqstart && state.seqmax && parseInt(state.seqstart) > parseInt(state.seqmax)) {\n      setError('seqstart', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Start value cannot be greater than maximum value.'));\n      return true;\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/check_constraint/static/js/check_constraint.ui.js":
/*!**************************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/check_constraint/static/js/check_constraint.ui.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CheckConstraintSchema)\n/* harmony export */ });\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nclass CheckConstraintSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor() {\n    super({\n      name: undefined,\n      oid: undefined,\n      description: undefined,\n      consrc: undefined,\n      connoinherit: undefined,\n      convalidated: true\n    });\n  }\n  get idAttribute() {\n    return 'oid';\n  }\n  get inTable() {\n    if (lodash__WEBPACK_IMPORTED_MODULE_2___default().isUndefined(this.nodeInfo)) {\n      return true;\n    }\n    return lodash__WEBPACK_IMPORTED_MODULE_2___default().isUndefined(this.nodeInfo['check_constraint']);\n  }\n  isReadonly(state) {\n    // If we are in table edit mode then\n    if (this.top) {\n      return !lodash__WEBPACK_IMPORTED_MODULE_2___default().isUndefined(state.oid);\n    }\n    return !this.isNew(state);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Name'),\n      type: 'text',\n      cell: 'text',\n      mode: ['properties', 'create', 'edit'],\n      editable: true\n    }, {\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('OID'),\n      cell: 'text',\n      type: 'text',\n      mode: ['properties']\n    }, {\n      id: 'is_sys_obj',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('System check constraint?'),\n      cell: 'boolean',\n      type: 'switch',\n      mode: ['properties']\n    }, {\n      id: 'comment',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Comment'),\n      type: 'multiline',\n      cell: 'text',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['name'],\n      disabled: function (state) {\n        return (0,sources_validators__WEBPACK_IMPORTED_MODULE_3__.isEmptyString)(state.name);\n      },\n      depChange: state => {\n        if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_3__.isEmptyString)(state.name)) {\n          return {\n            comment: ''\n          };\n        }\n      }\n    }, {\n      id: 'consrc',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Check'),\n      type: 'multiline',\n      cell: 'text',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Definition'),\n      mode: ['properties', 'create', 'edit'],\n      readonly: obj.isReadonly,\n      noEmpty: true,\n      editable: state => {\n        return obj.isNew(state);\n      }\n    }, {\n      id: 'connoinherit',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('No inherit?'),\n      type: 'switch',\n      cell: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Definition'),\n      mode: ['properties', 'create', 'edit'],\n      min_version: 90200,\n      deps: [['is_partitioned']],\n      disabled: function () {\n        // Disabled if table is a partitioned table.\n        return obj.inTable && obj.top?.sessData.is_partitioned;\n      },\n      depChange: () => {\n        if (obj.inTable && obj.top?.sessData.is_partitioned) {\n          return {\n            connoinherit: false\n          };\n        }\n      },\n      readonly: obj.isReadonly\n    }, {\n      id: 'convalidated',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Don\\'t validate?'),\n      type: 'switch',\n      cell: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Definition'),\n      min_version: 90200,\n      readonly: state => {\n        // If we are in table edit mode then\n        if (obj.inTable && obj.top && !obj.top.isNew()) {\n          return !(lodash__WEBPACK_IMPORTED_MODULE_2___default().isUndefined(state.oid) || state.convalidated);\n        }\n        return !obj.isNew(state) && !obj.origData.convalidated;\n      },\n      mode: ['properties', 'create', 'edit']\n    }];\n  }\n  validate() {\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/check_constraint/static/js/check_constraint.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/exclusion_constraint/static/js/exclusion_constraint.ui.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/exclusion_constraint/static/js/exclusion_constraint.ui.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ExclusionConstraintSchema),\n/* harmony export */   getNodeExclusionConstraintSchema: () => (/* binding */ getNodeExclusionConstraintSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var sources_SchemaView_DataGridView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/SchemaView/DataGridView */ \"./pgadmin/static/js/SchemaView/DataGridView/index.js\");\n/* harmony import */ var _static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../../../../static/js/node_ajax */ \"./pgadmin/browser/static/js/node_ajax.js\");\n/* harmony import */ var _static_js_table_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_9__);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\nfunction getData(data) {\n  let res = [];\n  if (data && lodash__WEBPACK_IMPORTED_MODULE_3___default().isArray(data)) {\n    lodash__WEBPACK_IMPORTED_MODULE_3___default().each(data, function (d) {\n      res.push({\n        label: d[0],\n        value: d[1]\n      });\n    });\n  }\n  return res;\n}\nfunction getNodeExclusionConstraintSchema(treeNodeInfo, itemNodeData, pgBrowser) {\n  let noColumns = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  let tableNode = pgBrowser.Nodes['table'];\n  return new ExclusionConstraintSchema({\n    columns: noColumns ? [] : () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeListByName)('column', treeNodeInfo, itemNodeData, {\n      includeItemKeys: ['datatype']\n    }),\n    amname: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeAjaxOptions)('get_access_methods', tableNode, treeNodeInfo, itemNodeData),\n    spcname: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeListByName)('tablespace', treeNodeInfo, itemNodeData, {}, m => {\n      return m.label != 'pg_global';\n    }),\n    getOperClass: urlParams => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeAjaxOptions)('get_oper_class', tableNode, treeNodeInfo, itemNodeData, {\n      urlParams: urlParams,\n      useCache: false\n    }, data => {\n      return getData(data);\n    }),\n    getOperator: urlParams => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeAjaxOptions)('get_operator', tableNode, treeNodeInfo, itemNodeData, {\n      urlParams: urlParams,\n      useCache: false\n    }, data => {\n      return getData(data);\n    })\n  }, treeNodeInfo);\n}\nclass ExclusionColHeaderSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(columns) {\n    super({\n      is_exp: undefined,\n      column: undefined,\n      expression: undefined,\n      columns_updated_at: 0\n    });\n    this.columns = columns;\n  }\n  changeColumnOptions(columns) {\n    this.columns = columns;\n    if (this.state) this.state.data = _objectSpread(_objectSpread({}, this.state.data), {}, {\n      columns_updated_at: Date.now()\n    });\n  }\n  addDisabled(state) {\n    return !(state.is_exp ? state.expression : state.column);\n  }\n\n  /* Data to ExclusionColumnSchema will added using the header form */\n  getNewData(data) {\n    const column = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(this.columnOptions, col => col.value == data.column);\n    return this.exColumnSchema.getNewData({\n      is_exp: data.is_exp,\n      column: data.is_exp ? data.expression : data.column,\n      col_type: data.is_exp ? null : column?.datatype\n    });\n  }\n  get baseFields() {\n    return [{\n      id: 'is_exp',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Is expression'),\n      type: 'switch',\n      editable: false\n    }, {\n      id: 'column',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Column'),\n      editable: false,\n      options: this.columns,\n      deps: ['is_exp', 'columns_updated_at'],\n      type: () => ({\n        type: 'select',\n        optionsReloadBasis: this.columns?.map ? lodash__WEBPACK_IMPORTED_MODULE_3___default().join(this.columns.map(c => c.label), ',') : null,\n        optionsLoaded: res => this.columnOptions = res\n      }),\n      disabled: state => state.is_exp\n    }, {\n      id: 'expression',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Expression'),\n      editable: false,\n      deps: ['is_exp'],\n      type: 'text',\n      disabled: state => !state.is_exp\n    }];\n  }\n}\nclass ExclusionColumnSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(getOperator) {\n    super({\n      column: undefined,\n      is_exp: false,\n      oper_class: undefined,\n      order: false,\n      nulls_order: false,\n      operator: undefined,\n      col_type: undefined,\n      is_sort_nulls_applicable: false\n    });\n    this.operClassOptions = [];\n    this.operatorOptions = [];\n    this.getOperator = getOperator;\n    this.isNewExCons = true;\n    this.amname = null;\n  }\n  isEditable() {\n    if (!this.isNewExCons) {\n      return false;\n    } else if (this.amname === 'btree') {\n      return true;\n    }\n    return false;\n  }\n  setOperClassOptions(options) {\n    this.operClassOptions = options;\n  }\n  changeDefaults(data) {\n    this.defaultColVals = data;\n  }\n  getNewData(data) {\n    return _objectSpread(_objectSpread({}, super.getNewData(data)), this.defaultColVals);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'is_exp',\n      label: '',\n      type: '',\n      cell: '',\n      editable: false,\n      width: 20,\n      enableResizing: false,\n      controlProps: {\n        formatter: {\n          fromRaw: function (rawValue) {\n            return rawValue ? 'E' : 'C';\n          }\n        }\n      },\n      visible: false\n    }, {\n      id: 'column',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Col/Exp'),\n      type: '',\n      editable: false,\n      cell: '',\n      width: 125\n    }, {\n      id: 'oper_class',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Operator class'),\n      cell: 'select',\n      options: this.operClassOptions,\n      width: 185,\n      editable: obj.isEditable,\n      controlProps: {\n        allowClear: true,\n        placeholder: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Select the operator class')\n      }\n    }, {\n      id: 'order',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Order'),\n      type: 'select',\n      cell: 'select',\n      options: [{\n        label: 'ASC',\n        value: true\n      }, {\n        label: 'DESC',\n        value: false\n      }],\n      editable: obj.isEditable,\n      width: 110,\n      enableResizing: false,\n      controlProps: {\n        allowClear: false\n      }\n    }, {\n      id: 'nulls_order',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('NULLs order'),\n      type: 'select',\n      cell: 'select',\n      options: [{\n        label: 'FIRST',\n        value: true\n      }, {\n        label: 'LAST',\n        value: false\n      }],\n      controlProps: {\n        allowClear: false\n      },\n      editable: obj.isEditable,\n      width: 110,\n      enableResizing: false\n    }, {\n      id: 'operator',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Operator'),\n      type: 'select',\n      width: 95,\n      editable: function () {\n        return obj.isNewExCons;\n      },\n      cell: state => {\n        return {\n          cell: 'select',\n          options: () => obj.getOperator({\n            col_type: state.col_type\n          }),\n          controlProps: {\n            allowClear: false\n          }\n        };\n      }\n    }];\n  }\n}\nclass ExclusionConstraintSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let nodeInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super({\n      name: undefined,\n      oid: undefined,\n      is_sys_obj: undefined,\n      comment: undefined,\n      spcname: undefined,\n      amname: 'gist',\n      fillfactor: undefined,\n      condeferrable: undefined,\n      condeferred: undefined,\n      columns: [],\n      include: [],\n      columns_updated_at: 0\n    });\n    this.nodeInfo = nodeInfo;\n    this.fieldOptions = fieldOptions;\n    this.exHeaderSchema = new ExclusionColHeaderSchema(fieldOptions.columns);\n    this.exColumnSchema = new ExclusionColumnSchema(fieldOptions.getOperator);\n    this.exHeaderSchema.exColumnSchema = this.exColumnSchema;\n  }\n  get idAttribute() {\n    return 'oid';\n  }\n  get inTable() {\n    return this.top && this.top instanceof _static_js_table_ui__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n  }\n  initialise(data) {\n    this.exColumnSchema.isNewExCons = this.isNew(data);\n    this.amname = data.amname;\n    if (data.amname === 'btree') {\n      this.exColumnSchema.setOperClassOptions(this.fieldOptions.getOperClass({\n        indextype: data.amname\n      }));\n    }\n  }\n  changeColumnOptions(columns) {\n    this.exHeaderSchema.changeColumnOptions(columns);\n    this.fieldOptions.columns = columns;\n    if (this.state) this.state.data = _objectSpread(_objectSpread({}, this.state.data), {}, {\n      columns_updated_at: Date.now()\n    });\n  }\n  isReadonly(state) {\n    // If we are in table edit mode then\n    if (this.top) {\n      return !lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.oid);\n    }\n    return !this.isNew(state);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name'),\n      type: 'text',\n      cell: 'text',\n      mode: ['properties', 'create', 'edit'],\n      editable: true\n    }, {\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('OID'),\n      cell: 'string',\n      type: 'text',\n      mode: ['properties']\n    }, {\n      id: 'is_sys_obj',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('System exclusion constraint?'),\n      type: 'switch',\n      mode: ['properties']\n    }, {\n      id: 'comment',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Comment'),\n      cell: 'text',\n      type: 'multiline',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['name'],\n      disabled: function (state) {\n        return (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name);\n      },\n      depChange: state => {\n        if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name)) {\n          return {\n            comment: ''\n          };\n        }\n      }\n    }, {\n      id: 'spcname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Tablespace'),\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      controlProps: {\n        allowClear: false\n      },\n      options: this.fieldOptions.spcname\n    }, {\n      id: 'amname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Access method'),\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      options: this.fieldOptions.amname,\n      deferredDepChange: (state, source, topState, actionObj) => {\n        return new Promise(resolve => {\n          sources_pgadmin__WEBPACK_IMPORTED_MODULE_9___default().Browser.notifier.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Change access method?'), sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Changing access method will clear columns collection'), function () {\n            if (state.amname == 'btree' || (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.amname)) {\n              let indextype = 'btree';\n              obj.exColumnSchema.setOperClassOptions(obj.fieldOptions.getOperClass({\n                indextype: indextype\n              }));\n              obj.exColumnSchema.changeDefaults({\n                order: true,\n                nulls_order: true,\n                is_sort_nulls_applicable: true\n              });\n            } else {\n              obj.exColumnSchema.setOperClassOptions([]);\n              obj.exColumnSchema.changeDefaults({\n                order: false,\n                nulls_order: false,\n                is_sort_nulls_applicable: false\n              });\n            }\n            obj.exColumnSchema.amname = state.amname;\n            resolve(() => ({\n              columns: []\n            }));\n          }, function () {\n            resolve(() => {\n              return {\n                amname: actionObj.oldState.amname\n              };\n            });\n          });\n        });\n      },\n      controlProps: {\n        allowClear: true\n      },\n      readonly: obj.isReadonly\n    }, {\n      id: 'fillfactor',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Fill factor'),\n      type: 'int',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      allowNull: true\n    }, {\n      id: 'condeferrable',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferrable?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: obj.isReadonly\n    }, {\n      id: 'condeferred',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferred?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['condeferrable'],\n      disabled: function (state) {\n        // Disable if condeferred is false or unselected.\n        return !state.condeferrable;\n      },\n      readonly: obj.isReadonly,\n      depChange: state => {\n        if (!state.condeferrable) {\n          return {\n            condeferred: false\n          };\n        }\n      }\n    }, {\n      id: 'indconstraint',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraint'),\n      cell: 'text',\n      type: 'multiline',\n      mode: ['create', 'edit', 'properties'],\n      editable: false,\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: obj.isReadonly\n    }, {\n      id: 'columns',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns/Expressions'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      type: 'collection',\n      mode: ['create', 'edit', 'properties'],\n      editable: false,\n      schema: this.exColumnSchema,\n      headerSchema: this.exHeaderSchema,\n      headerFormVisible: state => obj.isNew(state),\n      GridHeader: sources_SchemaView_DataGridView__WEBPACK_IMPORTED_MODULE_6__.DataGridFormHeader,\n      uniqueCol: ['column'],\n      canAdd: state => obj.isNew(state),\n      canDelete: function (state) {\n        // We can't update columns of existing\n        return obj.isNew(state);\n      },\n      readonly: obj.isReadonly,\n      cell: () => ({\n        cell: '',\n        controlProps: {\n          formatter: {\n            fromRaw: rawValue => {\n              return lodash__WEBPACK_IMPORTED_MODULE_3___default().map(rawValue || [], 'column').join(', ');\n            }\n          }\n        },\n        width: 245\n      }),\n      deps: () => {\n        let ret = [];\n        if (obj.inTable) {\n          ret.push(['columns']);\n        }\n        return ret;\n      },\n      depChange: (state, source, topState, actionObj) => {\n        /* If in table, sync up value with columns in table */\n        if (obj.inTable && !state) {\n          /* the constraint is removed by some other dep, this can be a no-op */\n          return;\n        }\n        let currColumns = state.columns || [];\n        if (obj.inTable && source[0] == 'columns') {\n          if (actionObj.type == sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.DELETE_ROW) {\n            let column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, actionObj.path.concat(actionObj.value));\n            currColumns = lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(currColumns, cc => cc.column != column.name);\n          } else if (actionObj.type == sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.SET_VALUE) {\n            let tabColPath = lodash__WEBPACK_IMPORTED_MODULE_3___default().slice(actionObj.path, 0, -1);\n            let column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, tabColPath);\n            let idx = lodash__WEBPACK_IMPORTED_MODULE_3___default().findIndex(currColumns, cc => cc.column == column.name);\n            if (idx > -1) {\n              currColumns[idx].column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(topState, tabColPath).name;\n            }\n          }\n        }\n        return {\n          columns: currColumns\n        };\n      }\n    }, {\n      id: 'include',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Include columns'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      type: () => ({\n        type: 'select',\n        options: this.fieldOptions.columns,\n        optionsReloadBasis: this.fieldOptions.columns?.map ? lodash__WEBPACK_IMPORTED_MODULE_3___default().join(this.fieldOptions.columns.map(c => c.label), ',') : null,\n        controlProps: {\n          multiple: true\n        }\n      }),\n      editable: false,\n      canDelete: true,\n      canAdd: true,\n      mode: ['properties', 'create', 'edit'],\n      min_version: 110000,\n      deps: ['index', 'columns_updated_at'],\n      readonly: function () {\n        if (!obj.isNew()) {\n          return true;\n        }\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            include: []\n          };\n        }\n      }\n    }, {\n      // Don't include this in the data.\n      id: 'columns_updated_at',\n      exclude: true,\n      type: 'text',\n      visible: false\n    }];\n  }\n  validate(state, setError) {\n    if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.columns) || lodash__WEBPACK_IMPORTED_MODULE_3___default().isNull(state.columns) || state.columns.length < 1) {\n      setError('columns', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify columns for exclusion constraint.'));\n      return true;\n    }\n    if (this.isNew(state)) {\n      if (state.autoindex && (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.coveringindex)) {\n        setError('coveringindex', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify covering index name.'));\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/exclusion_constraint/static/js/exclusion_constraint.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/img/foreign_key.svg":
/*!***************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/img/foreign_key.svg ***!
  \***************************************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2YyZjJmMjtzdHJva2U6Izc5Nzk3OTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjAuNzVweDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmZvcmVpZ25fa2V5PC90aXRsZT48ZyBpZD0iXzIiIGRhdGEtbmFtZT0iMiI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTEuNDEsMy40MUEyLjY5LDIuNjksMCwwLDAsNy4wNyw2LjQ4TDIuODUsMTAuNzVBLjkuOSwwLDAsMCw0LjEyLDEybC43Ny0uOEw3LDEyLjQ2bC0uOTItMi4zMkw4LDEwLjY2LDcuMDcsOSw4LjM0LDcuNzVhMi42OSwyLjY5LDAsMCwwLDMuMDctNC4zNFoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xMi42Miw0LjMzQTIuNjksMi42OSwwLDAsMCw4LjI5LDcuNEw0LjA3LDExLjY3YS45LjksMCwxLDAsMS4yNywxLjI3bC43Ny0uOCwyLjEyLDEuMjQtLjkyLTIuMzIsMS44Ny41Mkw4LjI5LDkuOTMsOS41Niw4LjY3YTIuNjksMi42OSwwLDAsMCwzLjA3LTQuMzRaTTExLjM0LDYuODlhLjkuOSwwLDEsMSwwLTEuMjdBLjkuOSwwLDAsMSwxMS4zNCw2Ljg5WiIvPjwvZz48L3N2Zz4NCg==\";\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/img/foreign_key.svg?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui.js":
/*!****************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForeignKeyColumnSchema: () => (/* binding */ ForeignKeyColumnSchema),\n/* harmony export */   \"default\": () => (/* binding */ ForeignKeySchema),\n/* harmony export */   getNodeForeignKeySchema: () => (/* binding */ getNodeForeignKeySchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var sources_SchemaView_DataGridView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/SchemaView/DataGridView */ \"./pgadmin/static/js/SchemaView/DataGridView/index.js\");\n/* harmony import */ var _static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../../../../static/js/node_ajax */ \"./pgadmin/browser/static/js/node_ajax.js\");\n/* harmony import */ var _static_js_table_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\nfunction getNodeForeignKeySchema(treeNodeInfo, itemNodeData, pgBrowser) {\n  let noColumns = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  let initData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  return new ForeignKeySchema({\n    local_column: noColumns ? [] : () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeListByName)('column', treeNodeInfo, itemNodeData),\n    references: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeAjaxOptions)('all_tables', pgBrowser.Nodes['table'], treeNodeInfo, itemNodeData, {\n      cacheLevel: 'server'\n    }, rows => {\n      return rows.map(r => ({\n        'value': r.value,\n        'image': 'icon-table',\n        'label': r.label,\n        oid: r.oid\n      }));\n    })\n  }, treeNodeInfo, params => {\n    return (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_7__.getNodeAjaxOptions)('get_columns', pgBrowser.Nodes['table'], treeNodeInfo, itemNodeData, {\n      urlParams: params,\n      useCache: false\n    }, rows => {\n      return rows.map(r => ({\n        'value': r.name,\n        'image': 'icon-column',\n        'label': r.name\n      }));\n    });\n  }, initData);\n}\nclass ForeignKeyHeaderSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(fieldOptions, getColumns) {\n    super({\n      local_column: undefined,\n      references: undefined,\n      referenced: undefined,\n      _disable_references: false,\n      columns_updated_at: 0\n    });\n    this.fieldOptions = fieldOptions;\n    this.getColumns = getColumns;\n  }\n  changeColumnOptions(columns) {\n    this.fieldOptions.local_column = columns;\n    if (this.state) this.state.data = _objectSpread(_objectSpread({}, this.state.data), {}, {\n      columns_updated_at: Date.now()\n    });\n  }\n  addDisabled(state) {\n    return !(state.local_column && (state.references || this.origData.references) && state.referenced);\n  }\n\n  /* Data to ForeignKeyColumnSchema will added using the header form */\n  getNewData(data) {\n    let references_table_name = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(this.refTables, t => t.value == data.references || t.value == this.origData.references)?.label;\n    return {\n      local_column: data.local_column,\n      referenced: data.referenced,\n      references: data.references,\n      references_table_name: references_table_name\n    };\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'local_column',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local column'),\n      editable: false,\n      deps: ['columns_updated_at'],\n      type: () => ({\n        type: 'select',\n        options: this.fieldOptions.local_column,\n        optionsReloadBasis: this.fieldOptions.local_column?.map ? lodash__WEBPACK_IMPORTED_MODULE_3___default().join(this.fieldOptions.local_column.map(c => c.label), ',') : null\n      })\n    }, {\n      id: 'references',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('References'),\n      type: 'select',\n      editable: false,\n      options: this.fieldOptions.references,\n      optionsReloadBasis: this.fieldOptions.references?.map ? lodash__WEBPACK_IMPORTED_MODULE_3___default().join(this.fieldOptions.references.map(c => c.label), ',') : null,\n      optionsLoaded: rows => obj.refTables = rows,\n      disabled: state => {\n        return state._disable_references;\n      }\n    }, {\n      id: 'referenced',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referencing'),\n      editable: false,\n      deps: ['references'],\n      type: state => {\n        return {\n          type: 'select',\n          options: state.references ? () => this.getColumns({\n            tid: state.references\n          }) : [],\n          optionsReloadBasis: state.references\n        };\n      }\n    }, {\n      id: '_disable_references',\n      label: '',\n      type: 'switch',\n      visible: false\n    }];\n  }\n}\nclass ForeignKeyColumnSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    super({\n      local_column: undefined,\n      referenced: undefined,\n      references: undefined,\n      references_table_name: undefined\n    });\n  }\n  get baseFields() {\n    return [{\n      id: 'local_column',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local'),\n      type: 'text',\n      editable: false,\n      cell: ''\n    }, {\n      id: 'referenced',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced'),\n      type: 'text',\n      editable: false,\n      cell: ''\n    }, {\n      id: 'references_table_name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Table'),\n      type: 'text',\n      editable: false,\n      cell: ''\n    }];\n  }\n}\nclass ForeignKeySchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let nodeInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let getColumns = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : () => [];\n    let initValues = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    let inErd = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    super(_objectSpread({\n      name: undefined,\n      reftab: undefined,\n      oid: undefined,\n      is_sys_obj: undefined,\n      comment: undefined,\n      condeferrable: undefined,\n      condeferred: undefined,\n      confmatchtype: false,\n      convalidated: undefined,\n      columns: undefined,\n      confupdtype: 'a',\n      confdeltype: 'a',\n      autoindex: true,\n      coveringindex: undefined,\n      hasindex: undefined\n    }, initValues));\n    this.nodeInfo = nodeInfo;\n    this.fkHeaderSchema = new ForeignKeyHeaderSchema(fieldOptions, getColumns);\n    this.fkHeaderSchema.fkObj = this;\n    this.fkColumnSchema = new ForeignKeyColumnSchema();\n    this.inErd = inErd;\n  }\n  get idAttribute() {\n    return 'oid';\n  }\n  get inTable() {\n    return this.top && this.top instanceof _static_js_table_ui__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n  }\n  changeColumnOptions(columns) {\n    this.fkHeaderSchema.changeColumnOptions(columns);\n  }\n  isReadonly(state) {\n    // If we are in table edit mode then\n    if (this.top) {\n      return !lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.oid);\n    }\n    return !this.isNew(state);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name'),\n      type: 'text',\n      cell: 'text',\n      mode: ['properties', 'create', 'edit'],\n      editable: true\n    }, {\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('OID'),\n      cell: 'string',\n      type: 'text',\n      mode: ['properties']\n    }, {\n      id: 'is_sys_obj',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('System foreign key?'),\n      type: 'switch',\n      mode: ['properties']\n    }, {\n      id: 'comment',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Comment'),\n      cell: 'text',\n      type: 'multiline',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['name'],\n      disabled: function (state) {\n        return (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name);\n      },\n      depChange: state => {\n        if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name)) {\n          return {\n            comment: ''\n          };\n        }\n      }\n    }, {\n      id: 'condeferrable',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferrable?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: obj.isReadonly\n    }, {\n      id: 'condeferred',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferred?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['condeferrable'],\n      disabled: function (state) {\n        // Disable if condeferred is false or unselected.\n        return !state.condeferrable;\n      },\n      readonly: obj.isReadonly,\n      depChange: state => {\n        if (!state.condeferrable) {\n          return {\n            condeferred: false\n          };\n        }\n      }\n    }, {\n      id: 'confmatchtype',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Match type'),\n      type: 'toggle',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      options: [{\n        label: 'FULL',\n        value: true\n      }, {\n        label: 'SIMPLE',\n        value: false\n      }],\n      readonly: obj.isReadonly\n    }, {\n      id: 'convalidated',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Validated?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: state => {\n        if (!obj.isNew(state)) {\n          let origData = {};\n          if (obj.inTable && obj.top) {\n            origData = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(obj.top.origData['foreign_key'], r => r.cid == state.cid);\n          } else {\n            origData = obj.origData;\n          }\n          return origData.convalidated;\n        }\n        return false;\n      }\n    }, {\n      id: 'autoindex',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Auto FK index?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['name', 'hasindex'],\n      readonly: state => {\n        if (!obj.isNew(state)) {\n          return true;\n        }\n        // If we are in table edit mode then\n        return state.hasindex;\n      },\n      depChange: (state, source, topState, actionObj) => {\n        if (!obj.isNew(state)) {\n          return {};\n        }\n        // If we are in table edit mode\n        if (obj.inTable && !this.inErd) {\n          if (obj.isNew(state) && obj.top.isNew()) {\n            return {\n              autoindex: false,\n              coveringindex: ''\n            };\n          }\n        }\n        let oldindex;\n        if (obj.inTable) {\n          let oldFk = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, lodash__WEBPACK_IMPORTED_MODULE_3___default().slice(actionObj.path, 0, -1));\n          oldindex = 'fki_' + oldFk.name;\n        } else {\n          oldindex = 'fki_' + actionObj.oldState.name;\n        }\n        if (state.hasindex) {\n          return {};\n        } else if (!state.autoindex) {\n          return {\n            coveringindex: ''\n          };\n        } else if (state.autoindex && !(0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name) && ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.coveringindex) || oldindex == state.coveringindex)) {\n          return {\n            coveringindex: 'fki_' + state.name\n          };\n        }\n      }\n    }, {\n      id: 'coveringindex',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Covering index'),\n      type: 'text',\n      mode: ['properties', 'create', 'edit'],\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['autoindex', 'hasindex'],\n      disabled: state => {\n        return !state.autoindex && !state.hasindex;\n      },\n      readonly: this.isReadonly\n    }, {\n      id: 'references_table_name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Table'),\n      type: 'text',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      editable: false,\n      visible: false,\n      deps: ['columns'],\n      cell: state => ({\n        cell: '',\n        controlProps: {\n          formatter: {\n            fromRaw: () => {\n              if (state.columns?.length > 0) {\n                return lodash__WEBPACK_IMPORTED_MODULE_3___default().join(lodash__WEBPACK_IMPORTED_MODULE_3___default().map(state.columns, 'references_table_name'), ',');\n              }\n              return '';\n            }\n          }\n        }\n      })\n    }, {\n      id: 'columns',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      type: 'collection',\n      mode: ['create', 'edit', 'properties'],\n      editable: false,\n      schema: this.fkColumnSchema,\n      headerSchema: this.fkHeaderSchema,\n      headerFormVisible: state => obj.isNew(state),\n      GridHeader: sources_SchemaView_DataGridView__WEBPACK_IMPORTED_MODULE_6__.DataGridFormHeader,\n      uniqueCol: ['local_column', 'references', 'referenced'],\n      canAdd: state => obj.isNew(state),\n      canDelete: state => obj.isNew(state),\n      readonly: obj.isReadonly,\n      cell: () => ({\n        cell: '',\n        controlProps: {\n          formatter: {\n            fromRaw: rawValue => {\n              let cols = [],\n                remoteCols = [];\n              if (rawValue?.length > 0) {\n                rawValue.forEach(col => {\n                  cols.push(col.local_column);\n                  remoteCols.push(col.referenced);\n                });\n                return '(' + cols.join(', ') + ') -> (' + remoteCols.join(', ') + ')';\n              }\n              return '';\n            }\n          }\n        }\n      }),\n      deps: () => {\n        let ret = [];\n        if (obj.inTable) {\n          ret.push(['columns']);\n        }\n        return ret;\n      },\n      depChange: (state, source, topState, actionObj) => {\n        /* If in table, sync up value with columns in table */\n        if (obj.inTable && !state) {\n          /* the FK is removed by some other dep, this can be a no-op */\n          return;\n        }\n        let currColumns = state.columns || [];\n        if (obj.inTable && source[0] == 'columns') {\n          if (actionObj.type == sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.DELETE_ROW) {\n            let column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, actionObj.path.concat(actionObj.value));\n            currColumns = lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(currColumns, cc => cc.local_column != column.name);\n          } else if (actionObj.type == sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.SET_VALUE) {\n            let tabColPath = lodash__WEBPACK_IMPORTED_MODULE_3___default().slice(actionObj.path, 0, -1);\n            let column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, tabColPath);\n            let idx = lodash__WEBPACK_IMPORTED_MODULE_3___default().findIndex(currColumns, cc => cc.local_column == column.name);\n            if (idx > -1) {\n              currColumns[idx].local_column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(topState, tabColPath).name;\n            }\n          }\n        }\n        if (actionObj.type == sources_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.ADD_ROW) {\n          // Set references value.\n          obj.fkHeaderSchema.origData.references = null;\n          obj.fkHeaderSchema.origData.references = obj.fkHeaderSchema.sessData.references;\n          obj.fkHeaderSchema.origData._disable_references = true;\n        }\n        return {\n          columns: currColumns\n        };\n      }\n    }, {\n      id: 'confupdtype',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('On update'),\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Action'),\n      mode: ['edit', 'create'],\n      controlProps: {\n        allowClear: false\n      },\n      options: [{\n        label: 'NO ACTION',\n        value: 'a'\n      }, {\n        label: 'RESTRICT',\n        value: 'r'\n      }, {\n        label: 'CASCADE',\n        value: 'c'\n      }, {\n        label: 'SET NULL',\n        value: 'n'\n      }, {\n        label: 'SET DEFAULT',\n        value: 'd'\n      }],\n      readonly: obj.isReadonly\n    }, {\n      id: 'confdeltype',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('On delete'),\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Action'),\n      mode: ['edit', 'create'],\n      select2: {\n        allowClear: false\n      },\n      options: [{\n        label: 'NO ACTION',\n        value: 'a'\n      }, {\n        label: 'RESTRICT',\n        value: 'r'\n      }, {\n        label: 'CASCADE',\n        value: 'c'\n      }, {\n        label: 'SET NULL',\n        value: 'n'\n      }, {\n        label: 'SET DEFAULT',\n        value: 'd'\n      }],\n      readonly: obj.isReadonly\n    }];\n  }\n  validate(state, setError) {\n    if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.columns) || lodash__WEBPACK_IMPORTED_MODULE_3___default().isNull(state.columns) || state.columns.length < 1) {\n      setError('columns', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify columns for Foreign key.'));\n      return true;\n    }\n    if (this.isNew(state)) {\n      if (state.autoindex && (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.coveringindex)) {\n        setError('coveringindex', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify covering index name.'));\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/primary_key.svg":
/*!********************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/primary_key.svg ***!
  \********************************************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2Y1ZjQ3ZTtzdHJva2U6I2NhYTUyNDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjAuNzVweDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPnByaW1hcnlfa2V5PC90aXRsZT48ZyBpZD0iXzIiIGRhdGEtbmFtZT0iMiI+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTIuNDYsMy40MUEzLDMsMCwwLDAsNy42NCw2LjgyTDMsMTEuNTZBMSwxLDAsMCwwLDQuMzcsMTNsLjg1LS44OSwyLjM2LDEuMzgtMS0yLjU4LDIuMDguNTgtMS0xLjgzLDEuNDEtMS40YTMsMywwLDAsMCwzLjQxLTQuODJaTTExLDYuMjVhMSwxLDAsMSwxLDAtMS40MUExLDEsMCwwLDEsMTEsNi4yNVoiLz48L2c+PC9zdmc+DQo=\";\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/primary_key.svg?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/unique_constraint.svg":
/*!**************************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/unique_constraint.svg ***!
  \**************************************************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2NiZTdmNjt9LmNscy0xLC5jbHMtMntzdHJva2U6IzJjNjZiZDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLXdpZHRoOjAuNzVweDt9LmNscy0ye2ZvbnQtc2l6ZTo4cHg7ZmlsbDojMmM2NmJkO2ZvbnQtZmFtaWx5Okdlb3JnaWEsIEdlb3JnaWE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT51bmlxdWVfY29uc3RyYWludDwvdGl0bGU+PGcgaWQ9Il8yIiBkYXRhLW5hbWU9IjIiPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iOCIgY3k9IjgiIHI9IjUuNCIvPjx0ZXh0IGNsYXNzPSJjbHMtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi4yOCAxMC4xNykiPjE8L3RleHQ+PC9nPjwvc3ZnPg0K\";\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/unique_constraint.svg?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/primary_key.ui.js":
/*!*********************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/primary_key.ui.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PrimaryKeySchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var _static_js_table_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\nclass PrimaryKeySchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let nodeInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super({\n      name: undefined,\n      oid: undefined,\n      is_sys_obj: undefined,\n      comment: undefined,\n      spcname: undefined,\n      index: undefined,\n      fillfactor: undefined,\n      condeferrable: undefined,\n      condeferred: undefined,\n      columns: [],\n      include: [],\n      columns_updated_at: 0\n    });\n    this.fieldOptions = fieldOptions;\n    this.nodeInfo = nodeInfo;\n  }\n  get idAttribute() {\n    return 'oid';\n  }\n  get inTable() {\n    return this.top && this.top instanceof _static_js_table_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n  }\n  changeColumnOptions(columns) {\n    this.fieldOptions.columns = columns;\n    if (this.state) this.state.data = _objectSpread(_objectSpread({}, this.state.data), {}, {\n      columns_updated_at: Date.now()\n    });\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name'),\n      type: 'text',\n      mode: ['properties', 'create', 'edit'],\n      editable: true,\n      cell: 'text'\n    }, {\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('OID'),\n      cell: 'text',\n      type: 'text',\n      mode: ['properties'],\n      editable: false\n    }, {\n      id: 'is_sys_obj',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('System primary key?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties']\n    }, {\n      id: 'comment',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Comment'),\n      cell: 'multiline',\n      type: 'multiline',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['name'],\n      disabled: state => {\n        return (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name);\n      },\n      depChange: state => {\n        if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name)) {\n          return {\n            comment: ''\n          };\n        }\n      }\n    }, {\n      id: 'columns',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      deps: () => {\n        let ret = ['index', 'columns_updated_at'];\n        if (obj.inTable) {\n          ret.push(['columns']);\n        }\n        return ret;\n      },\n      depChange: (state, source, topState, actionObj) => {\n        /* If in table, sync up value with columns in table */\n        if (obj.inTable && !state) {\n          /* the FK is removed by some other dep, this can be a no-op */\n          return;\n        }\n        let currColumns = state.columns || [];\n        if (obj.inTable && source[0] == 'columns') {\n          if (actionObj.type == _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.DELETE_ROW) {\n            let oldColumn = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, actionObj.path.concat(actionObj.value));\n            currColumns = lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(currColumns, cc => cc.column != oldColumn.name);\n          } else if (actionObj.type == _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.SET_VALUE) {\n            let tabColPath = lodash__WEBPACK_IMPORTED_MODULE_3___default().slice(actionObj.path, 0, -1);\n            let oldCol = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, tabColPath);\n            let idx = lodash__WEBPACK_IMPORTED_MODULE_3___default().findIndex(currColumns, cc => cc.column == oldCol.name);\n            let updatedCol = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(topState, tabColPath);\n            if (idx > -1 && updatedCol.is_primary_key) {\n              currColumns[idx].column = updatedCol.name;\n            }\n          }\n        }\n        return {\n          columns: currColumns\n        };\n      },\n      editable: false,\n      cell: () => ({\n        cell: '',\n        controlProps: {\n          formatter: {\n            fromRaw: backendVal => {\n              /* remove the column key and pass as array */\n              return lodash__WEBPACK_IMPORTED_MODULE_3___default().join((backendVal || []).map(singleVal => singleVal.column));\n            }\n          }\n        }\n      }),\n      type: () => ({\n        type: 'select',\n        optionsReloadBasis: obj.fieldOptions.columns?.map ? lodash__WEBPACK_IMPORTED_MODULE_3___default().join(obj.fieldOptions.columns.map(c => c.label), ',') : null,\n        options: obj.fieldOptions.columns,\n        controlProps: {\n          allowClear: false,\n          multiple: true,\n          formatter: {\n            fromRaw: (backendVal, allOptions) => {\n              /* remove the column key and pass as array */\n              let optValues = (backendVal || []).map(singleVal => singleVal.column);\n              return lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(allOptions, opt => optValues.indexOf(opt.value) > -1);\n            },\n            toRaw: value => {\n              /* take the array and convert to column key collection */\n              return (value || []).map(singleVal => ({\n                column: singleVal.value\n              }));\n            }\n          }\n        }\n      }),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: state => !obj.isNew(state),\n      disabled: state => !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '')\n    }, {\n      id: 'include',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Include columns'),\n      type: () => ({\n        type: 'select',\n        options: this.fieldOptions.columns,\n        controlProps: {\n          multiple: true\n        }\n      }),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      editable: false,\n      canDelete: true,\n      canAdd: true,\n      mode: ['properties', 'create', 'edit'],\n      min_version: 110000,\n      deps: ['index'],\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            include: []\n          };\n        }\n      }\n    }, {\n      id: 'spcname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Tablespace'),\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      options: this.fieldOptions.spcname,\n      deps: ['index'],\n      controlProps: {\n        allowClear: false\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            spcname: ''\n          };\n        }\n      }\n    }, {\n      id: 'index',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Index'),\n      mode: ['create'],\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      options: this.fieldOptions.index,\n      controlProps: {\n        allowClear: true\n      },\n      readonly: function () {\n        if (!obj.isNew()) {\n          return true;\n        }\n      },\n      // We will not show this field in Create Table mode\n      visible: function () {\n        return !obj.inTable;\n      }\n    }, {\n      id: 'fillfactor',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Fill factor'),\n      deps: ['index'],\n      type: 'int',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      min: 10,\n      max: 100,\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            fillfactor: null\n          };\n        }\n      }\n    }, {\n      id: 'condeferrable',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferrable?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['index'],\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            condeferrable: false\n          };\n        }\n      }\n    }, {\n      id: 'condeferred',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferred?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['condeferrable'],\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') || !state.condeferrable;\n      },\n      depChange: state => {\n        if (!state.condeferrable) {\n          return {\n            condeferred: false\n          };\n        } else if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            condeferred: false\n          };\n        }\n      }\n    }];\n  }\n  validate(state, setError) {\n    if (!this.isNew(state) && (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name)) {\n      setError('name', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name cannot be empty in edit mode.'));\n      return true;\n    } else {\n      setError('name', null);\n    }\n    if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.index) && (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.columns) || lodash__WEBPACK_IMPORTED_MODULE_3___default().isNull(state.columns) || state.columns.length < 1)) {\n      setError('columns', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify columns for %s.', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Primary key')));\n      return true;\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/primary_key.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/unique_constraint.ui.js":
/*!***************************************************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/unique_constraint.ui.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UniqueConstraintSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var _static_js_table_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\nclass UniqueConstraintSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let nodeInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super({\n      name: undefined,\n      oid: undefined,\n      is_sys_obj: undefined,\n      comment: undefined,\n      spcname: undefined,\n      index: undefined,\n      fillfactor: undefined,\n      condeferrable: undefined,\n      condeferred: undefined,\n      indnullsnotdistinct: undefined,\n      columns: [],\n      include: [],\n      columns_updated_at: 0\n    });\n    this.fieldOptions = fieldOptions;\n    this.nodeInfo = nodeInfo;\n  }\n  get idAttribute() {\n    return 'oid';\n  }\n  get inTable() {\n    return this.top && this.top instanceof _static_js_table_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n  }\n  changeColumnOptions(columns) {\n    this.fieldOptions.columns = columns;\n    if (this.state) this.state.data = _objectSpread(_objectSpread({}, this.state.data), {}, {\n      columns_updated_at: Date.now()\n    });\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name'),\n      type: 'text',\n      mode: ['properties', 'create', 'edit'],\n      editable: true,\n      cell: 'text'\n    }, {\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('OID'),\n      cell: 'text',\n      type: 'text',\n      mode: ['properties'],\n      editable: false\n    }, {\n      id: 'is_sys_obj',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('System primary key?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties']\n    }, {\n      id: 'comment',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Comment'),\n      cell: 'multiline',\n      type: 'multiline',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['name'],\n      disabled: state => {\n        return (0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name);\n      },\n      depChange: state => {\n        if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.name)) {\n          return {\n            comment: ''\n          };\n        }\n      }\n    }, {\n      id: 'columns',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      deps: () => {\n        let ret = ['index', 'columns_updated_at'];\n        if (obj.inTable) {\n          ret.push(['columns']);\n        }\n        return ret;\n      },\n      depChange: (state, source, topState, actionObj) => {\n        /* If in table, sync up value with columns in table */\n        if (obj.inTable && !state) {\n          /* the FK is removed by some other dep, this can be a no-op */\n          return;\n        }\n        let currColumns = state.columns || [];\n        if (obj.inTable && source[0] == 'columns') {\n          if (actionObj.type == _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.DELETE_ROW) {\n            let oldColumn = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, actionObj.path.concat(actionObj.value));\n            currColumns = lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(currColumns, cc => cc.column != oldColumn.name);\n          } else if (actionObj.type == _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__.SCHEMA_STATE_ACTIONS.SET_VALUE) {\n            let tabColPath = lodash__WEBPACK_IMPORTED_MODULE_3___default().slice(actionObj.path, 0, -1);\n            let oldCol = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(actionObj.oldState, tabColPath);\n            let idx = lodash__WEBPACK_IMPORTED_MODULE_3___default().findIndex(currColumns, cc => cc.column == oldCol.name);\n            if (idx > -1) {\n              currColumns[idx].column = lodash__WEBPACK_IMPORTED_MODULE_3___default().get(topState, tabColPath).name;\n            }\n          }\n        }\n        return {\n          columns: currColumns\n        };\n      },\n      editable: false,\n      cell: () => ({\n        cell: '',\n        controlProps: {\n          formatter: {\n            fromRaw: backendVal => {\n              /* remove the column key and pass as array */\n              return lodash__WEBPACK_IMPORTED_MODULE_3___default().join((backendVal || []).map(singleVal => singleVal.column));\n            }\n          }\n        }\n      }),\n      type: () => ({\n        type: 'select',\n        optionsReloadBasis: obj.fieldOptions.columns?.map ? lodash__WEBPACK_IMPORTED_MODULE_3___default().join(obj.fieldOptions.columns.map(c => c.label), ',') : null,\n        options: obj.fieldOptions.columns,\n        controlProps: {\n          allowClear: false,\n          multiple: true,\n          formatter: {\n            fromRaw: (backendVal, allOptions) => {\n              /* remove the column key and pass as array */\n              let optValues = (backendVal || []).map(singleVal => singleVal.column);\n              return lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(allOptions, opt => optValues.indexOf(opt.value) > -1);\n            },\n            toRaw: value => {\n              /* take the array and convert to column key collection */\n              return (value || []).map(singleVal => ({\n                column: singleVal.value\n              }));\n            }\n          }\n        }\n      }),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: state => obj.isReadOnly(state),\n      disabled: state => !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '')\n    }, {\n      id: 'include',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Include columns'),\n      type: () => ({\n        type: 'select',\n        options: this.fieldOptions.columns,\n        controlProps: {\n          multiple: true\n        }\n      }),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      editable: false,\n      canDelete: true,\n      canAdd: true,\n      mode: ['properties', 'create', 'edit'],\n      min_version: 110000,\n      deps: ['index'],\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            include: []\n          };\n        }\n      }\n    }, {\n      id: 'spcname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Tablespace'),\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      options: this.fieldOptions.spcname,\n      deps: ['index'],\n      controlProps: {\n        allowClear: false\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            spcname: ''\n          };\n        }\n      }\n    }, {\n      id: 'index',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Index'),\n      mode: ['create'],\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      options: this.fieldOptions.index,\n      controlProps: {\n        allowClear: true\n      },\n      readonly: function () {\n        if (!obj.isNew()) {\n          return true;\n        }\n      },\n      // We will not show this field in Create Table mode\n      visible: function () {\n        return !obj.inTable;\n      }\n    }, {\n      id: 'fillfactor',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Fill factor'),\n      deps: ['index'],\n      type: 'int',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            fillfactor: null\n          };\n        }\n      }\n    }, {\n      id: 'condeferrable',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferrable?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['index'],\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '');\n      },\n      depChange: state => {\n        if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            condeferrable: false\n          };\n        }\n      }\n    }, {\n      id: 'condeferred',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Deferred?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      deps: ['condeferrable'],\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      disabled: function (state) {\n        // Disable if index is selected.\n        return !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') || !state.condeferrable;\n      },\n      depChange: state => {\n        if (!state.condeferrable) {\n          return {\n            condeferred: false\n          };\n        } else if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.index) || state.index == '') {\n          return {};\n        } else {\n          return {\n            condeferred: false\n          };\n        }\n      }\n    }, {\n      id: 'indnullsnotdistinct',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('NULLs not distinct?'),\n      type: 'switch',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Definition'),\n      readonly: function (state) {\n        return obj.isReadOnly(state);\n      },\n      min_version: 150000\n    }];\n  }\n  validate(state, setError) {\n    if ((0,sources_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.index) && (lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(state.columns) || lodash__WEBPACK_IMPORTED_MODULE_3___default().isNull(state.columns) || state.columns.length < 1)) {\n      setError('columns', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify columns for %s.', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Unique constraint')));\n      return true;\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/unique_constraint.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/img/table.svg":
/*!*********************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/img/table.svg ***!
  \*********************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2YyZjJmMjt9LmNscy0ye2ZpbGw6IzIxOTVlNzt9LmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6I2MxY2JkNTtzdHJva2UtbGluZWpvaW46cm91bmQ7fS5jbHMtMywuY2xzLTR7c3Ryb2tlLXdpZHRoOjAuNzVweDt9LmNscy00e2ZpbGw6I2RlZjRmZDtzdHJva2U6IzIxOTVlNztzdHJva2UtbWl0ZXJsaW1pdDoxO308L3N0eWxlPjwvZGVmcz48dGl0bGU+dGFibGU8L3RpdGxlPjxnIGlkPSJfMiIgZGF0YS1uYW1lPSIyIj48cmVjdCBjbGFzcz0iY2xzLTEiIHg9IjIuOTIiIHk9IjMuNjUiIHdpZHRoPSIxMC4xNSIgaGVpZ2h0PSI4LjcxIiByeD0iMC41MyIgcnk9IjAuNTMiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xMi41NSw0YS4xNS4xNSwwLDAsMSwuMTUuMTV2Ny42NmEuMTUuMTUsMCwwLDEtLjE1LjE1SDMuNDVhLjE1LjE1LDAsMCwxLS4xNS0uMTVWNC4xN0EuMTUuMTUsMCwwLDEsMy40NSw0aDkuMW0wLS43NUgzLjQ1YS45LjksMCwwLDAtLjkuOXY3LjY2YS45LjksMCwwLDAsLjkuOWg5LjFhLjkuOSwwLDAsMCwuOS0uOVY0LjE3YS45LjksMCwwLDAtLjktLjlaIi8+PGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMy4zMiIgeTE9IjkuNDMiIHgyPSIxMi42OSIgeTI9IjkuNDMiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSI4LjAxIiB5MT0iNy4wOSIgeDI9IjgiIHkyPSIxMS45NyIvPjxsaW5lIGNsYXNzPSJjbHMtNCIgeDE9IjguMDEiIHkxPSI0LjAzIiB4Mj0iOCIgeTI9IjYuNTgiLz48bGluZSBjbGFzcz0iY2xzLTQiIHgxPSIxMi42OCIgeTE9IjYuNzQiIHgyPSIzLjMyIiB5Mj0iNi43NCIvPjwvZz48L3N2Zz4NCg==\";\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/img/table.svg?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/partition.utils.ui.js":
/*!********************************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/partition.utils.ui.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PartitionKeysSchema: () => (/* binding */ PartitionKeysSchema),\n/* harmony export */   PartitionsSchema: () => (/* binding */ PartitionsSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var _static_js_validators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../../static/js/validators */ \"./pgadmin/static/js/validators.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nclass PartitionKeysSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor() {\n    let columns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let getCollations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let getOperatorClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    super({\n      key_type: 'column',\n      columns_updated_at: 0\n    });\n    this.columns = columns;\n    this.columnsReloadBasis = false;\n    this.getCollations = getCollations;\n    this.getOperatorClass = getOperatorClass;\n  }\n  changeColumnOptions(columns) {\n    this.columns = columns;\n    if (this.state) this.state.data = _objectSpread(_objectSpread({}, this.state.data), {}, {\n      columns_updated_at: Date.now()\n    });\n  }\n  isEditable(state) {\n    return state.key_type != 'expression';\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'key_type',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Key type'),\n      type: 'select',\n      editable: true,\n      cell: 'select',\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true,\n      options: [{\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Column'),\n        value: 'column'\n      }, {\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Expression'),\n        value: 'expression'\n      }]\n    }, {\n      id: 'pt_column',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Column'),\n      type: 'select',\n      deps: ['key_type', 'columns_updated_at'],\n      depChange: (state, source) => {\n        if (state.key_type == 'expression' || source[0] == 'columns') {\n          return {\n            pt_column: undefined\n          };\n        }\n      },\n      cell: () => ({\n        cell: 'select',\n        optionsReloadBasis: lodash__WEBPACK_IMPORTED_MODULE_1___default().join(obj.columns.map(c => c.label), ','),\n        options: obj.columns,\n        controlProps: {\n          allowClear: false\n        }\n      }),\n      editable: function (state) {\n        return obj.isEditable(state);\n      }\n    }, {\n      id: 'expression',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Expression'),\n      type: 'text',\n      cell: 'text',\n      deps: ['key_type'],\n      depChange: state => {\n        if (state.key_type == 'column') {\n          return {\n            expression: undefined\n          };\n        }\n      },\n      editable: function (state) {\n        return state.key_type == 'expression';\n      }\n    }, {\n      id: 'collationame',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Collation'),\n      cell: 'select',\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('partition'),\n      deps: ['key_type'],\n      options: obj.getCollations,\n      mode: ['create', 'properties', 'edit'],\n      editable: function (state) {\n        return obj.isEditable(state);\n      },\n      disabled: () => {\n        return !obj.isNew();\n      }\n    }, {\n      id: 'op_class',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Operator class'),\n      cell: 'select',\n      type: 'select',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('partition'),\n      deps: ['key_type'],\n      editable: function (state) {\n        return obj.isEditable(state);\n      },\n      disabled: () => {\n        return !obj.isNew();\n      },\n      options: obj.getOperatorClass,\n      mode: ['create', 'properties', 'edit']\n    }];\n  }\n  validate(state, setError) {\n    let errmsg;\n    if (state.key_type == 'column') {\n      errmsg = (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.emptyValidator)('Partition key column', state.pt_column);\n      if (errmsg) {\n        setError('pt_column', errmsg);\n        return true;\n      }\n    } else {\n      errmsg = (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.emptyValidator)('Partition key expression', state.expression);\n      if (errmsg) {\n        setError('expression', errmsg);\n        return true;\n      }\n    }\n    return false;\n  }\n}\nclass PartitionsSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor(nodeInfo, getCollations, getOperatorClass, table_amname_list) {\n    let getAttachTables = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : () => [];\n    super({\n      oid: undefined,\n      is_attach: false,\n      partition_name: undefined,\n      is_default: undefined,\n      values_from: undefined,\n      values_to: undefined,\n      values_in: undefined,\n      values_modulus: undefined,\n      values_remainder: undefined,\n      is_sub_partitioned: false,\n      sub_partition_type: 'range',\n      amname: undefined\n    });\n    this.subPartitionsObj = new PartitionKeysSchema([], getCollations, getOperatorClass);\n    this.getAttachTables = getAttachTables;\n    this.nodeInfo = nodeInfo;\n    this.table_amname_list = table_amname_list;\n  }\n  changeColumnOptions(columns) {\n    this.subPartitionsObj.changeColumnOptions(columns);\n  }\n  isEditable(state, type) {\n    return this.top && this.top.sessData.partition_type == type && this.isNew(state) && state.is_default !== true;\n  }\n  isDisable(state, type) {\n    return !(this.top && this.top.sessData.partition_type == type && this.isNew(state) && state.is_default !== true);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('OID'),\n      type: 'text',\n      mode: ['properties']\n    }, {\n      id: 'is_attach',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Operation'),\n      cell: 'select',\n      type: 'select',\n      width: 120,\n      enableResizing: false,\n      options: [{\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Attach'),\n        value: true\n      }, {\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Create'),\n        value: false\n      }],\n      controlProps: {\n        allowClear: false\n      },\n      editable: function (state) {\n        return obj.isNew(state) && !obj.top.isNew();\n      },\n      readonly: function (state) {\n        return !(obj.isNew(state) && !obj.top.isNew());\n      }\n    }, {\n      id: 'partition_name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Name'),\n      deps: ['is_attach'],\n      type: state => {\n        if (state.is_attach) {\n          return {\n            type: 'select',\n            options: this.getAttachTables,\n            controlProps: {\n              allowClear: false\n            }\n          };\n        } else {\n          return {\n            type: 'text'\n          };\n        }\n      },\n      cell: state => {\n        if (state.is_attach) {\n          return {\n            cell: 'select',\n            options: this.getAttachTables,\n            controlProps: {\n              allowClear: false\n            }\n          };\n        } else {\n          return {\n            cell: 'text'\n          };\n        }\n      },\n      editable: function (state) {\n        return obj.isNew(state);\n      },\n      readonly: function (state) {\n        return !obj.isNew(state);\n      },\n      noEmpty: true\n    }, {\n      id: 'amname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Access Method'),\n      deps: ['is_sub_partitioned'],\n      cell: 'select',\n      type: state => {\n        return {\n          type: 'select',\n          options: this.table_amname_list,\n          controlProps: {\n            allowClear: obj.isNew(state)\n          }\n        };\n      },\n      min_version: 120000,\n      disabled: state => {\n        if (obj.getServerVersion() < 150000 && !obj.isNew(state)) {\n          return true;\n        }\n        return state.is_sub_partitioned;\n      },\n      depChange: state => {\n        if (state.is_sub_partitioned) {\n          return {\n            amname: undefined\n          };\n        }\n      },\n      readonly: function (state) {\n        return !obj.isNew(state);\n      }\n    }, {\n      id: 'is_default',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Default'),\n      type: 'switch',\n      cell: 'switch',\n      width: 55,\n      enableResizing: false,\n      min_version: 110000,\n      editable: function (state) {\n        return obj.top && (obj.top.sessData.partition_type == 'range' || obj.top.sessData.partition_type == 'list') && obj.isNew(state) && obj.getServerVersion() >= 110000;\n      },\n      readonly: function (state) {\n        return !(obj.top && (obj.top.sessData.partition_type == 'range' || obj.top.sessData.partition_type == 'list') && obj.isNew(state) && obj.getServerVersion() >= 110000);\n      }\n    }, {\n      id: 'values_from',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('From'),\n      type: 'text',\n      cell: 'text',\n      deps: ['is_default'],\n      editable: function (state) {\n        return obj.isEditable(state, 'range');\n      },\n      disabled: function (state) {\n        return obj.isDisable(state, 'range');\n      }\n    }, {\n      id: 'values_to',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('To'),\n      type: 'text',\n      cell: 'text',\n      deps: ['is_default'],\n      editable: function (state) {\n        return obj.isEditable(state, 'range');\n      },\n      disabled: function (state) {\n        return obj.isDisable(state, 'range');\n      }\n    }, {\n      id: 'values_in',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('In'),\n      type: 'text',\n      cell: 'text',\n      deps: ['is_default'],\n      editable: function (state) {\n        return obj.isEditable(state, 'list');\n      },\n      readonly: function (state) {\n        return obj.isDisable(state, 'list');\n      }\n    }, {\n      id: 'values_modulus',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Modulus'),\n      type: 'int',\n      cell: 'int',\n      editable: function (state) {\n        return obj.isEditable(state, 'hash');\n      },\n      disabled: function (state) {\n        return obj.isDisable(state, 'hash');\n      }\n    }, {\n      id: 'values_remainder',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Remainder'),\n      type: 'int',\n      cell: 'int',\n      editable: function (state) {\n        return obj.top && obj.top.sessData.partition_type == 'hash' && obj.isNew(state);\n      },\n      disabled: function (state) {\n        return !(obj.top && obj.top.sessData.partition_type == 'hash' && obj.isNew(state) && state.is_default !== true);\n      }\n    }, {\n      id: 'is_sub_partitioned',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Partitioned table?'),\n      cell: 'switch',\n      group: 'Partition',\n      type: 'switch',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['is_attach'],\n      readonly: state => {\n        if (!obj.isNew(state)) {\n          return true;\n        }\n        return state.is_attach;\n      },\n      depChange: state => {\n        if (state.is_attach) {\n          return {\n            is_sub_partitioned: false\n          };\n        }\n      }\n    }, {\n      id: 'sub_partition_type',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Partition Type'),\n      editable: false,\n      type: 'select',\n      controlProps: {\n        allowClear: false\n      },\n      group: 'Partition',\n      deps: ['is_sub_partitioned'],\n      options: function () {\n        let options = [{\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Range'),\n          value: 'range'\n        }, {\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('List'),\n          value: 'list'\n        }];\n        if (obj.getServerVersion() >= 110000) {\n          options.push({\n            label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Hash'),\n            value: 'hash'\n          });\n        }\n        return Promise.resolve(options);\n      },\n      visible: state => obj.isNew(state),\n      readonly: state => !obj.isNew(state),\n      disabled: state => !state.is_sub_partitioned\n    }, {\n      id: 'sub_partition_keys',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Partition Keys'),\n      schema: this.subPartitionsObj,\n      editable: true,\n      type: 'collection',\n      group: 'Partition',\n      mode: ['properties', 'create', 'edit'],\n      deps: ['is_sub_partitioned', 'sub_partition_type', ['typname']],\n      canEdit: false,\n      canDelete: true,\n      canAdd: function (state) {\n        return obj.isNew(state) && state.is_sub_partitioned;\n      },\n      canAddRow: function (state) {\n        let columnsExist = false;\n        let columns = obj.top.sessData.columns;\n        let maxRowCount = 1000;\n        if (state.sub_partition_type && state.sub_partition_type == 'list') maxRowCount = 1;\n        if (columns?.length > 0) {\n          columnsExist = lodash__WEBPACK_IMPORTED_MODULE_1___default().some(lodash__WEBPACK_IMPORTED_MODULE_1___default().map(columns, 'name'));\n        }\n        if (state.sub_partition_keys) {\n          return state.sub_partition_keys.length < maxRowCount && columnsExist;\n        }\n        return true;\n      },\n      depChange: (state, source, topState, actionObj) => {\n        if (topState.typname != actionObj.oldState.typname) {\n          return {\n            sub_partition_keys: []\n          };\n        }\n      },\n      visible: state => obj.isNew(state)\n    }, {\n      id: 'sub_partition_scheme',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Partition Scheme'),\n      group: 'Partition',\n      mode: ['edit'],\n      type: state => ({\n        type: 'note',\n        text: state.sub_partition_scheme\n      }),\n      visible: function (state) {\n        return obj.isNew(state) && !(0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.sub_partition_scheme);\n      }\n    }];\n  }\n  validate(state, setError) {\n    let msg;\n    if (state.is_sub_partitioned && this.isNew(state) && (!state.sub_partition_keys || state.sub_partition_keys && state.sub_partition_keys.length <= 0)) {\n      msg = sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Please specify at least one key for partitioned table.');\n      setError('sub_partition_keys', msg);\n      return true;\n    }\n    let partitionType = this.top.sessData.partition_type;\n    if (partitionType === 'range') {\n      if (!state.is_default && (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.values_from)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('For range partition From field cannot be empty.');\n        setError('values_from', msg);\n        return true;\n      } else if (!state.is_default && (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.values_to)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('For range partition To field cannot be empty.');\n        setError('values_to', msg);\n        return true;\n      }\n    } else if (partitionType === 'list') {\n      if (!state.is_default && (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.values_in)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('For list partition In field cannot be empty.');\n        setError('values_in', msg);\n        return true;\n      }\n    } else if (partitionType === 'hash') {\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.values_modulus)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('For hash partition Modulus field cannot be empty.');\n        setError('values_modulus', msg);\n        return true;\n      }\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(state.values_remainder)) {\n        msg = sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('For hash partition Remainder field cannot be empty.');\n        setError('values_remainder', msg);\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/partition.utils.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js":
/*!**********************************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConstraintsSchema: () => (/* binding */ ConstraintsSchema),\n/* harmony export */   LikeSchema: () => (/* binding */ LikeSchema),\n/* harmony export */   \"default\": () => (/* binding */ TableSchema),\n/* harmony export */   getNodeTableSchema: () => (/* binding */ getNodeTableSchema),\n/* harmony export */   getPrivilegesForTableAndLikeObjects: () => (/* binding */ getPrivilegesForTableAndLikeObjects)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var top_browser_server_groups_servers_static_js_sec_label_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! top/browser/server_groups/servers/static/js/sec_label.ui */ \"./pgadmin/browser/server_groups/servers/static/js/sec_label.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var _constraints_index_constraint_static_js_primary_key_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../constraints/index_constraint/static/js/primary_key.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/primary_key.ui.js\");\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var _partition_utils_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./partition.utils.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/partition.utils.ui.js\");\n/* harmony import */ var _constraints_check_constraint_static_js_check_constraint_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../constraints/check_constraint/static/js/check_constraint.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/check_constraint/static/js/check_constraint.ui.js\");\n/* harmony import */ var _constraints_index_constraint_static_js_unique_constraint_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../constraints/index_constraint/static/js/unique_constraint.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/unique_constraint.ui.js\");\n/* harmony import */ var _static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../../static/js/node_ajax */ \"./pgadmin/browser/static/js/node_ajax.js\");\n/* harmony import */ var _columns_static_js_column_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../columns/static/js/column.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui.js\");\n/* harmony import */ var _static_js_vacuum_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../static/js/vacuum.ui */ \"./pgadmin/browser/server_groups/servers/static/js/vacuum.ui.js\");\n/* harmony import */ var _constraints_foreign_key_static_js_foreign_key_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../constraints/foreign_key/static/js/foreign_key.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui.js\");\n/* harmony import */ var _constraints_exclusion_constraint_static_js_exclusion_constraint_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../constraints/exclusion_constraint/static/js/exclusion_constraint.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/exclusion_constraint/static/js/exclusion_constraint.ui.js\");\n/* harmony import */ var _static_js_privilege_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../static/js/privilege.ui */ \"./pgadmin/browser/server_groups/servers/static/js/privilege.ui.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_17__);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getPrivilegesForTableAndLikeObjects(server_version) {\n  if (server_version && server_version >= 170000) {\n    return ['a', 'r', 'w', 'd', 'D', 'x', 't', 'm'];\n  }\n  return ['a', 'r', 'w', 'd', 'D', 'x', 't'];\n}\nfunction getNodeTableSchema(treeNodeInfo, itemNodeData, pgBrowser) {\n  const spcname = () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeListByName)('tablespace', treeNodeInfo, itemNodeData, {}, m => {\n    return m.label != 'pg_global';\n  });\n  let tableNode = pgBrowser.Nodes['table'];\n  return new TableSchema({\n    relowner: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeListByName)('role', treeNodeInfo, itemNodeData),\n    schema: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeListByName)('schema', treeNodeInfo, itemNodeData, {\n      cacheLevel: 'database'\n    }, d => {\n      // If schema name start with pg_* then we need to exclude them\n      return !d?.label.match(/^pg_/);\n    }),\n    spcname: spcname,\n    coll_inherits: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_inherits', tableNode, treeNodeInfo, itemNodeData),\n    typname: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_oftype', tableNode, treeNodeInfo, itemNodeData),\n    like_relation: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_relations', tableNode, treeNodeInfo, itemNodeData),\n    table_amname_list: () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_table_access_methods', tableNode, treeNodeInfo, itemNodeData)\n  }, treeNodeInfo, {\n    columns: () => (0,_columns_static_js_column_ui__WEBPACK_IMPORTED_MODULE_12__.getNodeColumnSchema)(treeNodeInfo, itemNodeData, pgBrowser),\n    vacuum_settings: () => (0,_static_js_vacuum_ui__WEBPACK_IMPORTED_MODULE_13__.getNodeVacuumSettingsSchema)(tableNode, treeNodeInfo, itemNodeData),\n    constraints: () => new ConstraintsSchema(treeNodeInfo, () => (0,_constraints_foreign_key_static_js_foreign_key_ui__WEBPACK_IMPORTED_MODULE_14__.getNodeForeignKeySchema)(treeNodeInfo, itemNodeData, pgBrowser, true, {\n      autoindex: false\n    }), () => (0,_constraints_exclusion_constraint_static_js_exclusion_constraint_ui__WEBPACK_IMPORTED_MODULE_15__.getNodeExclusionConstraintSchema)(treeNodeInfo, itemNodeData, pgBrowser, true), {\n      spcname: spcname\n    })\n  }, privileges => (0,_static_js_privilege_ui__WEBPACK_IMPORTED_MODULE_16__.getNodePrivilegeRoleSchema)(tableNode, treeNodeInfo, itemNodeData, privileges), params => {\n    return (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_columns', tableNode, treeNodeInfo, itemNodeData, {\n      urlParams: params,\n      useCache: false\n    });\n  }, () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_collations', pgBrowser.Nodes['collation'], treeNodeInfo, itemNodeData), () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_op_class', pgBrowser.Nodes['table'], treeNodeInfo, itemNodeData), () => {\n    return (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_11__.getNodeAjaxOptions)('get_attach_tables', tableNode, treeNodeInfo, itemNodeData, {\n      useCache: false,\n      urlWithId: true\n    });\n  }, {\n    relowner: pgBrowser.serverInfo[treeNodeInfo.server._id].user.name,\n    schema: treeNodeInfo.schema?._label\n  });\n}\nclass ConstraintsSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(nodeInfo, getFkObj, getExConsObj, otherOptions) {\n    let inErd = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    super();\n    this.nodeInfo = nodeInfo;\n    this.primaryKeyObj = new _constraints_index_constraint_static_js_primary_key_ui__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n      spcname: otherOptions.spcname\n    }, nodeInfo);\n    this.fkObj = getFkObj();\n    this.uniqueConsObj = new _constraints_index_constraint_static_js_unique_constraint_ui__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({\n      spcname: otherOptions.spcname\n    }, nodeInfo);\n    this.exConsObj = getExConsObj();\n    this.inErd = inErd;\n  }\n  changeColumnOptions(colOptions) {\n    this.primaryKeyObj.changeColumnOptions(colOptions);\n    this.fkObj.changeColumnOptions(colOptions);\n    this.uniqueConsObj.changeColumnOptions(colOptions);\n    if (!this.inErd) {\n      this.exConsObj.changeColumnOptions(colOptions);\n    }\n  }\n  anyColumnAdded(state) {\n    return lodash__WEBPACK_IMPORTED_MODULE_4___default().some(lodash__WEBPACK_IMPORTED_MODULE_4___default().map(state.columns, 'name'));\n  }\n  canAdd(state) {\n    return !(state.is_partitioned && this.top.getServerVersion() < 110000);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'primary_key',\n      label: '',\n      schema: this.primaryKeyObj,\n      editable: false,\n      type: 'collection',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Primary Key'),\n      mode: ['edit', 'create'],\n      canEdit: true,\n      canDelete: true,\n      deps: ['is_partitioned', 'typname', 'columns'],\n      columns: ['name', 'columns'],\n      disabled: this.inCatalog,\n      canAdd: function (state) {\n        return obj.canAdd(state);\n      },\n      canAddRow: function (state) {\n        return (state.primary_key || []).length < 1 && obj.anyColumnAdded(state);\n      },\n      expandEditOnAdd: true,\n      depChange: (state, source, topState, actionObj) => {\n        if (state.is_partitioned && obj.top.getServerVersion() < 110000 || state.columns?.length <= 0) {\n          return {\n            primary_key: []\n          };\n        }\n        /* If columns changed */\n        if (actionObj.type == _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_7__.SCHEMA_STATE_ACTIONS.SET_VALUE && actionObj.path[actionObj.path.length - 1] == 'columns') {\n          /* Sync up the pk flag */\n          let columns = state.primary_key[0].columns.map(c => c.column);\n          state.columns = state.columns.map(c => _objectSpread(_objectSpread({}, c), {}, {\n            is_primary_key: columns.indexOf(c.name) > -1\n          }));\n          return {\n            columns: state.columns\n          };\n        }\n        /* If column or primary key is deleted */\n        if (actionObj.type === _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_7__.SCHEMA_STATE_ACTIONS.DELETE_ROW) {\n          let deletedColumn = lodash__WEBPACK_IMPORTED_MODULE_4___default().differenceBy(actionObj.oldState.columns, state.columns, 'cid');\n          if (deletedColumn.length && deletedColumn[0].is_primary_key && !obj.top.isNew(state)) {\n            state.columns = state.columns.map(c => _objectSpread(_objectSpread({}, c), {}, {\n              is_primary_key: false\n            }));\n            return {\n              primary_key: []\n            };\n          } else if (source[0] === 'primary_key') {\n            state.columns = state.columns.map(c => _objectSpread(_objectSpread({}, c), {}, {\n              is_primary_key: false\n            }));\n          }\n        }\n      }\n    }, {\n      id: 'foreign_key',\n      label: '',\n      schema: this.fkObj,\n      editable: false,\n      type: 'collection',\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Foreign Key'),\n      mode: ['edit', 'create'],\n      canEdit: true,\n      canDelete: true,\n      deps: ['is_partitioned', 'columns'],\n      canAdd: function (state) {\n        return obj.canAdd(state);\n      },\n      columns: ['name', 'columns', 'references_table_name'],\n      disabled: this.inCatalog,\n      canAddRow: obj.anyColumnAdded,\n      expandEditOnAdd: true,\n      depChange: state => {\n        if (state.is_partitioned && obj.top.getServerVersion() < 110000 || state.columns?.length <= 0) {\n          return {\n            foreign_key: []\n          };\n        }\n      }\n    }, {\n      id: 'check_group',\n      type: 'group',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Check'),\n      visible: !this.inErd\n    }, {\n      id: 'check_constraint',\n      label: '',\n      schema: new _constraints_check_constraint_static_js_check_constraint_ui__WEBPACK_IMPORTED_MODULE_9__[\"default\"](),\n      editable: false,\n      type: 'collection',\n      group: 'check_group',\n      mode: ['edit', 'create'],\n      canEdit: true,\n      canDelete: true,\n      deps: ['is_partitioned'],\n      canAdd: true,\n      columns: ['name', 'consrc'],\n      disabled: this.inCatalog\n    }, {\n      id: 'unique_group',\n      type: 'group',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Unique')\n    }, {\n      id: 'unique_constraint',\n      label: '',\n      schema: this.uniqueConsObj,\n      editable: false,\n      type: 'collection',\n      group: 'unique_group',\n      mode: ['edit', 'create'],\n      canEdit: true,\n      canDelete: true,\n      deps: ['is_partitioned', 'typname'],\n      columns: ['name', 'columns'],\n      disabled: this.inCatalog,\n      canAdd: function (state) {\n        return obj.canAdd(state);\n      },\n      canAddRow: obj.anyColumnAdded,\n      expandEditOnAdd: true,\n      depChange: state => {\n        if (state.is_partitioned && obj.top.getServerVersion() < 110000 || state.columns?.length <= 0) {\n          return {\n            unique_constraint: []\n          };\n        }\n      }\n    }, {\n      id: 'exclude_group',\n      type: 'group',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Exclude'),\n      visible: !this.inErd\n    }, {\n      id: 'exclude_constraint',\n      label: '',\n      schema: this.exConsObj,\n      editable: false,\n      type: 'collection',\n      group: 'exclude_group',\n      mode: ['edit', 'create'],\n      canEdit: true,\n      canDelete: true,\n      deps: ['is_partitioned'],\n      columns: ['name', 'columns', 'constraint'],\n      disabled: this.inCatalog,\n      canAdd: function (state) {\n        return obj.canAdd(state);\n      },\n      canAddRow: obj.anyColumnAdded,\n      expandEditOnAdd: true,\n      depChange: state => {\n        if (state.is_partitioned && obj.top.getServerVersion() < 110000 || state.columns?.length <= 0) {\n          return {\n            exclude_constraint: []\n          };\n        }\n      }\n    }];\n  }\n}\nclass LikeSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(likeRelationOpts) {\n    super();\n    this.likeRelationOpts = likeRelationOpts;\n  }\n  isLikeDisable(state) {\n    return !(!this.top.inSchemaWithModelCheck(state) && (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.typname));\n  }\n  isRelationDisable(state) {\n    return (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.like_relation);\n  }\n  resetVals(state) {\n    if (this.isRelationDisable(state) && this.top.isNew()) {\n      return {\n        like_default_value: false,\n        like_constraints: false,\n        like_indexes: false,\n        like_storage: false,\n        like_comments: false,\n        like_compression: false,\n        like_generated: false,\n        like_identity: false,\n        like_statistics: false\n      };\n    }\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'like_relation',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Relation'),\n      type: 'select',\n      mode: ['create'],\n      deps: ['typname', 'like_relation'],\n      options: obj.likeRelationOpts,\n      disabled: obj.isLikeDisable,\n      depChange: (state, source) => {\n        if (source == 'typname' && !(0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.typname)) {\n          state.like_relation = null;\n          return _objectSpread({\n            like_relation: null\n          }, obj.resetVals(state));\n        }\n      }\n    }, {\n      id: 'like_default_value',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With default values?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_constraints',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With constraints?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_indexes',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With indexes?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_storage',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With storage?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_comments',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With comments?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_compression',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With compression?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      min_version: 140000,\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_generated',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With generated?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      min_version: 120000,\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_identity',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With identity?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }, {\n      id: 'like_statistics',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('With statistics?'),\n      type: 'switch',\n      mode: ['create'],\n      deps: ['like_relation'],\n      disabled: this.isRelationDisable,\n      depChange: function () {\n        return obj.resetVals(...arguments);\n      },\n      inlineGroup: 'like_relation'\n    }];\n  }\n}\nclass TableSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let nodeInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let schemas = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let getPrivilegeRoleSchema = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : () => {/*This is intentional (SonarQube)*/};\n    let getColumns = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : () => [];\n    let getCollations = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : () => [];\n    let getOperatorClass = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => [];\n    let getAttachTables = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : () => [];\n    let initValues = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : {};\n    let inErd = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : false;\n    super(_objectSpread({\n      name: undefined,\n      oid: undefined,\n      spcoid: undefined,\n      spcname: undefined,\n      relowner: undefined,\n      relacl: undefined,\n      relhasoids: undefined,\n      relhassubclass: undefined,\n      reltuples: undefined,\n      description: undefined,\n      conname: undefined,\n      conkey: undefined,\n      isrepl: undefined,\n      triggercount: undefined,\n      relpersistence: undefined,\n      fillfactor: undefined,\n      toast_tuple_target: undefined,\n      parallel_workers: undefined,\n      reloftype: undefined,\n      typname: undefined,\n      labels: undefined,\n      providers: undefined,\n      is_sys_table: undefined,\n      coll_inherits: [],\n      hastoasttable: true,\n      toast_autovacuum_enabled: 'x',\n      autovacuum_enabled: 'x',\n      primary_key: [],\n      foreign_key: [],\n      partition_keys: [],\n      partitions: [],\n      partition_type: 'range',\n      is_partitioned: false,\n      columns: [],\n      amname: undefined\n    }, initValues));\n    this.fieldOptions = fieldOptions;\n    this.schemas = schemas;\n    this.getPrivilegeRoleSchema = getPrivilegeRoleSchema;\n    this.nodeInfo = nodeInfo;\n    this.getColumns = getColumns;\n    this.partitionsObj = new _partition_utils_ui__WEBPACK_IMPORTED_MODULE_8__.PartitionsSchema(this.nodeInfo, getCollations, getOperatorClass, fieldOptions.table_amname_list, getAttachTables);\n    this.constraintsObj = this.schemas.constraints?.() || {};\n    this.columnsSchema = this.schemas.columns?.() || {};\n    this.vacuumSettingsSchema = this.schemas.vacuum_settings?.() || {};\n    this.partitionKeysObj = new _partition_utils_ui__WEBPACK_IMPORTED_MODULE_8__.PartitionKeysSchema([], getCollations, getOperatorClass);\n    this.inErd = inErd;\n  }\n  static getErdSupportedData(data) {\n    let newData = _objectSpread({}, data);\n    const SUPPORTED_KEYS = ['name', 'schema', 'description', 'rlspolicy', 'forcerlspolicy', 'fillfactor', 'toast_tuple_target', 'parallel_workers', 'relhasoids', 'relpersistence', 'columns', 'primary_key', 'foreign_key', 'unique_constraint'];\n    newData = lodash__WEBPACK_IMPORTED_MODULE_4___default().pick(newData, SUPPORTED_KEYS);\n\n    /* Remove inherited references */\n    newData.columns = newData.columns.map(c => {\n      delete c.inheritedfromtable;\n      return c;\n    });\n\n    /* Make autoindex as true if there is coveringindex since ERD works in create mode */\n    newData.foreign_key = (newData.foreign_key || []).map(fk => {\n      fk.autoindex = false;\n      if (fk.coveringindex) {\n        fk.autoindex = true;\n      }\n      return fk;\n    });\n    return newData;\n  }\n  get idAttribute() {\n    return 'oid';\n  }\n  initialise(state) {\n    this.changeColumnOptions(state.columns);\n  }\n  inSchemaWithModelCheck(state) {\n    if (this.nodeInfo && 'schema' in this.nodeInfo) {\n      return !this.isNew(state);\n    }\n    return false;\n  }\n  getTableOid(tabName) {\n    // Here we will fetch the table oid from table name\n    // iterate over list to find table oid\n    for (const t of this.inheritedTableList) {\n      if (t.label === tabName) {\n        return t.tid;\n      }\n    }\n  }\n\n  // Check for column grid when to Add\n  canAddRowColumns(state) {\n    if (!this.inCatalog()) {\n      // if of_type then disable add in grid\n      return (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.typname);\n    }\n    return false;\n  }\n\n  // Check for column grid when to edit/delete (for each row)\n  canEditDeleteRowColumns(colstate) {\n    return (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(colstate.inheritedfrom);\n  }\n  isPartitioned(state) {\n    if (state.is_partitioned) {\n      return true;\n    }\n    return this.inCatalog();\n  }\n  changeColumnOptions(columns) {\n    let colOptions = (columns || []).map(c => ({\n      label: c.name,\n      value: c.name,\n      image: 'icon-column'\n    }));\n    this.constraintsObj.changeColumnOptions(colOptions);\n    this.partitionKeysObj.changeColumnOptions(colOptions);\n    this.partitionsObj.changeColumnOptions(colOptions);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Name'),\n      type: 'text',\n      noEmpty: true,\n      mode: ['properties', 'create', 'edit'],\n      readonly: this.inCatalog\n    }, {\n      id: 'oid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('OID'),\n      type: 'text',\n      mode: ['properties']\n    }, {\n      id: 'relowner',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Owner'),\n      type: 'select',\n      options: this.fieldOptions.relowner,\n      noEmpty: !this.inErd,\n      mode: ['properties', 'create', 'edit'],\n      controlProps: {\n        allowClear: false\n      },\n      readonly: this.inCatalog,\n      visible: !this.inErd\n    }, {\n      id: 'schema',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Schema'),\n      type: 'select',\n      options: this.fieldOptions.schema,\n      noEmpty: true,\n      mode: ['create', 'edit'],\n      readonly: this.inCatalog\n    }, {\n      id: 'spcname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Tablespace'),\n      visible: !this.inErd,\n      mode: ['properties', 'create', 'edit'],\n      deps: ['is_partitioned'],\n      readonly: this.inCatalog,\n      type: state => {\n        return {\n          type: 'select',\n          options: this.fieldOptions.spcname,\n          controlProps: {\n            allowClear: obj.isNew(state)\n          }\n        };\n      }\n    }, {\n      id: 'columns',\n      type: 'group',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns')\n    }, {\n      id: 'advanced',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Advanced'),\n      type: 'group'\n    }, {\n      id: 'constraints',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Constraints'),\n      type: 'group'\n    }, {\n      id: 'partition',\n      type: 'group',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partitions'),\n      mode: ['edit', 'create'],\n      min_version: 100000,\n      visible: function (state) {\n        if (this.inErd) {\n          return false;\n        }\n        // Always show in case of create mode\n        return obj.isNew(state) || state.is_partitioned;\n      }\n    }, {\n      type: 'group',\n      id: 'parameters',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Parameters'),\n      visible: !this.inErd\n    }, {\n      id: 'security_group',\n      type: 'group',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Security'),\n      visible: !this.inErd\n    }, {\n      id: 'is_partitioned',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partitioned table?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties', 'create', 'edit'],\n      min_version: 100000,\n      visible: !this.inErd,\n      readonly: function (state) {\n        return !obj.isNew(state);\n      }\n    }, {\n      id: 'is_sys_table',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('System table?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties'],\n      disabled: this.inCatalog\n    }, {\n      id: 'description',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Comment'),\n      type: 'multiline',\n      mode: ['properties', 'create', 'edit'],\n      disabled: this.inCatalog\n    }, {\n      id: 'coll_inherits',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Inherited from table(s)'),\n      type: 'select',\n      group: 'columns',\n      deps: ['typname', 'is_partitioned'],\n      mode: ['create', 'edit'],\n      controlProps: {\n        multiple: true,\n        allowClear: false,\n        placeholder: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Select to inherit from...')\n      },\n      options: this.fieldOptions.coll_inherits,\n      visible: !this.inErd,\n      optionsLoaded: res => obj.inheritedTableList = res,\n      disabled: state => {\n        if (state.adding_inherit_cols || state.is_partitioned) {\n          return true;\n        }\n        return !(!obj.inCatalog() && (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.typname));\n      },\n      depChange: (state, source, topState, actionObj) => {\n        if (actionObj.type == _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_7__.SCHEMA_STATE_ACTIONS.SET_VALUE && actionObj.path[0] == 'coll_inherits') {\n          return {\n            adding_inherit_cols: true\n          };\n        }\n        if (source[0] === 'is_partitioned' && state.is_partitioned) {\n          for (const collTable of state.coll_inherits || []) {\n            let removeOid = this.getTableOid(collTable);\n            lodash__WEBPACK_IMPORTED_MODULE_4___default().remove(state.columns, col => col.inheritedid == removeOid);\n          }\n          return {\n            coll_inherits: []\n          };\n        }\n      },\n      deferredDepChange: (state, source, topState, actionObj) => {\n        return new Promise(resolve => {\n          // current table list and previous table list\n          let newColInherits = state.coll_inherits || [];\n          let oldColInherits = actionObj.oldState.coll_inherits || [];\n          let tabName;\n          let tabColsResponse;\n\n          // Add columns logic\n          // If new table is added in list\n          if (newColInherits.length > 1 && newColInherits.length > oldColInherits.length) {\n            // Find newly added table from current list\n            tabName = lodash__WEBPACK_IMPORTED_MODULE_4___default().difference(newColInherits, oldColInherits);\n            tabColsResponse = obj.getColumns({\n              tid: this.getTableOid(tabName[0])\n            });\n          } else if (newColInherits.length == 1) {\n            // First table added\n            tabColsResponse = obj.getColumns({\n              tid: this.getTableOid(newColInherits[0])\n            });\n          }\n          if (tabColsResponse) {\n            tabColsResponse.then(res => {\n              resolve(tmpstate => {\n                let finalCols = res.map(col => obj.columnsSchema.getNewData(col));\n                let currentSelectedCols = [];\n                if (!lodash__WEBPACK_IMPORTED_MODULE_4___default().isEmpty(tmpstate.columns)) {\n                  currentSelectedCols = tmpstate.columns;\n                }\n                let colNameList = [];\n                tmpstate.columns.forEach(col => {\n                  colNameList.push(col.name);\n                });\n                for (let col of Object.values(finalCols)) {\n                  if (!colNameList.includes(col.name)) {\n                    currentSelectedCols.push(col);\n                  }\n                }\n                if (!lodash__WEBPACK_IMPORTED_MODULE_4___default().isEmpty(currentSelectedCols)) {\n                  finalCols = currentSelectedCols;\n                }\n                obj.changeColumnOptions(finalCols);\n                return {\n                  adding_inherit_cols: false,\n                  columns: finalCols\n                };\n              });\n            });\n          }\n\n          // Remove columns logic\n          let removeOid;\n          if (newColInherits.length > 0 && newColInherits.length < oldColInherits.length) {\n            // Find deleted table from previous list\n            tabName = lodash__WEBPACK_IMPORTED_MODULE_4___default().difference(oldColInherits, newColInherits);\n            removeOid = this.getTableOid(tabName[0]);\n          } else if (oldColInherits.length === 1 && newColInherits.length < 1) {\n            // We got last table from list\n            tabName = oldColInherits[0];\n            removeOid = this.getTableOid(tabName);\n          }\n          if (removeOid) {\n            resolve(tmpstate => {\n              let finalCols = tmpstate.columns;\n              lodash__WEBPACK_IMPORTED_MODULE_4___default().remove(tmpstate.columns, col => col.inheritedid == removeOid);\n              obj.changeColumnOptions(finalCols);\n              return {\n                adding_inherit_cols: false,\n                columns: finalCols\n              };\n            });\n          }\n        });\n      }\n    }, {\n      id: 'rlspolicy',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('RLS Policy?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties', 'edit', 'create'],\n      group: 'advanced',\n      min_version: 90600,\n      depChange: state => {\n        if (state.rlspolicy && this.origData.rlspolicy != state.rlspolicy) {\n          sources_pgadmin__WEBPACK_IMPORTED_MODULE_17___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Check Policy?'), sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please check if any policy exists. If no policy exists for the table, a default-deny policy is used, meaning that no rows are visible or can be modified by other users'));\n        }\n      }\n    }, {\n      id: 'forcerlspolicy',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Force RLS Policy?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties', 'edit', 'create'],\n      deps: ['rlspolicy'],\n      group: 'advanced',\n      min_version: 90600,\n      disabled: function (state) {\n        return !state.rlspolicy;\n      },\n      depChange: state => {\n        if (!state.rlspolicy) {\n          return {\n            forcerlspolicy: false\n          };\n        }\n      }\n    }, {\n      id: 'replica_identity',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Replica Identity'),\n      group: 'advanced',\n      type: 'text',\n      mode: ['edit', 'properties']\n    }, {\n      id: 'coll_inherits',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Inherited from table(s)'),\n      type: 'text',\n      group: 'advanced',\n      mode: ['properties']\n    }, {\n      id: 'inherited_tables_cnt',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Inherited tables count'),\n      type: 'text',\n      mode: ['properties'],\n      group: 'advanced',\n      disabled: this.inCatalog\n    }, {\n      // Tab control for columns\n      id: 'columns',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Columns'),\n      type: 'collection',\n      group: 'columns',\n      schema: this.columnsSchema,\n      mode: ['create', 'edit'],\n      disabled: this.inCatalog,\n      deps: ['typname', 'is_partitioned'],\n      depChange: (state, source, topState, actionObj) => {\n        if (source[0] === 'columns') {\n          /* In ERD, attnum is an imp let for setting the links\r\n          Here, attnum is set to max avail value.\r\n          */\n          let columns = state.columns;\n          if (actionObj.type === _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_7__.SCHEMA_STATE_ACTIONS.ADD_ROW && this.inErd) {\n            let lastAttnum = lodash__WEBPACK_IMPORTED_MODULE_4___default().maxBy(columns, c => c.attnum)?.attnum;\n            if (lodash__WEBPACK_IMPORTED_MODULE_4___default().isUndefined(lastAttnum) || lodash__WEBPACK_IMPORTED_MODULE_4___default().isNull(lastAttnum)) {\n              lastAttnum = -1;\n            }\n            columns[columns.length - 1].attnum = lastAttnum + 1;\n          }\n          obj.changeColumnOptions(columns);\n          /* If primary key switch changes, primary key collection need to change */\n          if (actionObj.path.indexOf('is_primary_key') > -1) {\n            let tabColPath = lodash__WEBPACK_IMPORTED_MODULE_4___default().slice(actionObj.path, 0, -1);\n            let columnData = lodash__WEBPACK_IMPORTED_MODULE_4___default().get(state, tabColPath);\n            if (state.primary_key?.length > 0) {\n              /* Add/Remove columns if PK exists */\n              let currPk = state.primary_key[0];\n              /* If col is not PK, remove it */\n              if (!columnData.is_primary_key) {\n                currPk.columns = lodash__WEBPACK_IMPORTED_MODULE_4___default().filter(currPk.columns, c => c.column !== columnData.name);\n              } else {\n                currPk.columns = lodash__WEBPACK_IMPORTED_MODULE_4___default().filter(currPk.columns, c => c.column !== columnData.name);\n                currPk.columns.push({\n                  column: columnData.name\n                });\n              }\n              /* Remove the PK if all columns not PK */\n              if (currPk.columns.length <= 0) {\n                return {\n                  primary_key: []\n                };\n              } else {\n                return {\n                  primary_key: [currPk]\n                };\n              }\n            } else {\n              /* Create PK if none */\n              return {\n                primary_key: [obj.constraintsObj.primaryKeyObj.getNewData({\n                  columns: [{\n                    column: columnData.name\n                  }]\n                })]\n              };\n            }\n          }\n        }\n      },\n      canAdd: this.canAddRowColumns,\n      canEdit: true,\n      canDelete: true,\n      canReorder: state => this.inErd || this.isNew(state),\n      // For each row edit/delete button enable/disable\n      canEditRow: this.canEditDeleteRowColumns,\n      canDeleteRow: this.canEditDeleteRowColumns,\n      uniqueCol: ['name'],\n      columns: ['name', 'cltype', 'attlen', 'attprecision', 'attnotnull', 'is_primary_key', 'defval'],\n      allowMultipleEmptyRow: false\n    }, {\n      // Here we will create tab control for constraints\n      type: 'nested-tab',\n      group: 'constraints',\n      mode: ['edit', 'create'],\n      schema: obj.constraintsObj\n    }, {\n      id: 'typname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Of type'),\n      type: 'select',\n      mode: ['properties', 'create', 'edit'],\n      group: 'advanced',\n      deps: ['coll_inherits'],\n      visible: !this.inErd,\n      disabled: state => {\n        return !(!obj.inSchemaWithModelCheck(state) && (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.coll_inherits));\n      },\n      options: this.fieldOptions.typname,\n      optionsLoaded: res => {\n        obj.ofTypeTables = res;\n      },\n      deferredDepChange: (state, source, topState, actionObj) => {\n        const setColumns = resolve => {\n          let finalCols = [];\n          if (!(0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.typname)) {\n            let typeTable = lodash__WEBPACK_IMPORTED_MODULE_4___default().find(obj.ofTypeTables || [], t => t.label == state.typname);\n            finalCols = typeTable.oftype_columns;\n          }\n          resolve(() => {\n            obj.changeColumnOptions(finalCols);\n            return {\n              columns: finalCols,\n              primary_key: [],\n              foreign_key: [],\n              exclude_constraint: [],\n              unique_constraint: [],\n              partition_keys: [],\n              partitions: []\n            };\n          });\n        };\n        if (!(0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(state.typname) && (0,sources_validators__WEBPACK_IMPORTED_MODULE_5__.isEmptyString)(actionObj.oldState.typname)) {\n          return new Promise(resolve => {\n            sources_pgadmin__WEBPACK_IMPORTED_MODULE_17___default().Browser.notifier.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Remove column definitions?'), sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Changing \\'Of type\\' will remove column definitions.'), function () {\n              setColumns(resolve);\n            }, function () {\n              resolve(() => {\n                return {\n                  typname: null\n                };\n              });\n            });\n          });\n        } else if (state.typname != actionObj.oldState.typname) {\n          return new Promise(resolve => {\n            setColumns(resolve);\n          });\n        } else {\n          return Promise.resolve(() => {/*This is intentional (SonarQube)*/});\n        }\n      }\n    }, {\n      id: 'amname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Access Method'),\n      group: 'advanced',\n      deps: ['is_partitioned'],\n      type: state => {\n        return {\n          type: 'select',\n          options: this.fieldOptions.table_amname_list,\n          controlProps: {\n            allowClear: obj.isNew(state)\n          }\n        };\n      },\n      mode: ['create', 'properties', 'edit'],\n      min_version: 120000,\n      disabled: state => {\n        if (obj.getServerVersion() < 150000 && !obj.isNew(state)) {\n          return true;\n        }\n        return obj.isPartitioned(state);\n      },\n      depChange: state => {\n        if (state.is_partitioned) {\n          return {\n            amname: undefined\n          };\n        }\n      }\n    }, {\n      id: 'fillfactor',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Fill factor'),\n      type: 'int',\n      mode: ['create', 'edit'],\n      min: 10,\n      max: 100,\n      group: 'advanced',\n      disabled: obj.isPartitioned\n    }, {\n      id: 'toast_tuple_target',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Toast tuple target'),\n      type: 'int',\n      mode: ['create', 'edit'],\n      min: 128,\n      min_version: 110000,\n      group: 'advanced',\n      disabled: obj.isPartitioned\n    }, {\n      id: 'parallel_workers',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Parallel workers'),\n      type: 'int',\n      mode: ['create', 'edit'],\n      group: 'advanced',\n      min_version: 90600,\n      disabled: obj.isPartitioned\n    }, {\n      id: 'relhasoids',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Has OIDs?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties', 'create', 'edit'],\n      group: 'advanced',\n      disabled: function () {\n        if (obj.getServerVersion() >= 120000) {\n          return true;\n        }\n        return obj.inCatalog();\n      }\n    }, {\n      id: 'relpersistence',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Unlogged?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties', 'create', 'edit'],\n      readonly: obj.inSchemaWithModelCheck,\n      group: 'advanced'\n    }, {\n      id: 'conname',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Primary key'),\n      cell: 'text',\n      type: 'text',\n      mode: ['properties'],\n      group: 'advanced',\n      disabled: this.inCatalog\n    }, {\n      id: 'reltuples',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Rows (estimated)'),\n      cell: 'text',\n      type: 'text',\n      mode: ['properties'],\n      group: 'advanced',\n      disabled: this.inCatalog\n    }, {\n      id: 'rows_cnt',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Rows (counted)'),\n      cell: 'text',\n      type: 'text',\n      mode: ['properties'],\n      group: 'advanced',\n      disabled: this.inCatalog,\n      formatter: {\n        fromRaw: () => {\n          return 0;\n        },\n        toRaw: backendVal => {\n          return backendVal;\n        }\n      }\n    }, {\n      id: 'relhassubclass',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Is inherited?'),\n      cell: 'switch',\n      type: 'switch',\n      mode: ['properties'],\n      group: 'advanced',\n      disabled: this.inCatalog\n    }, {\n      type: 'nested-fieldset',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Like'),\n      group: 'advanced',\n      mode: ['create'],\n      schema: new LikeSchema(this.fieldOptions.like_relation),\n      visible: !this.inErd\n    }, {\n      id: 'partition_type',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partition Type'),\n      editable: false,\n      type: 'select',\n      controlProps: {\n        allowClear: false\n      },\n      group: 'partition',\n      deps: ['is_partitioned'],\n      options: function () {\n        let options = [{\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Range'),\n          value: 'range'\n        }, {\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('List'),\n          value: 'list'\n        }];\n        if (obj.getServerVersion() >= 110000) {\n          options.push({\n            label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Hash'),\n            value: 'hash'\n          });\n        }\n        return Promise.resolve(options);\n      },\n      mode: ['create'],\n      min_version: 100000,\n      disabled: function (state) {\n        return !state.is_partitioned;\n      },\n      readonly: function (state) {\n        return !obj.isNew(state);\n      }\n    }, {\n      id: 'partition_keys',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partition Keys'),\n      schema: obj.partitionKeysObj,\n      editable: true,\n      type: 'collection',\n      columns: ['key_type', 'pt_column', 'expression'].concat(!this.inErd ? ['collationame', 'op_class'] : []),\n      group: 'partition',\n      mode: ['create'],\n      deps: ['is_partitioned', 'partition_type', 'typname'],\n      canEdit: false,\n      canDelete: true,\n      canAdd: function (state) {\n        return obj.isNew(state) && state.is_partitioned;\n      },\n      canAddRow: function (state) {\n        let columnsExist = false;\n        let maxRowCount = 1000;\n        if (state.partition_type && state.partition_type == 'list') maxRowCount = 1;\n        if (state.columns?.length > 0) {\n          columnsExist = lodash__WEBPACK_IMPORTED_MODULE_4___default().some(lodash__WEBPACK_IMPORTED_MODULE_4___default().map(state.columns, 'name'));\n        }\n        if (state.partition_keys) {\n          return state.partition_keys.length < maxRowCount && columnsExist;\n        }\n        return true;\n      },\n      min_version: 100000,\n      depChange: (state, source, topState, actionObj) => {\n        if (state.typname != actionObj.oldState.typname) {\n          return {\n            partition_keys: []\n          };\n        }\n      }\n    }, {\n      id: 'partition_scheme',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partition Scheme'),\n      group: 'partition',\n      mode: ['edit'],\n      type: state => ({\n        type: 'note',\n        text: state.partition_scheme || ''\n      }),\n      min_version: 100000\n    }, {\n      id: 'partition_key_note',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partition Keys'),\n      type: 'note',\n      group: 'partition',\n      mode: ['create'],\n      text: ['<ul><li>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partition table supports two types of keys:'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Column: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('User can select any column from the list of available columns.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Expression: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('User can specify expression to create partition key.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Example: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Let\\'s say, we want to create a partition table based per year for the column \\'saledate\\', having datatype \\'date/timestamp\\', then we need to specify the expression as \\'extract(YEAR from saledate)\\' as partition key.'), '</li></ul>'].join(''),\n      min_version: 100000\n    }, {\n      id: 'partitions',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partitions'),\n      schema: this.partitionsObj,\n      editable: true,\n      type: 'collection',\n      group: 'partition',\n      mode: ['edit', 'create'],\n      deps: ['is_partitioned', 'partition_type', 'typname'],\n      depChange: (state, source) => {\n        if (['is_partitioned', 'partition_type', 'typname'].indexOf(source[0]) >= 0 && obj.isNew(state)) {\n          return {\n            'partitions': []\n          };\n        }\n      },\n      canEdit: true,\n      canDelete: true,\n      customDeleteTitle: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Detach Partition'),\n      customDeleteMsg: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Are you sure you wish to detach this partition?'),\n      columns: ['is_attach', 'partition_name', 'is_default', 'values_from', 'values_to', 'values_in', 'values_modulus', 'values_remainder'],\n      canAdd: function (state) {\n        return state.is_partitioned;\n      },\n      min_version: 100000\n    }, {\n      id: 'partition_note',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Partitions'),\n      type: 'note',\n      group: 'partition',\n      mode: ['create'],\n      text: ['<ul><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Create a table: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('User can create multiple partitions while creating new partitioned table. Operation switch is disabled in this scenario.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Edit existing table: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('User can create/attach/detach multiple partitions. In attach operation user can select table from the list of suitable tables to be attached.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Default: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('The default partition can store rows that do not fall into any existing partition’s range or list.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('From/To/In input: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('From/To/In input: Values for these fields must be quoted with single quote. For more than one partition key values must be comma(,) separated.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Example: From/To: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Enabled for range partition. Consider partitioned table with multiple keys of type Integer, then values should be specified like \\'100\\',\\'200\\'.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('In: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Enabled for list partition. Values must be comma(,) separated and quoted with single quote.'), '</li><li>', '<strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Modulus/Remainder: '), '</strong>', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Enabled for hash partition.'), '</li></ul>'].join(''),\n      min_version: 100000\n    }, {\n      // Here - we will create tab control for storage parameters\n      // (auto vacuum).\n      type: 'nested-tab',\n      group: 'parameters',\n      mode: ['edit', 'create'],\n      deps: ['is_partitioned'],\n      schema: this.vacuumSettingsSchema,\n      visible: !this.inErd\n    }, {\n      id: 'relacl_str',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Privileges'),\n      disabled: this.inCatalog,\n      type: 'text',\n      mode: ['properties'],\n      group: 'security_group'\n    }, {\n      id: 'relacl',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Privileges'),\n      type: 'collection',\n      group: 'security_group',\n      schema: this.getPrivilegeRoleSchema(getPrivilegesForTableAndLikeObjects(this.getServerVersion())),\n      mode: ['edit', 'create'],\n      canAdd: true,\n      canDelete: true,\n      uniqueCol: ['grantee']\n    }, {\n      id: 'seclabels',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Security labels'),\n      canEdit: false,\n      schema: new top_browser_server_groups_servers_static_js_sec_label_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"](),\n      editable: false,\n      canAdd: true,\n      type: 'collection',\n      min_version: 90100,\n      mode: ['edit', 'create'],\n      group: 'security_group',\n      canDelete: true\n    }, {\n      id: 'vacuum_settings_str',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Storage settings'),\n      type: 'multiline',\n      group: 'advanced',\n      mode: ['properties']\n    }];\n  }\n  validate(state, setError) {\n    if (state.is_partitioned && this.isNew(state) && (!state.partition_keys || state.partition_keys && state.partition_keys.length <= 0)) {\n      setError('partition_keys', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Please specify at least one key for partitioned table.'));\n      return true;\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/static/js/privilege.ui.js":
/*!*************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/static/js/privilege.ui.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PrivilegeRoleSchema),\n/* harmony export */   getNodePrivilegeRoleSchema: () => (/* binding */ getNodePrivilegeRoleSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var _static_js_node_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../static/js/node_ajax */ \"./pgadmin/browser/static/js/node_ajax.js\");\n\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nfunction getNodePrivilegeRoleSchema(nodeObj, treeNodeInfo, itemNodeData, privileges) {\n  return new PrivilegeRoleSchema(() => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_3__.getNodeListByName)('role', treeNodeInfo, itemNodeData, {}, () => true, res => {\n    res.unshift({\n      label: 'PUBLIC',\n      value: 'PUBLIC'\n    });\n    return res;\n  }), () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_3__.getNodeListByName)('role', treeNodeInfo, itemNodeData), treeNodeInfo, privileges);\n}\nclass PrivilegeRoleSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(granteeOptions, grantorOptions, nodeInfo, supportedPrivs) {\n    super({\n      grantee: undefined,\n      grantor: nodeInfo?.server?.user?.name,\n      privileges: []\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"updateSupportedPrivs\", updatedPrivs => {\n      this.supportedPrivs = updatedPrivs;\n    });\n    this.granteeOptions = granteeOptions;\n    this.grantorOptions = grantorOptions;\n    this.nodeInfo = nodeInfo;\n    this.supportedPrivs = supportedPrivs || [];\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'grantee',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Grantee'),\n      type: 'text',\n      editable: true,\n      cell: () => ({\n        cell: 'select',\n        options: this.granteeOptions,\n        controlProps: {\n          allowClear: false\n        }\n      }),\n      disabled: function (state) {\n        return !obj.isNew(state);\n      },\n      noEmpty: true\n    }, {\n      id: 'privileges',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Privileges'),\n      type: 'text',\n      group: null,\n      cell: () => ({\n        cell: 'privilege',\n        controlProps: {\n          supportedPrivs: this.supportedPrivs\n        }\n      }),\n      disabled: function (state) {\n        return !(obj.nodeInfo && obj.nodeInfo.server?.user?.name == state['grantor']);\n      }\n    }, {\n      id: 'grantor',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Grantor'),\n      type: 'text',\n      readonly: true,\n      editable: false,\n      cell: () => ({\n        cell: 'select',\n        options: obj.grantorOptions\n      })\n    }];\n  }\n  validate(state, setError) {\n    if ((state.privileges || []).length <= 0) {\n      setError('privileges', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('At least one privilege should be selected.'));\n      return true;\n    }\n    return false;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/static/js/privilege.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/static/js/sec_label.ui.js":
/*!*************************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/static/js/sec_label.ui.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SecLabelSchema)\n/* harmony export */ });\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\nclass SecLabelSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor() {\n    super({\n      provider: undefined,\n      label: undefined\n    });\n  }\n  get baseFields() {\n    return [{\n      id: 'provider',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Provider'),\n      type: 'text',\n      editable: true,\n      cell: 'text'\n    }, {\n      id: 'label',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Security label'),\n      type: 'text',\n      editable: true,\n      cell: 'text',\n      noEmpty: true\n    }];\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/static/js/sec_label.ui.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/servers/static/js/vacuum.ui.js":
/*!**********************************************************************!*\
  !*** ./pgadmin/browser/server_groups/servers/static/js/vacuum.ui.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VacuumTableSchema: () => (/* binding */ VacuumTableSchema),\n/* harmony export */   \"default\": () => (/* binding */ VacuumSettingsSchema),\n/* harmony export */   getNodeVacuumSettingsSchema: () => (/* binding */ getNodeVacuumSettingsSchema)\n/* harmony export */ });\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var _static_js_node_ajax__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../static/js/node_ajax */ \"./pgadmin/browser/static/js/node_ajax.js\");\n\n\n\nfunction getNodeVacuumSettingsSchema(nodeObj, treeNodeInfo, itemNodeData) {\n  let tableVacuumRows = () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_2__.getNodeAjaxOptions)('get_table_vacuum', nodeObj, treeNodeInfo, itemNodeData, {\n    noCache: true\n  });\n  let toastTableVacuumRows = () => (0,_static_js_node_ajax__WEBPACK_IMPORTED_MODULE_2__.getNodeAjaxOptions)('get_toast_table_vacuum', nodeObj, treeNodeInfo, itemNodeData, {\n    noCache: true\n  });\n  return new VacuumSettingsSchema(tableVacuumRows, toastTableVacuumRows, treeNodeInfo);\n}\nclass VacuumTableSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor(valueDep) {\n    super();\n    this.valueDep = valueDep;\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'label',\n      name: 'label',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Label'),\n      cell: ''\n    }, {\n      id: 'value',\n      name: 'value',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Value'),\n      type: 'text',\n      deps: [[this.valueDep]],\n      editable: function () {\n        return obj?.top?.sessData?.[this.valueDep];\n      },\n      cell: state => {\n        switch (state.column_type) {\n          case 'integer':\n            return {\n              cell: 'int'\n            };\n          case 'number':\n            return {\n              cell: 'numeric',\n              controlProps: {\n                decimals: 5\n              }\n            };\n          case 'string':\n            return {\n              cell: 'text'\n            };\n          default:\n            return {\n              cell: ''\n            };\n        }\n      }\n    }, {\n      id: 'setting',\n      name: 'setting',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Default'),\n      cell: ''\n    }];\n  }\n}\nclass VacuumSettingsSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor(tableVars, toastTableVars, nodeInfo) {\n    super({\n      vacuum_table: [],\n      vacuum_toast: []\n    });\n    this.tableVars = tableVars;\n    this.toastTableVars = toastTableVars;\n    this.nodeInfo = nodeInfo;\n    this.vacuumTableObj = new VacuumTableSchema('autovacuum_custom');\n    this.vacuumToastTableObj = new VacuumTableSchema('toast_autovacuum');\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'autovacuum_custom',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Custom auto-vacuum?'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Table'),\n      mode: ['edit', 'create'],\n      skipChange: true,\n      type: 'switch',\n      disabled: function (state) {\n        if (state.is_partitioned) {\n          return true;\n        }\n        // If table is partitioned table then disabled it.\n        if (state.top && state.is_partitioned) {\n          return true;\n        }\n        return !obj.inCatalog;\n      },\n      depChange(state) {\n        if (state.is_partitioned) {\n          return {\n            autovacuum_custom: false\n          };\n        }\n      }\n    }, {\n      id: 'autovacuum_enabled',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Autovacuum Enabled?'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Table'),\n      mode: ['edit', 'create'],\n      type: 'toggle',\n      options: [{\n        'label': sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Not set'),\n        'value': 'x'\n      }, {\n        'label': sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Yes'),\n        'value': 't'\n      }, {\n        'label': sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('No'),\n        'value': 'f'\n      }],\n      deps: ['autovacuum_custom'],\n      disabled: function (state) {\n        return !(obj.inCatalog && state.autovacuum_custom);\n      },\n      depChange: function (state) {\n        if (obj.inCatalog && state.autovacuum_custom) {\n          return;\n        }\n        return {\n          autovacuum_enabled: 'x'\n        };\n      }\n    }, {\n      id: 'vacuum_table',\n      label: '',\n      editable: false,\n      type: 'collection',\n      canEdit: false,\n      canAdd: false,\n      canDelete: false,\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Table'),\n      fixedRows: this.tableVars,\n      schema: this.vacuumTableObj,\n      mode: ['edit', 'create']\n    }, {\n      id: 'toast_autovacuum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Custom auto-vacuum?'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('TOAST table'),\n      mode: ['edit', 'create'],\n      type: 'switch',\n      disabled: function (state) {\n        // We need to check additional condition to toggle enable/disable\n        // for table auto-vacuum\n        return !(obj.inCatalog && (obj.top.isNew() || state.hastoasttable));\n      }\n    }, {\n      id: 'toast_autovacuum_enabled',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Autovacuum Enabled?'),\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('TOAST table'),\n      mode: ['edit', 'create'],\n      type: 'toggle',\n      options: [{\n        'label': sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Not set'),\n        'value': 'x'\n      }, {\n        'label': sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Yes'),\n        'value': 't'\n      }, {\n        'label': sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('No'),\n        'value': 'f'\n      }],\n      deps: ['toast_autovacuum'],\n      disabled: function (state) {\n        return !(obj.inCatalog && state.toast_autovacuum);\n      },\n      depChange: function (state) {\n        if (obj.inCatalog && state.toast_autovacuum) {\n          return;\n        }\n        if (obj.isNew() || state.hastoasttable) {\n          return {\n            toast_autovacuum_enabled: 'x'\n          };\n        }\n      }\n    }, {\n      id: 'vacuum_toast',\n      label: '',\n      type: 'collection',\n      fixedRows: this.toastTableVars,\n      editable: function (state) {\n        return obj.isNew(state);\n      },\n      canEdit: false,\n      canAdd: false,\n      canDelete: false,\n      group: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('TOAST table'),\n      schema: this.vacuumToastTableObj,\n      mode: ['properties', 'edit', 'create'],\n      deps: ['toast_autovacuum']\n    }];\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/servers/static/js/vacuum.ui.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/ERDModule.js":
/*!**************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/ERDModule.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ERDModule),\n/* harmony export */   setPanelTitle: () => (/* binding */ setPanelTitle)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/window */ \"./pgadmin/static/js/window.js\");\n/* harmony import */ var tools_sqleditor_static_js_sqleditor_title__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tools/sqleditor/static/js/sqleditor_title */ \"./pgadmin/tools/sqleditor/static/js/sqleditor_title.js\");\n/* harmony import */ var sources_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-dom/client */ \"./node_modules/react-dom/client.js\");\n/* harmony import */ var _erd_tool_components_ERDTool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./erd_tool/components/ERDTool */ \"./pgadmin/tools/erd/static/js/erd_tool/components/ERDTool.jsx\");\n/* harmony import */ var _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../static/js/helpers/ModalProvider */ \"./pgadmin/static/js/helpers/ModalProvider.jsx\");\n/* harmony import */ var _static_js_Theme__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../static/js/Theme */ \"./pgadmin/static/js/Theme/index.jsx\");\n/* harmony import */ var _browser_static_js_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../browser/static/js/constants */ \"./pgadmin/browser/static/js/constants.js\");\n/* harmony import */ var _static_js_helpers_Notifier__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../static/js/helpers/Notifier */ \"./pgadmin/static/js/helpers/Notifier.jsx\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction setPanelTitle(docker, panelId, panelTitle) {\n  docker.setTitle(panelId, panelTitle);\n}\nclass ERDModule {\n  static getInstance() {\n    if (!ERDModule.instance) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      ERDModule.instance = new ERDModule(...args);\n    }\n    return ERDModule.instance;\n  }\n  constructor(pgAdmin, pgBrowser) {\n    this.pgAdmin = pgAdmin;\n    this.pgBrowser = pgBrowser;\n  }\n  init() {\n    if (this.initialized) return;\n    this.initialized = true;\n\n    // Define the nodes on which the menus to be appear\n    this.pgBrowser.add_menus([{\n      name: 'erd',\n      module: this,\n      applies: ['tools'],\n      callback: 'showErdTool',\n      priority: 1,\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('ERD Tool'),\n      enable: this.erdToolEnabled,\n      data: {\n        data_disabled: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('The selected tree node does not support this option.')\n      }\n    }]);\n    return this;\n  }\n  erdToolEnabled(obj) {\n    /* Same as query tool */\n    return (() => {\n      if (!_.isUndefined(obj) && !_.isNull(obj)) {\n        if (_.indexOf(this.pgAdmin.unsupported_nodes, obj._type) == -1) {\n          if (obj._type == 'database' && obj.allowConn) {\n            return true;\n          } else if (obj._type != 'database') {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    })();\n  }\n\n  // Callback to draw ERD Tool for objects\n  showErdTool(_data, treeIdentifier) {\n    let gen = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (treeIdentifier === undefined) {\n      sources_pgadmin__WEBPACK_IMPORTED_MODULE_14___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('ERD Error'), sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('No object selected.'));\n      return;\n    }\n    const parentData = this.pgBrowser.tree.getTreeNodeHierarchy(treeIdentifier);\n    if (_.isUndefined(parentData.database)) {\n      sources_pgadmin__WEBPACK_IMPORTED_MODULE_14___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('ERD Error'), sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Please select a database/database object.'));\n      return;\n    }\n    const transId = (0,sources_utils__WEBPACK_IMPORTED_MODULE_3__.getRandomInt)(1, 9999999);\n    const panelTitle = (0,tools_sqleditor_static_js_sqleditor_title__WEBPACK_IMPORTED_MODULE_2__.getPanelTitle)(this.pgBrowser, treeIdentifier);\n    const panelUrl = this.getPanelUrl(transId, parentData, gen);\n    const open_new_tab = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_13__[\"default\"].getState().getPreferencesForModule('browser').new_browser_tab_open;\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_14___default().Browser.Events.trigger('pgadmin:tool:show', `${_browser_static_js_constants__WEBPACK_IMPORTED_MODULE_11__.BROWSER_PANELS.ERD_TOOL}_${transId}`, panelUrl, {\n      title: _.escape(panelTitle)\n    }, {\n      title: 'Untitled',\n      icon: 'fa fa-sitemap'\n    }, Boolean(open_new_tab?.includes('erd_tool')));\n    return true;\n  }\n  getPanelUrl(transId, parentData, gen) {\n    let openUrl = sources_url_for__WEBPACK_IMPORTED_MODULE_4___default()('erd.panel', {\n      trans_id: transId\n    });\n    openUrl += `?sgid=${parentData.server_group._id}` + `&sid=${parentData.server._id}` + `&server_type=${parentData.server.server_type}` + `&did=${parentData.database._id}` + `&gen=${gen}`;\n    if (parentData.schema) {\n      openUrl += `&scid=${parentData.schema._id}`;\n    }\n    if (parentData.table) {\n      openUrl += `&tid=${parentData.table._id}`;\n    }\n    return openUrl;\n  }\n  async loadComponent(container, params) {\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_14___default().Browser.keyboardNavigation.init();\n    await (0,_preferences_static_js_store__WEBPACK_IMPORTED_MODULE_13__.listenPreferenceBroadcast)();\n    const root = react_dom_client__WEBPACK_IMPORTED_MODULE_7__.createRoot(container);\n    root.render(/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_static_js_Theme__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_15__.PgAdminProvider, {\n      value: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_14___default())\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_static_js_helpers_Notifier__WEBPACK_IMPORTED_MODULE_12__.NotifierProvider, {\n      pgAdmin: this.pgAdmin,\n      pgWindow: sources_window__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_erd_tool_components_ERDTool__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      params: params,\n      pgWindow: sources_window__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n      pgAdmin: this.pgAdmin,\n      panelId: `${_browser_static_js_constants__WEBPACK_IMPORTED_MODULE_11__.BROWSER_PANELS.ERD_TOOL}_${params.trans_id}`,\n      panelDocker: sources_window__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pgAdmin.Browser.docker.default_workspace\n    })))));\n  }\n}\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ERDModule, \"instance\", void 0);\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/ERDModule.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/ERDConstants.js":
/*!**************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/ERDConstants.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERD_EVENTS: () => (/* binding */ ERD_EVENTS)\n/* harmony export */ });\nconst ERD_EVENTS = {\n  LOAD_DIAGRAM: 'LOAD_DIAGRAM',\n  SAVE_DIAGRAM: 'SAVE_DIAGRAM',\n  TRIGGER_SHOW_SQL: 'TRIGGER_SHOW_SQL',\n  SHOW_SQL: 'SHOW_SQL',\n  DOWNLOAD_IMAGE: 'DOWNLOAD_IMAGE',\n  ADD_NODE: 'ADD_NODE',\n  EDIT_NODE: 'EDIT_NODE',\n  CLONE_NODE: 'CLONE_NODE',\n  DELETE_NODE: 'DELETE_NODE',\n  SHOW_NOTE: 'SHOW_NOTE',\n  ONE_TO_ONE: 'ONE_TO_ONE',\n  ONE_TO_MANY: 'ONE_TO_MANY',\n  MANY_TO_MANY: 'MANY_TO_MANY',\n  AUTO_DISTRIBUTE: 'AUTO_DISTRIBUTE',\n  TOGGLE_DETAILS: 'TOGGLE_DETAILS',\n  CHANGE_COLORS: 'CHANGE_COLORS',\n  ZOOM_FIT: 'ZOOM_FIT',\n  ZOOM_IN: 'ZOOM_IN',\n  ZOOM_OUT: 'ZOOM_OUT',\n  SINGLE_NODE_SELECTED: 'SINGLE_NODE_SELECTED',\n  ANY_ITEM_SELECTED: 'ANY_ITEM_SELECTED',\n  DIRTY: 'DIRTY'\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/ERDConstants.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/ERDCore.js":
/*!*********************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/ERDCore.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ERDCore)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @projectstorm/react-diagrams */ \"./node_modules/@projectstorm/react-diagrams/dist/index.js\");\n/* harmony import */ var _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @projectstorm/react-canvas-core */ \"./node_modules/@projectstorm/react-canvas-core/dist/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _nodes_TableNode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nodes/TableNode */ \"./pgadmin/tools/erd/static/js/erd_tool/nodes/TableNode.jsx\");\n/* harmony import */ var _links_OneToManyLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./links/OneToManyLink */ \"./pgadmin/tools/erd/static/js/erd_tool/links/OneToManyLink.jsx\");\n/* harmony import */ var _ports_OneToManyPort__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ports/OneToManyPort */ \"./pgadmin/tools/erd/static/js/erd_tool/ports/OneToManyPort.js\");\n/* harmony import */ var _ERDModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ERDModel */ \"./pgadmin/tools/erd/static/js/erd_tool/ERDModel.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_constraints_foreign_key_static_js_foreign_key_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui.js\");\n/* harmony import */ var diff_arrays_of_objects__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! diff-arrays-of-objects */ \"./node_modules/diff-arrays-of-objects/lib/index.js\");\n/* harmony import */ var diff_arrays_of_objects__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(diff_arrays_of_objects__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../browser/server_groups/servers/databases/schemas/tables/static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_columns_static_js_column_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_js_unique_constraint_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/unique_constraint.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/unique_constraint.ui.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_js_primary_key_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/primary_key.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/js/primary_key.ui.js\");\n/* harmony import */ var _projectstorm_geometry__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @projectstorm/geometry */ \"./node_modules/@projectstorm/geometry/dist/index.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n/*\r\n * The ERDCore is the middleware between the canvas engine and the UI DOM.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ERDCore {\n  constructor() {\n    this._cache = {};\n    this.table_counter = 1;\n    this.node_position_updating = false;\n    this.link_position_updating = false;\n    this.initializeEngine();\n    this.initializeModel();\n    this.computeTableCounter();\n  }\n  createEngine(options) {\n    return (0,_projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(options);\n  }\n  initializeEngine() {\n    this.engine = this.createEngine({\n      registerDefaultDeleteItemsAction: false,\n      registerDefaultZoomCanvasAction: false\n    });\n    this.dagre_engine = new _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.DagreEngine({\n      graph: {\n        marginx: 5,\n        marginy: 5\n      },\n      includeLinks: false\n    });\n    this.engine.getNodeFactories().registerFactory(new _nodes_TableNode__WEBPACK_IMPORTED_MODULE_4__.TableNodeFactory());\n    this.engine.getLinkFactories().registerFactory(new _links_OneToManyLink__WEBPACK_IMPORTED_MODULE_5__.OneToManyLinkFactory());\n    this.engine.getPortFactories().registerFactory(new _ports_OneToManyPort__WEBPACK_IMPORTED_MODULE_6__.OneToManyPortFactory());\n    this.registerKeyAction(new _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_2__.ZoomCanvasAction({\n      inverseZoom: true\n    }));\n  }\n  initializeModel(data) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : () => {/*This is intentional (SonarQube)*/};\n    let model = new _ERDModel__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n    if (data) {\n      model.deserializeModel(data, this.engine);\n      this.fireEvent(model.getOptions(), 'offsetUpdated', true);\n      this.fireEvent(model.getOptions(), 'zoomUpdated', true);\n    }\n    const registerNodeEvents = node => {\n      node.registerListener({\n        eventDidFire: e => {\n          if (e.function === 'selectionChanged') {\n            this.fireEvent({}, 'nodesSelectionChanged', true);\n          } else if (e.function === 'showNote') {\n            this.fireEvent({\n              node: e.entity\n            }, 'showNote', true);\n          } else if (e.function === 'editTable') {\n            this.fireEvent({\n              node: e.entity\n            }, 'editTable', true);\n          } else if (e.function === 'nodeUpdated') {\n            this.fireEvent({}, 'nodesUpdated', true);\n          } else if (e.function === 'positionChanged') {\n            /* Eat up the excessive positionChanged events if node is dragged continuosly */\n            if (!this.node_position_updating) {\n              this.node_position_updating = true;\n              this.fireEvent({}, 'nodesUpdated', true);\n              this.optimizePortsPosition(node);\n              setTimeout(() => {\n                this.node_position_updating = false;\n              }, 500);\n            }\n          }\n        }\n      });\n    };\n    const registerLinkEvents = link => {\n      link.registerListener({\n        eventDidFire: e => {\n          if (e.function === 'selectionChanged') {\n            this.fireEvent({}, 'linksSelectionChanged', true);\n          } else if (e.function === 'positionChanged') {\n            /* positionChanged is triggered manually in Link */\n            /* Eat up the excessive positionChanged events if link is dragged continuosly */\n            if (!this.link_position_updating) {\n              this.link_position_updating = true;\n              this.fireEvent({}, 'linksUpdated', true);\n              setTimeout(() => {\n                this.link_position_updating = false;\n              }, 500);\n            }\n          }\n        }\n      });\n    };\n\n    /* Register events for deserialized data */\n    model.getNodes().forEach(node => {\n      registerNodeEvents(node);\n    });\n    model.getLinks().forEach(link => {\n      registerLinkEvents(link);\n    });\n\n    /* Listen and register events for new data */\n    model.registerListener({\n      'nodesUpdated': e => {\n        if (e.isCreated) {\n          registerNodeEvents(e.node);\n        }\n      },\n      'linksUpdated': e => {\n        if (e.isCreated) {\n          registerLinkEvents(e.link);\n        }\n      }\n    });\n    model.setGridSize(15);\n    this.engine.setModel(model);\n    callback();\n  }\n  computeTableCounter() {\n    /* Some inteligence can be added to set the counter */\n    this.table_counter = 1;\n  }\n  setCache(data, value) {\n    if (typeof data == 'string') {\n      this._cache[data] = value;\n    } else {\n      this._cache = _objectSpread(_objectSpread({}, this._cache), data);\n    }\n  }\n  getCache(key) {\n    return key ? this._cache[key] : this._cache;\n  }\n  registerModelEvent(eventName, callback) {\n    this.getModel().registerListener({\n      [eventName]: callback\n    });\n  }\n  getNextTableName() {\n    let newTableName = `newtable${this.table_counter}`;\n    this.table_counter++;\n    return newTableName;\n  }\n  getEngine() {\n    return this.engine;\n  }\n  getModel() {\n    return this.getEngine().getModel();\n  }\n  getBoundingLinksRect() {\n    return (0,_projectstorm_geometry__WEBPACK_IMPORTED_MODULE_14__.boundingBoxFromPolygons)(this.getEngine().getModel().getLinks().map(l => l.getBoundingBox()));\n  }\n  getNewNode(initData) {\n    let dataUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return this.getEngine().getNodeFactories().getFactory('table').generateModel({\n      initialConfig: {\n        otherInfo: {\n          data: initData,\n          dataUrl: dataUrl\n        }\n      }\n    });\n  }\n  getNewLink(type, initData) {\n    return this.getEngine().getLinkFactories().getFactory(type).generateModel({\n      initialConfig: {\n        data: initData\n      }\n    });\n  }\n  getNewPort(portName, alignment) {\n    return this.getEngine().getPortFactories().getFactory('onetomany').generateModel({\n      initialConfig: {\n        data: null,\n        options: {\n          name: portName,\n          alignment: alignment\n        }\n      }\n    });\n  }\n  getLeftRightPorts(node, attnum) {\n    const leftPort = node.getPort(node.getPortName(attnum, _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.LEFT)) ?? node.addPort(this.getNewPort(node.getPortName(attnum, _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.LEFT), _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.LEFT));\n    const rightPort = node.getPort(node.getPortName(attnum, _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.RIGHT)) ?? node.addPort(this.getNewPort(node.getPortName(attnum, _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.RIGHT), _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.RIGHT));\n    return [leftPort, rightPort];\n  }\n  optimizePortsPosition(node) {\n    Object.values(node.getLinks()).forEach(link => {\n      const sourcePort = link.getSourcePort();\n      const targetPort = link.getTargetPort();\n      const [newSourcePort, newTargetPort] = this.getOptimumPorts(sourcePort.getNode(), sourcePort.getNode().getPortAttnum(sourcePort.getName()), targetPort.getNode(), targetPort.getNode().getPortAttnum(targetPort.getName()));\n      sourcePort != newSourcePort && link.setSourcePort(newSourcePort);\n      targetPort != newTargetPort && link.setTargetPort(newTargetPort);\n    });\n  }\n  addNode(data) {\n    let position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [50, 50];\n    let metadata = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let newNode = this.getNewNode(data);\n    this.clearSelection();\n    newNode.setPosition(position[0], position[1]);\n    newNode.setMetadata(metadata);\n    this.getModel().addNode(newNode);\n    return newNode;\n  }\n  removeNode(node) {\n    let self = this;\n    node.setSelected(false);\n    Object.values(node.getPorts()).forEach(port => {\n      Object.values(port.getLinks()).forEach(link => {\n        self.removeOneToManyLink(link);\n      });\n    });\n    node.remove();\n  }\n  anyDuplicateNodeName(newNodeData, oldNodeData) {\n    if (newNodeData.name == oldNodeData?.name && newNodeData.schema == oldNodeData?.schema) {\n      return false;\n    }\n    return lodash__WEBPACK_IMPORTED_MODULE_3___default().filter(this.getNodesData(), n => {\n      return n.name == newNodeData.name && n.schema == newNodeData.schema;\n    }).length > 0;\n  }\n  getOptimumPorts(sourceNode, sourceAttnum, targetNode, targetAttnum) {\n    const [sourceLeftPort, sourceRightPort] = this.getLeftRightPorts(sourceNode, sourceAttnum);\n    const [targetLeftPort, targetRightPort] = this.getLeftRightPorts(targetNode, targetAttnum);\n\n    /* Lets use right as default */\n    let sourcePort = sourceRightPort;\n    let targetPort = targetRightPort;\n    const sourceNodePos = sourceNode.getBoundingBox();\n    const targetNodePos = targetNode.getBoundingBox();\n    const sourceLeftX = sourceNodePos.getBottomLeft().x;\n    const sourceRightX = sourceNodePos.getBottomRight().x;\n    const targetLeftX = targetNodePos.getBottomLeft().x;\n    const targetRightX = targetNodePos.getBottomRight().x;\n    const OFFSET = _links_OneToManyLink__WEBPACK_IMPORTED_MODULE_5__.POINTER_SIZE * 2 + 10;\n    if (targetLeftX - sourceRightX >= OFFSET) {\n      sourcePort = sourceRightPort;\n      targetPort = targetLeftPort;\n    } else if (sourceLeftX - targetRightX >= OFFSET) {\n      sourcePort = sourceLeftPort;\n      targetPort = targetRightPort;\n    } else if (targetLeftX - sourceRightX < OFFSET || sourceLeftX - targetRightX < OFFSET) {\n      if (sourcePort.getAlignment() == _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.RIGHT) {\n        targetPort = targetRightPort;\n      } else {\n        targetPort = targetLeftPort;\n      }\n    }\n    return [sourcePort, targetPort];\n  }\n  addLink(data, type) {\n    let tableNodesDict = this.getModel().getNodesDict();\n    let sourceNode = tableNodesDict[data.referenced_table_uid];\n    let targetNode = tableNodesDict[data.local_table_uid];\n    const [sourcePort, targetPort] = this.getOptimumPorts(sourceNode, data.referenced_column_attnum, targetNode, data.local_column_attnum);\n\n    /* Link the ports */\n    let newLink = this.getNewLink(type, data);\n    newLink.setSourcePort(sourcePort);\n    newLink.setTargetPort(targetPort);\n    this.getModel().addLink(newLink);\n    return newLink;\n  }\n  removePortLinks(port) {\n    let links = port.getLinks();\n    Object.values(links).forEach(link => {\n      link.getTargetPort().remove();\n      link.getSourcePort().remove();\n      link.setSelected(false);\n      link.remove();\n    });\n  }\n  syncColDrop(tableNode, oldTableData) {\n    let self = this;\n    if (!oldTableData) {\n      return;\n    }\n    let tableData = tableNode.getData();\n    /* Remove the links if column dropped or primary key removed */\n    lodash__WEBPACK_IMPORTED_MODULE_3___default().differenceWith(oldTableData.columns, tableData.columns, function (existing, incoming) {\n      return existing.attnum == incoming.attnum;\n    }).forEach(col => {\n      this.getLeftRightPorts(tableNode, col.attnum).forEach(port => {\n        if (port) {\n          Object.values(port.getLinks()).forEach(link => {\n            self.removeOneToManyLink(link);\n          });\n          tableNode.removePort(port);\n        }\n      });\n    });\n    Object.values(tableNode.getLinks()).forEach(link => {\n      link.fireEvent({}, 'updateLink');\n    });\n  }\n  syncFkRefNames(tableNode, oldTableData) {\n    if (!oldTableData) {\n      return;\n    }\n    let tableData = tableNode.getData();\n    /* Sync the name changes in references FK */\n    Object.values(tableNode.getLinks()).forEach(link => {\n      if (link.getSourcePort().getNode() != tableNode) {\n        /* SourcePort is the referred table */\n        /* If the link doesn't refer this table, skip it */\n        return;\n      }\n      let linkData = link.getData();\n      let fkTableNode = this.getModel().getNodesDict()[linkData.local_table_uid];\n      let newForeingKeys = [];\n      /* Update the FK table with new references */\n      fkTableNode.getData().foreign_key?.forEach(theFkRow => {\n        for (let fkColumn of theFkRow.columns) {\n          if (fkColumn.references == tableNode.getID()) {\n            let attnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(oldTableData.columns, c => c.name == fkColumn.referenced)?.attnum;\n            fkColumn.referenced = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(tableData.columns, colm => colm.attnum == attnum).name;\n            fkColumn.references_table_name = tableData.name;\n          }\n        }\n        newForeingKeys.push(theFkRow);\n      });\n      fkTableNode.setData(_objectSpread(_objectSpread({}, fkTableNode.getData()), {}, {\n        foreign_key: newForeingKeys\n      }));\n    });\n  }\n  syncTableLinks(tableNode, oldTableData) {\n    if (oldTableData) {\n      this.syncColDrop(tableNode, oldTableData);\n      this.syncFkRefNames(tableNode, oldTableData);\n    }\n    /* Sync the changed/removed/added foreign keys */\n    let tableData = tableNode.getData();\n    let tableNodesDict = this.getModel().getNodesDict();\n    const addLink = theFk => {\n      if (!theFk) return;\n      let newData = {\n        local_table_uid: tableNode.getID(),\n        local_column_attnum: undefined,\n        referenced_table_uid: theFk.references,\n        referenced_column_attnum: undefined\n      };\n      let sourceNode = tableNodesDict[newData.referenced_table_uid];\n      newData.local_column_attnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(tableNode.getColumns(), col => col.name == theFk.local_column).attnum;\n      newData.referenced_column_attnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(sourceNode.getColumns(), col => col.name == theFk.referenced).attnum;\n      this.addLink(newData, 'onetomany');\n    };\n    const removeLink = theFk => {\n      if (!theFk) return;\n      let tableNodesDict = this.getModel().getNodesDict();\n      let sourceNode = tableNodesDict[theFk.references];\n      let localAttnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(tableNode.getColumns(), col => col.name == theFk.local_column)?.attnum;\n      let refAttnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(sourceNode.getColumns(), col => col.name == theFk.referenced)?.attnum;\n      const fkLink = Object.values(tableNode.getLinks()).find(link => {\n        const ldata = link.getData();\n        return ldata.local_column_attnum == localAttnum && ldata.local_table_uid == tableNode.getID() && ldata.referenced_column_attnum == refAttnum && ldata.referenced_table_uid == theFk.references;\n      });\n      fkLink?.remove();\n    };\n    const changeDiff = diff_arrays_of_objects__WEBPACK_IMPORTED_MODULE_9___default()(oldTableData?.foreign_key || [], tableData?.foreign_key || [], 'cid');\n    changeDiff.added.forEach(theFk => {\n      addLink(theFk.columns[0]);\n    });\n    changeDiff.removed.forEach(theFk => {\n      removeLink(theFk.columns[0]);\n    });\n    if (changeDiff.updated.length > 0) {\n      for (const changedRow of changeDiff.updated) {\n        let rowIndx = lodash__WEBPACK_IMPORTED_MODULE_3___default().findIndex(tableData.foreign_key, f => f.cid == changedRow.cid);\n        const changeDiffCols = diff_arrays_of_objects__WEBPACK_IMPORTED_MODULE_9___default()(oldTableData.foreign_key[rowIndx].columns, tableData.foreign_key[rowIndx].columns, 'cid');\n        if (changeDiffCols.removed.length > 0) {\n          /* any change in columns length remove all and create new link */\n          oldTableData.foreign_key[rowIndx].columns.forEach(col => {\n            removeLink(col);\n          });\n          addLink(tableData.foreign_key[rowIndx].columns[0]);\n        }\n      }\n    }\n  }\n  addOneToManyLink(onetomanyData) {\n    let newFk = new _browser_server_groups_servers_databases_schemas_tables_constraints_foreign_key_static_js_foreign_key_ui__WEBPACK_IMPORTED_MODULE_8__[\"default\"]({}, {}, () => {/*This is intentional (SonarQube)*/}, {\n      autoindex: false\n    });\n    let tableNodesDict = this.getModel().getNodesDict();\n    let fkColumn = {};\n    let sourceNode = tableNodesDict[onetomanyData.referenced_table_uid];\n    let targetNode = tableNodesDict[onetomanyData.local_table_uid];\n    fkColumn.local_column = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(targetNode.getColumns(), colm => colm.attnum == onetomanyData.local_column_attnum).name;\n    fkColumn.referenced = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(sourceNode.getColumns(), colm => colm.attnum == onetomanyData.referenced_column_attnum).name;\n    fkColumn.references = onetomanyData.referenced_table_uid;\n    fkColumn.references_table_name = sourceNode.getData().name;\n    let tableData = targetNode.getData();\n    tableData.foreign_key = tableData.foreign_key || [];\n    let col = newFk.fkColumnSchema.getNewData(fkColumn);\n    tableData.foreign_key.push(newFk.getNewData({\n      columns: [col]\n    }));\n    // Below logic is to add one to one relationship\n    if (onetomanyData.constraint_type === 'primary_key') {\n      let newPk = new _browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_js_primary_key_ui__WEBPACK_IMPORTED_MODULE_13__[\"default\"]({}, {});\n      let pkCol = {};\n      let column = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(targetNode.getColumns(), colm => colm.attnum == onetomanyData.local_column_attnum);\n      column.is_primary_key = true;\n      pkCol.column = column.name;\n      tableData.primary_key = tableData.primary_key || [];\n      tableData.primary_key.push(newPk.getNewData({\n        columns: [pkCol]\n      }));\n    } else if (onetomanyData.constraint_type === 'unique') {\n      let newUk = new _browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_js_unique_constraint_ui__WEBPACK_IMPORTED_MODULE_12__[\"default\"]({}, {});\n      let ukCol = {};\n      ukCol.column = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(targetNode.getColumns(), colm => colm.attnum == onetomanyData.local_column_attnum).name;\n      tableData.unique_constraint = tableData.unique_constraint || [];\n      tableData.unique_constraint.push(newUk.getNewData({\n        columns: [ukCol]\n      }));\n    }\n    targetNode.setData(tableData);\n    let newLink = this.addLink(onetomanyData, 'onetomany');\n    this.clearSelection();\n    newLink.setSelected(true);\n    this.repaint();\n  }\n  removeOneToManyLink(link) {\n    let linkData = link.getData();\n    let tableNode = this.getModel().getNodesDict()[linkData.local_table_uid];\n    let tableData = tableNode.getData();\n    let newForeingKeys = [];\n    tableData.foreign_key?.forEach(theFkRow => {\n      let theFk = theFkRow.columns[0];\n      let attnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(tableNode.getColumns(), col => col.name == theFk.local_column).attnum;\n      /* Skip all those whose attnum and table matches to the link */\n      if (linkData.local_column_attnum != attnum || linkData.referenced_table_uid != theFk.references) {\n        newForeingKeys.push(theFkRow);\n      }\n    });\n    tableData.foreign_key = newForeingKeys;\n    tableNode.setData(tableData);\n    link.getTargetPort().remove();\n    link.getSourcePort().remove();\n    link.setSelected(false);\n    link.remove();\n  }\n  addManyToManyLink(manytomanyData) {\n    let nodes = this.getModel().getNodesDict();\n    let leftNode = nodes[manytomanyData.left_table_uid];\n    let rightNode = nodes[manytomanyData.right_table_uid];\n    let tableObj = new _browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({}, {}, {\n      constraints: () => {/*This is intentional (SonarQube)*/},\n      columns: () => new _browser_server_groups_servers_databases_schemas_tables_columns_static_js_column_ui__WEBPACK_IMPORTED_MODULE_11__[\"default\"](() => {/*This is intentional (SonarQube)*/}, {}, {}, {}),\n      vacuum_settings: () => {/*This is intentional (SonarQube)*/}\n    }, () => {/*This is intentional (SonarQube)*/}, () => {/*This is intentional (SonarQube)*/}, () => {/*This is intentional (SonarQube)*/}, () => {/*This is intentional (SonarQube)*/});\n    let tableData = tableObj.getNewData({\n      name: `${leftNode.getData().name}_${rightNode.getData().name}`,\n      schema: leftNode.getData().schema,\n      columns: [tableObj.columnsSchema.getNewData(_objectSpread(_objectSpread({}, leftNode.getColumnAt(manytomanyData.left_table_column_attnum)), {}, {\n        'name': `${leftNode.getData().name}_${leftNode.getColumnAt(manytomanyData.left_table_column_attnum).name}`,\n        'attnum': 0,\n        'is_primary_key': false\n      })), tableObj.columnsSchema.getNewData(_objectSpread(_objectSpread({}, rightNode.getColumnAt(manytomanyData.right_table_column_attnum)), {}, {\n        'name': `${rightNode.getData().name}_${rightNode.getColumnAt(manytomanyData.right_table_column_attnum).name}`,\n        'attnum': 1,\n        'is_primary_key': false\n      }))]\n    });\n    let newNode = this.addNode(tableData);\n    this.clearSelection();\n    newNode.setSelected(true);\n    let linkData = {\n      local_table_uid: newNode.getID(),\n      local_column_attnum: newNode.getColumns()[0].attnum,\n      referenced_table_uid: manytomanyData.left_table_uid,\n      referenced_column_attnum: manytomanyData.left_table_column_attnum\n    };\n    this.addOneToManyLink(linkData);\n    linkData = {\n      local_table_uid: newNode.getID(),\n      local_column_attnum: newNode.getColumns()[1].attnum,\n      referenced_table_uid: manytomanyData.right_table_uid,\n      referenced_column_attnum: manytomanyData.right_table_column_attnum\n    };\n    this.addOneToManyLink(linkData);\n    this.repaint();\n  }\n  cloneTableData(tableData, name) {\n    const SKIP_CLONE_KEYS = ['foreign_key'];\n    if (!tableData) {\n      return tableData;\n    }\n    let newData = _objectSpread({}, lodash__WEBPACK_IMPORTED_MODULE_3___default().pickBy(tableData, (_v, k) => SKIP_CLONE_KEYS.indexOf(k) == -1));\n    if (name) {\n      newData['name'] = name;\n    }\n    return newData;\n  }\n  serialize(version) {\n    return {\n      version: version || 0,\n      data: this.getModel().serialize()\n    };\n  }\n  deserialize(json_data) {\n    if (json_data.version) {\n      this.initializeModel(json_data.data);\n    }\n  }\n  serializeData() {\n    let nodes = {};\n    let nodesDict = this.getModel().getNodesDict();\n    Object.keys(nodesDict).forEach(id => {\n      let nodeData = nodesDict[id].serializeData();\n      if (nodeData) {\n        nodes[id] = nodeData;\n      }\n    });\n    return {\n      'nodes': nodes\n    };\n  }\n  deserializeData(data) {\n    let oidUidMap = {};\n\n    /* Add the nodes */\n    data.forEach(nodeData => {\n      let newNode = this.addNode(_browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_10__[\"default\"].getErdSupportedData(nodeData));\n      oidUidMap[nodeData.oid] = newNode.getID();\n    });\n\n    /* Lets use the oidUidMap for creating the links */\n    let tableNodesDict = this.getModel().getNodesDict();\n    lodash__WEBPACK_IMPORTED_MODULE_3___default().forIn(tableNodesDict, (node, uid) => {\n      let nodeData = node.getData();\n      if (nodeData.foreign_key) {\n        nodeData.foreign_key = nodeData.foreign_key.filter(theFk => {\n          delete theFk.oid;\n          theFk = theFk.columns[0];\n          theFk.references = oidUidMap[theFk.references];\n          let newData = {\n            local_table_uid: uid,\n            local_column_attnum: undefined,\n            referenced_table_uid: theFk.references,\n            referenced_column_attnum: undefined\n          };\n          let sourceNode = tableNodesDict[newData.referenced_table_uid];\n          let targetNode = tableNodesDict[newData.local_table_uid];\n          // When generating for schema, there may be a reference to another schema table\n          // We'll remove the FK completely in such cases.\n          if (!sourceNode || !targetNode) {\n            return false;\n          }\n          newData.local_column_attnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(targetNode.getColumns(), col => col.name == theFk.local_column).attnum;\n          newData.referenced_column_attnum = lodash__WEBPACK_IMPORTED_MODULE_3___default().find(sourceNode.getColumns(), col => col.name == theFk.referenced).attnum;\n          this.addLink(newData, 'onetomany');\n          return true;\n        });\n      }\n    });\n  }\n  async repaint() {\n    await this.getEngine().repaintCanvas(true);\n  }\n  clearSelection() {\n    this.getEngine().getModel().clearSelection();\n  }\n  getNodesData() {\n    return this.getEngine().getModel().getNodes().map(node => {\n      return node.getData();\n    });\n  }\n  getSelectedNodes() {\n    return this.getEngine().getModel().getSelectedEntities().filter(entity => entity instanceof _nodes_TableNode__WEBPACK_IMPORTED_MODULE_4__.TableNodeModel);\n  }\n  getSelectedLinks() {\n    return this.getEngine().getModel().getSelectedEntities().filter(entity => entity instanceof _links_OneToManyLink__WEBPACK_IMPORTED_MODULE_5__.OneToManyLinkModel);\n  }\n  async dagreDistributeNodes() {\n    this.dagre_engine.redistribute(this.getModel());\n\n    // Swith left/right ports.\n    this.getModel().getNodes().forEach(node => {\n      this.optimizePortsPosition(node);\n    });\n    await this.repaint();\n  }\n  zoomIn() {\n    let model = this.getEngine().getModel();\n    if (model) {\n      model.setZoomLevel(model.getZoomLevel() + 25);\n      this.repaint();\n    }\n  }\n  zoomOut() {\n    let model = this.getEngine().getModel();\n    if (model) {\n      let zoomLevel = model.getZoomLevel();\n      zoomLevel -= 25;\n      /* Don't go belo zoom level 10 */\n      if (zoomLevel <= 10) {\n        zoomLevel = 10;\n      }\n      model.setZoomLevel(zoomLevel);\n      this.repaint();\n    }\n  }\n  zoomToFit() {\n    this.getEngine().zoomToFitNodes();\n  }\n\n  // Sample call: this.fireAction({ type: 'keydown', ctrlKey: true, code: 'KeyN' });\n  fireAction(event) {\n    this.getEngine().getActionEventBus().fireAction({\n      event: _objectSpread(_objectSpread({}, event), {}, {\n        key: '',\n        preventDefault: () => {/*This is intentional (SonarQube)*/},\n        stopPropagation: () => {/*This is intentional (SonarQube)*/}\n      })\n    });\n  }\n  fireEvent(data, eventName) {\n    let model = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (model) {\n      this.getEngine().getModel().fireEvent(data, eventName);\n    } else {\n      this.getEngine().fireEvent(data, eventName);\n    }\n  }\n  registerKeyAction(action) {\n    this.getEngine().getActionEventBus().registerAction(action);\n  }\n  deregisterKeyAction(action) {\n    this.getEngine().getActionEventBus().deregisterAction(action);\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/ERDCore.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/ERDModel.js":
/*!**********************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/ERDModel.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ERDModel)\n/* harmony export */ });\n/* harmony import */ var _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @projectstorm/react-diagrams */ \"./node_modules/@projectstorm/react-diagrams/dist/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\nclass ERDModel extends _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_0__.DiagramModel {\n  constructor(options) {\n    super(options);\n  }\n  getNodesDict() {\n    return lodash__WEBPACK_IMPORTED_MODULE_1___default().fromPairs(this.getNodes().map(node => [node.getID(), node]));\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/ERDModel.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/components/BeforeUnload.jsx":
/*!**************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/components/BeforeUnload.jsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BeforeUnload)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n\n\n\nfunction BeforeUnload(_ref) {\n  let {\n    onInit,\n    enabled,\n    isNewTab,\n    beforeClose,\n    closePanel\n  } = _ref;\n  const init = (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_1__.useBeforeUnload)({\n    enabled,\n    isNewTab,\n    beforeClose,\n    closePanel\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    onInit?.(init);\n  }, [init]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n}\nBeforeUnload.propTypes = {\n  onInit: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func),\n  enabled: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n  isNewTab: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool),\n  beforeClose: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func),\n  closePanel: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/components/BeforeUnload.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/components/ConnectionBar.jsx":
/*!***************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/components/ConnectionBar.jsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STATUS: () => (/* binding */ STATUS),\n/* harmony export */   \"default\": () => (/* binding */ ConnectionBar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/CircularProgress/CircularProgress.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Tooltip/Tooltip.js\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '4px',\n    backgroundColor: theme.otherVars.editorToolbarBg,\n    flexWrap: 'wrap',\n    '& .Status-connectionButton': {\n      display: 'flex',\n      width: '450px',\n      backgroundColor: theme.palette.default.main,\n      color: theme.palette.default.contrastText,\n      border: '1px solid ' + theme.palette.default.borderColor,\n      justifyContent: 'flex-start'\n    }\n  };\n});\nconst STATUS = {\n  CONNECTED: 1,\n  DISCONNECTED: 2,\n  CONNECTING: 3,\n  FAILED: 4\n};\nfunction ConnectionStatusIcon(_ref2) {\n  let {\n    status\n  } = _ref2;\n  if (status == STATUS.CONNECTING) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      style: {\n        height: '18px',\n        width: '18px'\n      }\n    });\n  } else if (status == STATUS.CONNECTED || status == STATUS.FAILED) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.ConnectedIcon, null);\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.DisconnectedIcon, null);\n  }\n}\nConnectionStatusIcon.propTypes = {\n  status: prop_types__WEBPACK_IMPORTED_MODULE_7___default().oneOf(Object.values(STATUS)).isRequired\n};\n\n/* The connection bar component */\nfunction ConnectionBar(_ref3) {\n  let {\n    status,\n    bgcolor,\n    fgcolor,\n    title\n  } = _ref3;\n  const connTitle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (status == STATUS.CONNECTED) {\n      return sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Connected');\n    } else if (status == STATUS.CONNECTING) {\n      return sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Connecting');\n    } else if (status == STATUS.DISCONNECTED) {\n      return sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Disconnected');\n    } else if (status == STATUS.FAILED) {\n      return sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Failed');\n    }\n  }, [status]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StyledBox, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: connTitle,\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ConnectionStatusIcon, {\n      status: status\n    }),\n    \"data-test\": \"btn-conn-status\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.DefaultButton, {\n    className: \"Status-connectionButton\",\n    style: {\n      backgroundColor: bgcolor,\n      color: fgcolor\n    },\n    \"data-test\": \"btn-conn-title\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    title: title\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    display: \"flex\",\n    width: \"100%\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n    marginRight: \"auto\"\n  }, status == STATUS.CONNECTING && sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('(Obtaining connection...)') + ' ', status == STATUS.FAILED && sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('(Connection failed)') + ' ', title))))));\n}\nConnectionBar.propTypes = {\n  status: prop_types__WEBPACK_IMPORTED_MODULE_7___default().oneOf(Object.values(STATUS)).isRequired,\n  bgcolor: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n  fgcolor: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n  title: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string).isRequired\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/components/ConnectionBar.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/components/ERDTool.jsx":
/*!*********************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/components/ERDTool.jsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERDCanvasSettings: () => (/* binding */ ERDCanvasSettings),\n/* harmony export */   KeyboardShortcutAction: () => (/* binding */ KeyboardShortcutAction),\n/* harmony export */   \"default\": () => (/* binding */ ERDTool)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @projectstorm/react-canvas-core */ \"./node_modules/@projectstorm/react-canvas-core/dist/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var html_to_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! html-to-image */ \"./node_modules/html-to-image/es/index.js\");\n/* harmony import */ var _ERDCore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ERDCore */ \"./pgadmin/tools/erd/static/js/erd_tool/ERDCore.js\");\n/* harmony import */ var _ConnectionBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConnectionBar */ \"./pgadmin/tools/erd/static/js/erd_tool/components/ConnectionBar.jsx\");\n/* harmony import */ var _FloatingNote__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FloatingNote */ \"./pgadmin/tools/erd/static/js/erd_tool/components/FloatingNote.jsx\");\n/* harmony import */ var _ERDModule__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ERDModule */ \"./pgadmin/tools/erd/static/js/ERDModule.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var tools_sqleditor_static_js_show_query_tool__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! tools/sqleditor/static/js/show_query_tool */ \"./pgadmin/tools/sqleditor/static/js/show_query_tool.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../browser/server_groups/servers/databases/schemas/tables/static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n/* harmony import */ var _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/helpers/ModalProvider */ \"./pgadmin/static/js/helpers/ModalProvider.jsx\");\n/* harmony import */ var _dialogs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../dialogs */ \"./pgadmin/tools/erd/static/js/erd_tool/dialogs/index.jsx\");\n/* harmony import */ var _static_js_Dialogs_ConfirmSaveContent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../static/js/Dialogs/ConfirmSaveContent */ \"./pgadmin/static/js/Dialogs/ConfirmSaveContent.jsx\");\n/* harmony import */ var _static_js_components_Loader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../static/js/components/Loader */ \"./pgadmin/static/js/components/Loader.jsx\");\n/* harmony import */ var _MainToolBar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./MainToolBar */ \"./pgadmin/tools/erd/static/js/erd_tool/components/MainToolBar.jsx\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_helpers_EventBus__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../../static/js/helpers/EventBus */ \"./pgadmin/static/js/helpers/EventBus.js\");\n/* harmony import */ var _ERDConstants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ERDConstants */ \"./pgadmin/tools/erd/static/js/erd_tool/ERDConstants.js\");\n/* harmony import */ var _static_js_api_instance__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../../static/js/api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var _static_js_socket_instance__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../static/js/socket_instance */ \"./pgadmin/static/js/socket_instance.js\");\n/* harmony import */ var _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../static/js/helpers/Layout */ \"./pgadmin/static/js/helpers/Layout/index.jsx\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _BeforeUnload__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./BeforeUnload */ \"./pgadmin/tools/erd/static/js/erd_tool/components/BeforeUnload.jsx\");\n/* harmony import */ var _static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../../../static/js/keyboard_shortcuts */ \"./pgadmin/static/js/keyboard_shortcuts.js\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* Custom react-diagram action for keyboard events */\nclass KeyboardShortcutAction extends _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_2__.Action {\n  constructor() {\n    let shortcut_handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    super({\n      type: _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_2__.InputType.KEY_DOWN,\n      fire: _ref => {\n        let {\n          event\n        } = _ref;\n        this.callHandler(event);\n      }\n    });\n    this.shortcuts = {};\n    this.preferencesStore = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_23__[\"default\"].getState();\n    for (let shortcut_val of shortcut_handlers) {\n      let [key, handler] = shortcut_val;\n      if (key) {\n        this.shortcuts[this.shortcutKey(key.alt, (0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_26__.isMac)() && key.ctrl_is_meta ? false : key.control, key.shift, (0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_26__.isMac)() && Boolean(key.ctrl_is_meta), key.key.key_code)] = handler;\n      }\n    }\n  }\n  shortcutKey(altKey, ctrlKey, shiftKey, metaKey, keyCode) {\n    return `${altKey}:${ctrlKey}:${shiftKey}:${metaKey}:${keyCode}`;\n  }\n  callHandler(event) {\n    let handler = this.shortcuts[this.shortcutKey(event.altKey, event.ctrlKey, event.shiftKey, event.metaKey, event.keyCode)];\n    if (handler) {\n      event.stopPropagation();\n      event.preventDefault();\n      handler();\n    }\n  }\n}\nconst getCanvasGrid = theme => {\n  let erdCanvasBg = encodeURIComponent(theme.otherVars.erdCanvasBg);\n  let erdGridColor = encodeURIComponent(theme.otherVars.erdGridColor);\n  return `url(\"data:image/svg+xml, %3Csvg width='100%25' viewBox='0 0 45 45' style='background-color:${erdCanvasBg}' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='smallGrid' width='15' height='15' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 15 0 L 0 0 0 15' fill='none' stroke='${erdGridColor}' stroke-width='0.5'/%3E%3C/pattern%3E%3Cpattern id='grid' width='45' height='45' patternUnits='userSpaceOnUse'%3E%3Crect width='100' height='100' fill='url(%23smallGrid)'/%3E%3Cpath d='M 100 0 L 0 0 0 100' fill='none' stroke='${erdGridColor}' stroke-width='1'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23grid)' /%3E%3C/svg%3E%0A\")`;\n};\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_29__[\"default\"])(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    '& .ERDTool-diagramContainer': {\n      position: 'relative',\n      width: '100%',\n      flexGrow: 1,\n      minHeight: 0,\n      '& .ERDTool-diagramCanvas': {\n        width: '100%',\n        height: '100%',\n        color: theme.palette.text.primary,\n        backgroundColor: theme.otherVars.erdCanvasBg,\n        backgroundImage: getCanvasGrid(theme),\n        cursor: 'unset',\n        flexGrow: 1\n      }\n    },\n    '& .ERDTool-html2canvasReset': {\n      backgroundImage: 'none !important',\n      overflow: 'auto !important'\n    }\n  };\n});\n\n/* The main body container for the ERD */\nclass ERDTool extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      conn_status: _ConnectionBar__WEBPACK_IMPORTED_MODULE_6__.STATUS.DISCONNECTED,\n      server_version: null,\n      any_item_selected: false,\n      single_node_selected: false,\n      single_link_selected: false,\n      coll_types: [],\n      loading_msg: null,\n      note_open: false,\n      note_node: null,\n      current_file: null,\n      dirty: false,\n      show_details: true,\n      is_new_tab: false,\n      is_close_tab_warning: true,\n      preferences: {},\n      table_dialog_open: true,\n      oto_dialog_open: true,\n      otm_dialog_open: true,\n      database: null,\n      fill_color: null,\n      text_color: null\n    };\n    this.diagram = new _ERDCore__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    /* Flag for checking if user has opted for save before close */\n    this.closeOnSave = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createRef();\n    this.containerRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createRef();\n    this.diagramContainerRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createRef();\n    this.canvasEle = props.isTest ? document.createElement('div') : null;\n    this.noteRefEle = null;\n    this.keyboardActionObj = null;\n    this.erdDialogs = new _dialogs__WEBPACK_IMPORTED_MODULE_14__[\"default\"](this.context);\n    this.apiObj = (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_20__[\"default\"])();\n    this.preferencesStore = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_23__[\"default\"].getState();\n    this.eventBus = new _static_js_helpers_EventBus__WEBPACK_IMPORTED_MODULE_18__[\"default\"]();\n    lodash__WEBPACK_IMPORTED_MODULE_3___default().bindAll(this, ['onLoadDiagram', 'onSaveDiagram', 'onSQLClick', 'onImageClick', 'onAddNewNode', 'onEditTable', 'onCloneNode', 'onDeleteNode', 'onNoteClick', 'onNoteClose', 'onOneToOneClick', 'onOneToManyClick', 'onManyToManyClick', 'onAutoDistribute', 'onDetailsToggle', 'onChangeColors', 'onDropNode', 'onNotationChange', 'closePanel']);\n    this.diagram.zoomToFit = this.diagram.zoomToFit.bind(this.diagram);\n    this.diagram.zoomIn = this.diagram.zoomIn.bind(this.diagram);\n    this.diagram.zoomOut = this.diagram.zoomOut.bind(this.diagram);\n    this.forceClose = this.closePanel;\n  }\n  registerModelEvents() {\n    let diagramEvents = {\n      'offsetUpdated': event => {\n        this.realignGrid({\n          backgroundPosition: `${event.offsetX}px ${event.offsetY}px`\n        });\n        event.stopPropagation();\n      },\n      'zoomUpdated': event => {\n        let {\n          gridSize\n        } = this.diagram.getModel().getOptions();\n        let bgSize = gridSize * event.zoom / 100;\n        this.realignGrid({\n          backgroundSize: `${bgSize * 3}px ${bgSize * 3}px`\n        });\n      },\n      'nodesSelectionChanged': () => {\n        let singleNodeSelected = false;\n        if (this.diagram.getSelectedNodes().length == 1) {\n          let metadata = this.diagram.getSelectedNodes()[0].getMetadata();\n          if (!metadata.is_promise) {\n            singleNodeSelected = true;\n          }\n        }\n        const anyItemSelected = this.diagram.getSelectedNodes().length > 0 || this.diagram.getSelectedLinks().length > 0;\n        this.setState({\n          single_node_selected: singleNodeSelected,\n          any_item_selected: anyItemSelected\n        });\n        this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SINGLE_NODE_SELECTED, singleNodeSelected);\n        this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ANY_ITEM_SELECTED, anyItemSelected);\n      },\n      'linksSelectionChanged': () => {\n        const anyItemSelected = this.diagram.getSelectedNodes().length > 0 || this.diagram.getSelectedLinks().length > 0;\n        this.setState({\n          single_link_selected: this.diagram.getSelectedLinks().length == 1,\n          any_item_selected: this.diagram.getSelectedNodes().length > 0 || this.diagram.getSelectedLinks().length > 0\n        });\n        this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ANY_ITEM_SELECTED, anyItemSelected);\n      },\n      'linksUpdated': () => {\n        this.setState({\n          dirty: true\n        });\n        this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DIRTY, true);\n      },\n      'nodesUpdated': () => {\n        this.setState({\n          dirty: true\n        });\n        this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DIRTY, true);\n      },\n      'showNote': event => {\n        this.showNote(event.node);\n      },\n      'editTable': event => {\n        this.addEditTable(event.node);\n      }\n    };\n    Object.keys(diagramEvents).forEach(eventName => {\n      this.diagram.registerModelEvent(eventName, diagramEvents[eventName]);\n    });\n  }\n  registerEvents() {\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.LOAD_DIAGRAM, this.onLoadDiagram);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SAVE_DIAGRAM, this.onSaveDiagram);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SHOW_SQL, this.onSQLClick);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DOWNLOAD_IMAGE, this.onImageClick);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ADD_NODE, this.onAddNewNode);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.EDIT_NODE, this.onEditTable);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.CLONE_NODE, this.onCloneNode);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DELETE_NODE, this.onDeleteNode);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SHOW_NOTE, this.onNoteClick);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ONE_TO_ONE, this.onOneToOneClick);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ONE_TO_MANY, this.onOneToManyClick);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.MANY_TO_MANY, this.onManyToManyClick);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.AUTO_DISTRIBUTE, this.onAutoDistribute);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.TOGGLE_DETAILS, this.onDetailsToggle);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.CHANGE_COLORS, this.onChangeColors);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ZOOM_FIT, this.diagram.zoomToFit);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ZOOM_IN, this.diagram.zoomIn);\n    this.eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ZOOM_OUT, this.diagram.zoomOut);\n  }\n  registerKeyboardShortcuts() {\n    /* First deregister to avoid double events */\n    this.keyboardActionObj && this.diagram.deregisterKeyAction(this.keyboardActionObj);\n    this.keyboardActionObj = new KeyboardShortcutAction([[this.state.preferences.open_project, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.LOAD_DIAGRAM);\n    }], [this.state.preferences.save_project, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SAVE_DIAGRAM);\n    }], [this.state.preferences.save_project_as, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SAVE_DIAGRAM, true);\n    }], [this.state.preferences.generate_sql, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.TRIGGER_SHOW_SQL);\n    }], [this.state.preferences.download_image, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DOWNLOAD_IMAGE);\n    }], [this.state.preferences.add_table, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ADD_NODE);\n    }], [this.state.preferences.edit_table, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.EDIT_NODE);\n    }], [this.state.preferences.clone_table, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.CLONE_NODE);\n    }], [this.state.preferences.drop_table, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DELETE_NODE);\n    }], [this.state.preferences.add_edit_note, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.SHOW_NOTE);\n    }], [this.state.preferences.one_to_one, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ONE_TO_ONE);\n    }], [this.state.preferences.one_to_many, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ONE_TO_MANY);\n    }], [this.state.preferences.many_to_many, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.MANY_TO_MANY);\n    }], [this.state.preferences.auto_align, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.AUTO_DISTRIBUTE);\n    }], [this.state.preferences.show_details, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.TOGGLE_DETAILS);\n    }], [this.state.preferences.zoom_to_fit, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ZOOM_FIT);\n    }], [this.state.preferences.zoom_in, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ZOOM_IN);\n    }], [this.state.preferences.zoom_out, () => {\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.ZOOM_OUT);\n    }]]);\n    this.diagram.registerKeyAction(this.keyboardActionObj);\n  }\n  handleAxiosCatch(err) {\n    this.context.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Error'), (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_20__.parseApiError)(err));\n  }\n  async componentDidMount() {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Preparing...'));\n    this.registerEvents();\n    this.diagramContainerRef.current?.focus();\n    const erdPref = this.preferencesStore.getPreferencesForModule('erd');\n    this.setState({\n      preferences: erdPref,\n      is_new_tab: (this.preferencesStore.getPreferencesForModule('browser').new_browser_tab_open || '').includes('erd_tool'),\n      is_close_tab_warning: this.preferencesStore.getPreferencesForModule('browser').confirm_on_refresh_close,\n      cardinality_notation: erdPref.cardinality_notation\n    }, () => {\n      this.registerKeyboardShortcuts();\n      this.setTitle(this.state.current_file);\n    });\n    this.registerModelEvents();\n    this.realignGrid({\n      backgroundSize: '45px 45px',\n      backgroundPosition: '0px 0px'\n    });\n    this.props.panelDocker.eventBus.registerListener(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_22__.LAYOUT_EVENTS.CLOSING, id => {\n      if (this.props.panelId == id) {\n        this.confirmBeforeClose();\n      }\n    });\n    window.addEventListener('unload', () => {\n      /* Using fetch with keepalive as the browser may\r\n      cancel the axios request on tab close. keepalive will\r\n      make sure the request is completed */\n      (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_20__.callFetch)(sources_url_for__WEBPACK_IMPORTED_MODULE_10___default()('erd.close', {\n        trans_id: this.props.params.trans_id,\n        sgid: this.props.params.sgid,\n        sid: this.props.params.sid,\n        did: this.props.params.did\n      }), {\n        keepalive: true,\n        method: 'DELETE'\n      }).then(() => {/* Success */}).catch(err => console.error(err));\n    });\n    let done = await this.initConnection();\n    if (!done) return;\n    done = await this.loadPrequisiteData();\n    if (!done) return;\n    if (this.props.params.gen) {\n      await this.loadTablesData();\n    }\n  }\n  componentDidUpdate() {\n    if (this.state.dirty) {\n      this.setTitle(this.state.current_file, true);\n    }\n  }\n  confirmBeforeClose() {\n    let bodyObj = this;\n    if (this.state.dirty) {\n      this.closeOnSave = false;\n      this.context.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Save changes?'), closeModal => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_static_js_Dialogs_ConfirmSaveContent__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        closeModal: closeModal,\n        text: sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('The diagram has changed. Do you want to save changes?'),\n        onDontSave: () => {\n          this.forceClose();\n        },\n        onSave: () => {\n          bodyObj.onSaveDiagram(false, true);\n        }\n      }), {\n        id: 'id-erd-close-confirmation'\n      });\n      return false;\n    } else {\n      this.forceClose();\n    }\n  }\n  closePanel() {\n    this.props.panelDocker.close(this.props.panelId, true);\n  }\n  getDialog(dialogName) {\n    let serverInfo = {\n      type: this.props.params.server_type,\n      version: this.state.server_version\n    };\n    if (dialogName === 'table_dialog') {\n      return (title, attributes, isNew, callback) => {\n        this.erdDialogs.showTableDialog({\n          title,\n          attributes,\n          isNew,\n          tableNodes: this.diagram.getModel().getNodesDict(),\n          colTypes: this.diagram.getCache('colTypes'),\n          schemas: this.diagram.getCache('schemas'),\n          serverInfo,\n          callback\n        });\n      };\n    } else if (dialogName === 'onetomany_dialog' || dialogName === 'manytomany_dialog' || dialogName === 'onetoone_dialog') {\n      return (title, attributes, callback) => {\n        this.erdDialogs.showRelationDialog(dialogName, {\n          title,\n          attributes,\n          tableNodes: this.diagram.getModel().getNodesDict(),\n          serverInfo,\n          callback\n        });\n      };\n    }\n  }\n  setLoading(message) {\n    this.setState({\n      loading_msg: message\n    });\n  }\n  realignGrid(_ref3) {\n    let {\n      backgroundSize,\n      backgroundPosition\n    } = _ref3;\n    if (backgroundSize) {\n      this.canvasEle.style.backgroundSize = backgroundSize;\n    }\n    if (backgroundPosition) {\n      this.canvasEle.style.backgroundPosition = backgroundPosition;\n    }\n  }\n  addEditTable(node) {\n    let dialog = this.getDialog('table_dialog');\n    if (node) {\n      let [schema, table] = node.getSchemaTableName();\n      let oldData = node.getData();\n      dialog(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Table: %s (%s)', lodash__WEBPACK_IMPORTED_MODULE_3___default().escape(table), lodash__WEBPACK_IMPORTED_MODULE_3___default().escape(schema)), oldData, false, newData => {\n        if (this.diagram.anyDuplicateNodeName(newData, oldData)) {\n          return sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Table name already exists');\n        }\n        // If a column that is part of a foreign key is removed, the foreign key constraint should also be removed.\n        lodash__WEBPACK_IMPORTED_MODULE_3___default().differenceWith(oldData.columns, newData.columns, function (existing, incoming) {\n          return existing.attnum == incoming.attnum;\n        }).forEach(colm => {\n          newData.foreign_key?.forEach((theFkRow, index) => {\n            let fkCols = theFkRow.columns[0];\n            if (fkCols.local_column === colm.name) {\n              newData.foreign_key.splice(index, 1);\n            }\n          });\n        });\n        node.setData(newData);\n        this.diagram.syncTableLinks(node, oldData);\n        this.diagram.repaint();\n      });\n    } else {\n      dialog(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('New table'), {}, true, newData => {\n        if (this.diagram.anyDuplicateNodeName(newData)) {\n          return sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Table name already exists');\n        }\n        let newNode = this.diagram.addNode(newData, [50, 50], {\n          fillColor: this.state.fill_color,\n          textColor: this.state.text_color\n        });\n        this.diagram.syncTableLinks(newNode);\n        newNode.setSelected(true);\n      });\n    }\n  }\n  onDropNode(e) {\n    let nodeDropData = JSON.parse(e.dataTransfer.getData('text'));\n    if (nodeDropData.objUrl && nodeDropData.nodeType === 'table') {\n      let matchUrl = `/${this.props.params.sgid}/${this.props.params.sid}/${this.props.params.did}/`;\n      if (nodeDropData.objUrl.indexOf(matchUrl) == -1) {\n        sources_pgadmin__WEBPACK_IMPORTED_MODULE_24___default().Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Cannot drop table from outside of the current database.'));\n      } else {\n        let dataPromise = new Promise((resolve, reject) => {\n          this.apiObj.get(nodeDropData.objUrl).then(res => {\n            resolve(this.diagram.cloneTableData(_browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_12__[\"default\"].getErdSupportedData(res.data)));\n          }).catch(err => {\n            console.error(err);\n            reject(err instanceof Error ? err : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Something went wrong')));\n          });\n        });\n        const {\n          x,\n          y\n        } = this.diagram.getEngine().getRelativeMousePoint(e);\n        this.diagram.addNode(dataPromise, [x, y], {\n          fillColor: this.state.fill_color,\n          textColor: this.state.text_color\n        }).setSelected(true);\n      }\n    }\n  }\n  onEditTable() {\n    const selected = this.diagram.getSelectedNodes();\n    if (selected.length == 1) {\n      this.addEditTable(selected[0]);\n    }\n  }\n  onAddNewNode() {\n    this.addEditTable();\n  }\n  onCloneNode() {\n    const selected = this.diagram.getSelectedNodes();\n    if (selected.length == 1) {\n      let newData = this.diagram.cloneTableData(selected[0].getData(), this.diagram.getNextTableName());\n      if (newData) {\n        let {\n          x,\n          y\n        } = selected[0].getPosition();\n        let newNode = this.diagram.addNode(newData, [x + 20, y + 20]);\n        newNode.setMetadata(lodash__WEBPACK_IMPORTED_MODULE_3___default().pick(selected[0].getMetadata(), ['fillColor', 'textColor']));\n        newNode.setSelected(true);\n      }\n    }\n  }\n  onDeleteNode() {\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_24___default().Browser.notifier.confirmDelete(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Delete ?'), sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('You have selected %s tables and %s links.', this.diagram.getSelectedNodes().length, this.diagram.getSelectedLinks().length) + '<br />' + sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Are you sure you want to delete ?'), () => {\n      this.diagram.getSelectedNodes().forEach(node => {\n        this.diagram.removeNode(node);\n      });\n      this.diagram.getSelectedLinks().forEach(link => {\n        this.diagram.removeOneToManyLink(link);\n      });\n      if (this.diagram.getNodesData().length === 0) {\n        this.setState({\n          dirty: false\n        });\n        this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DIRTY, false);\n      }\n      this.diagram.repaint();\n    }, () => {/*This is intentional (SonarQube)*/}, sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Delete'), sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Cancel'));\n  }\n  async onAutoDistribute() {\n    this.setLoading('Auto distributing...');\n    await this.diagram.dagreDistributeNodes();\n    this.setLoading();\n  }\n  onChangeColors(fillColor, textColor) {\n    this.setState({\n      fill_color: fillColor,\n      text_color: textColor\n    });\n    this.diagram.getSelectedNodes().forEach(node => {\n      node.fireEvent({\n        fillColor: fillColor,\n        textColor: textColor\n      }, 'changeColors');\n    });\n  }\n  onDetailsToggle() {\n    this.setState(prevState => ({\n      show_details: !prevState.show_details\n    }), () => {\n      this.diagram.getModel().getNodes().forEach(node => {\n        node.fireEvent({\n          show_details: this.state.show_details\n        }, 'toggleDetails');\n      });\n    });\n  }\n  onNotationChange(e) {\n    this.setState({\n      cardinality_notation: e.value\n    });\n  }\n  onLoadDiagram() {\n    const params = {\n      'supported_types': ['*', 'pgerd'],\n      // file types allowed\n      'dialog_type': 'select_file' // open select file dialog\n    };\n    this.props.pgAdmin.Tools.FileManager.show(params, this.openFile.bind(this), null, this.context);\n  }\n  openFile(fileName) {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Loading project...'));\n    this.apiObj.post(sources_url_for__WEBPACK_IMPORTED_MODULE_10___default()('sqleditor.load_file'), {\n      'file_name': decodeURI(fileName)\n    }).then(res => {\n      this.setState({\n        current_file: fileName,\n        dirty: false\n      });\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DIRTY, false);\n      this.setTitle(fileName);\n      this.diagram.deserialize(res.data);\n      this.diagram.clearSelection();\n      this.registerModelEvents();\n    }).catch(err => {\n      this.handleAxiosCatch(err);\n    }).then(() => {\n      this.setLoading(null);\n    });\n  }\n  onSaveDiagram() {\n    let isSaveAs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    let closeOnSave = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    this.closeOnSave = closeOnSave;\n    if (this.state.current_file && !isSaveAs) {\n      this.saveFile(this.state.current_file);\n    } else if (this.diagram.getNodesData().length > 0) {\n      {\n        let params = {\n          'supported_types': ['*', 'pgerd'],\n          'dialog_type': 'create_file',\n          'dialog_title': 'Save File',\n          'btn_primary': 'Save'\n        };\n        this.props.pgAdmin.Tools.FileManager.show(params, this.saveFile.bind(this), null, this.context);\n      }\n    }\n  }\n  saveFile(fileName) {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Saving...'));\n    this.apiObj.post(sources_url_for__WEBPACK_IMPORTED_MODULE_10___default()('sqleditor.save_file'), {\n      'file_name': decodeURI(fileName),\n      'file_content': JSON.stringify(this.diagram.serialize(this.props.pgAdmin.Browser.utils.app_version_int))\n    }).then(() => {\n      this.props.pgAdmin.Browser.notifier.success(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Project saved successfully.'));\n      this.setState({\n        current_file: fileName,\n        dirty: false\n      });\n      this.eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_19__.ERD_EVENTS.DIRTY, false);\n      this.setTitle(fileName);\n      this.setLoading(null);\n      if (this.closeOnSave) {\n        this.forceClose();\n      }\n    }).catch(err => {\n      this.setLoading(null);\n      this.handleAxiosCatch(err);\n    });\n  }\n  getCurrentProjectName(path) {\n    let currPath = path || this.state.current_file || 'Untitled';\n    return currPath.split('\\\\').pop().split('/').pop();\n  }\n  setTitle(title) {\n    let dirty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (title === null || title === '') {\n      title = 'Untitled';\n    }\n    title = this.getCurrentProjectName(title) + (dirty ? '*' : '');\n    if (this.state.is_new_tab) {\n      window.document.title = title;\n    } else {\n      (0,_ERDModule__WEBPACK_IMPORTED_MODULE_8__.setPanelTitle)(this.props.panelDocker, this.props.panelId, title);\n    }\n  }\n  onSQLClick() {\n    let sqlWithDrop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    let scriptHeader = sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('-- This script was generated by the ERD tool in pgAdmin 4.\\n');\n    scriptHeader += sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('-- Please log an issue at https://github.com/pgadmin-org/pgadmin4/issues/new/choose if you find any bugs, including reproduction steps.\\n');\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_10___default()('erd.sql', {\n      trans_id: this.props.params.trans_id,\n      sgid: this.props.params.sgid,\n      sid: this.props.params.sid,\n      did: this.props.params.did\n    });\n    if (sqlWithDrop) {\n      url += '?with_drop=true';\n    }\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Preparing the SQL...'));\n    this.apiObj.post(url, this.diagram.serializeData()).then(resp => {\n      let sqlScript = resp.data.data;\n      sqlScript = scriptHeader + 'BEGIN;\\n' + sqlScript + '\\nEND;';\n      let parentData = {\n        sgid: this.props.params.sgid,\n        sid: this.props.params.sid,\n        did: this.props.params.did,\n        stype: this.props.params.server_type,\n        database: this.state.database\n      };\n      let sqlId = `erd${this.props.params.trans_id}`;\n      localStorage.setItem(sqlId, sqlScript);\n      (0,tools_sqleditor_static_js_show_query_tool__WEBPACK_IMPORTED_MODULE_11__.showERDSqlTool)(parentData, sqlId, this.props.params.title, this.props.pgWindow.pgAdmin.Tools.SQLEditor);\n    }).catch(error => {\n      this.handleAxiosCatch(error);\n    }).then(() => {\n      this.setLoading(null);\n    });\n  }\n  onImageClick() {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Preparing the image...'));\n\n    /* Move the diagram temporarily to align it to top-left of the canvas so that when\r\n     * taking the snapshot all the nodes are covered. Once the image is taken, repaint\r\n     * the canvas back to original state.\r\n     * Code referred from - zoomToFitNodes function.\r\n     */\n    this.diagramContainerRef.current?.classList.add('ERDTool-html2canvasReset');\n    const margin = 10;\n    let nodesRect = this.diagram.getEngine().getBoundingNodesRect(this.diagram.getModel().getNodes());\n    let linksRect = this.diagram.getBoundingLinksRect();\n\n    // Check what is to the most top left - links or nodes?\n    let topLeftXY = {\n      x: nodesRect.getTopLeft().x,\n      y: nodesRect.getTopLeft().y\n    };\n    if (topLeftXY.x > linksRect.TL.x) {\n      topLeftXY.x = linksRect.TL.x;\n    }\n    if (topLeftXY.y > linksRect.TL.y) {\n      topLeftXY.y = linksRect.TL.y;\n    }\n    topLeftXY.x -= margin;\n    topLeftXY.y -= margin;\n    let canvasRect = this.canvasEle.getBoundingClientRect();\n    let canvasTopLeftOnScreen = {\n      x: canvasRect.left,\n      y: canvasRect.top\n    };\n    let nodeLayerTopLeftPoint = {\n      x: canvasTopLeftOnScreen.x + this.diagram.getModel().getOffsetX(),\n      y: canvasTopLeftOnScreen.y + this.diagram.getModel().getOffsetY()\n    };\n    let nodesRectTopLeftPoint = {\n      x: nodeLayerTopLeftPoint.x + topLeftXY.x,\n      y: nodeLayerTopLeftPoint.y + topLeftXY.y\n    };\n    let prevTransform = this.canvasEle.querySelector('div').style.transform;\n    this.canvasEle.childNodes.forEach(ele => {\n      ele.style.transform = `translate(${nodeLayerTopLeftPoint.x - nodesRectTopLeftPoint.x}px, ${nodeLayerTopLeftPoint.y - nodesRectTopLeftPoint.y}px) scale(1.0)`;\n    });\n\n    // Capture the links beyond the nodes as well.\n    const linkOutsideWidth = linksRect.BR.x - nodesRect.getBottomRight().x;\n    const linkOutsideHeight = linksRect.BR.y - nodesRect.getBottomRight().y;\n    this.canvasEle.style.width = this.canvasEle.scrollWidth + (linkOutsideWidth > 0 ? linkOutsideWidth : 0) + margin + 'px';\n    this.canvasEle.style.height = this.canvasEle.scrollHeight + (linkOutsideHeight > 0 ? linkOutsideHeight : 0) + margin + 'px';\n    setTimeout(() => {\n      let width = this.canvasEle.scrollWidth + 10;\n      let height = this.canvasEle.scrollHeight + 10;\n      let isCut = false;\n      /* Canvas limitation - https://html2canvas.hertzen.com/faq */\n      if (width >= 32767) {\n        width = 32766;\n        isCut = true;\n      }\n      if (height >= 32767) {\n        height = 32766;\n        isCut = true;\n      }\n      (0,html_to_image__WEBPACK_IMPORTED_MODULE_4__.toPng)(this.canvasEle, {\n        width,\n        height\n      }).then(dataUrl => {\n        (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_27__.downloadUrlData)(dataUrl, `${this.getCurrentProjectName()}.png`);\n      }).catch(err => {\n        console.error(err);\n        let msg = sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Unknown error. Check console logs');\n        if (err.name) {\n          msg = `${err.name}: ${err.message}`;\n        }\n        sources_pgadmin__WEBPACK_IMPORTED_MODULE_24___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Error'), msg);\n      }).then(() => {\n        /* Revert back to the original CSS styles */\n        this.diagramContainerRef.current.classList.remove('ERDTool-html2canvasReset');\n        this.canvasEle.style.width = '';\n        this.canvasEle.style.height = '';\n        this.canvasEle.childNodes.forEach(ele => {\n          ele.style.transform = prevTransform;\n        });\n        this.setLoading(null);\n        if (isCut) {\n          sources_pgadmin__WEBPACK_IMPORTED_MODULE_24___default().Browser.notifier.alert(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Maximum image size limit'), sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('The downloaded image has exceeded the maximum size of 32767 x 32767 pixels, and has been cropped to that size.'));\n        }\n      });\n    }, 1000);\n  }\n  onOneToOneClick() {\n    let dialog = this.getDialog('onetoone_dialog');\n    let initData = {\n      local_table_uid: this.diagram.getSelectedNodes()[0].getID()\n    };\n    dialog(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('One to one relation'), initData, newData => {\n      this.diagram.addOneToManyLink(newData);\n    });\n  }\n  onOneToManyClick() {\n    let dialog = this.getDialog('onetomany_dialog');\n    let initData = {\n      local_table_uid: this.diagram.getSelectedNodes()[0].getID()\n    };\n    dialog(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('One to many relation'), initData, newData => {\n      this.diagram.addOneToManyLink(newData);\n    });\n  }\n  onManyToManyClick() {\n    let dialog = this.getDialog('manytomany_dialog');\n    let initData = {\n      left_table_uid: this.diagram.getSelectedNodes()[0].getID()\n    };\n    dialog(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Many to many relation'), initData, newData => {\n      this.diagram.addManyToManyLink(newData);\n    });\n  }\n  showNote(noteNode) {\n    if (noteNode) {\n      this.noteRefEle = this.diagram.getEngine().getNodeElement(noteNode);\n      this.setState({\n        note_node: noteNode,\n        note_open: true\n      });\n    }\n  }\n  onNoteClick() {\n    let noteNode = this.diagram.getSelectedNodes()[0];\n    this.showNote(noteNode);\n  }\n  onNoteClose(updated) {\n    this.setState({\n      note_open: false\n    });\n    updated && this.diagram.fireEvent({}, 'nodesUpdated', true);\n  }\n  async initConnection() {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Initializing connection...'));\n    this.setState({\n      conn_status: _ConnectionBar__WEBPACK_IMPORTED_MODULE_6__.STATUS.CONNECTING\n    });\n    let initUrl = sources_url_for__WEBPACK_IMPORTED_MODULE_10___default()('erd.initialize', {\n      trans_id: this.props.params.trans_id,\n      sgid: this.props.params.sgid,\n      sid: this.props.params.sid,\n      did: this.props.params.did\n    });\n    try {\n      let response = await this.apiObj.post(initUrl);\n      this.setState({\n        conn_status: _ConnectionBar__WEBPACK_IMPORTED_MODULE_6__.STATUS.CONNECTED,\n        server_version: response.data.data.serverVersion,\n        database: response.data.data.database\n      });\n      return true;\n    } catch (error) {\n      this.setState({\n        conn_status: _ConnectionBar__WEBPACK_IMPORTED_MODULE_6__.STATUS.FAILED\n      });\n      this.handleAxiosCatch(error);\n      return false;\n    } finally {\n      this.setLoading(null);\n    }\n  }\n\n  /* Get all prequisite in one conn since\r\n   * we have only one connection\r\n   */\n  async loadPrequisiteData() {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Fetching required data...'));\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_10___default()('erd.prequisite', {\n      trans_id: this.props.params.trans_id,\n      sgid: this.props.params.sgid,\n      sid: this.props.params.sid,\n      did: this.props.params.did\n    });\n    try {\n      let response = await this.apiObj.get(url);\n      let data = response.data.data;\n      this.diagram.setCache('colTypes', data['col_types']);\n      this.diagram.setCache('schemas', data['schemas']);\n      return true;\n    } catch (error) {\n      this.handleAxiosCatch(error);\n      return false;\n    } finally {\n      this.setLoading(null);\n    }\n  }\n  async loadTablesData() {\n    this.setLoading(sources_gettext__WEBPACK_IMPORTED_MODULE_9___default()('Fetching schema data...'));\n    let resData = [];\n    let socket;\n    try {\n      socket = await (0,_static_js_socket_instance__WEBPACK_IMPORTED_MODULE_21__.openSocket)('/erd');\n      resData = await (0,_static_js_socket_instance__WEBPACK_IMPORTED_MODULE_21__.socketApiGet)(socket, 'tables', {\n        trans_id: parseInt(this.props.params.trans_id),\n        sgid: parseInt(this.props.params.sgid),\n        sid: parseInt(this.props.params.sid),\n        did: parseInt(this.props.params.did),\n        scid: this.props.params.scid ? parseInt(this.props.params.scid) : undefined,\n        tid: this.props.params.tid ? parseInt(this.props.params.tid) : undefined\n      });\n    } catch (error) {\n      this.handleAxiosCatch(error);\n    }\n    socket?.disconnect();\n    try {\n      this.diagram.deserializeData(resData);\n    } catch (error) {\n      this.handleAxiosCatch(error);\n    }\n    setTimeout(() => {\n      this.onAutoDistribute();\n    }, 250);\n  }\n  render() {\n    this.erdDialogs.modal = this.context;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(StyledBox, {\n      ref: this.containerRef,\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_BeforeUnload__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n      onInit: _ref4 => {\n        let {\n          forceClose\n        } = _ref4;\n        this.forceClose = forceClose;\n      },\n      enabled: this.state.is_close_tab_warning,\n      isNewTab: this.state.is_new_tab,\n      beforeClose: this.confirmBeforeClose,\n      closePanel: this.closePanel\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ConnectionBar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n      status: this.state.conn_status,\n      bgcolor: this.props.params.bgcolor,\n      fgcolor: this.props.params.fgcolor,\n      title: lodash__WEBPACK_IMPORTED_MODULE_3___default().unescape(this.props.params.title)\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_MainToolBar__WEBPACK_IMPORTED_MODULE_17__.MainToolBar, {\n      preferences: this.state.preferences,\n      eventBus: this.eventBus,\n      fillColor: this.state.fill_color,\n      textColor: this.state.text_color,\n      notation: this.state.cardinality_notation,\n      onNotationChange: this.onNotationChange\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_FloatingNote__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      open: this.state.note_open,\n      onClose: this.onNoteClose,\n      anchorEl: this.noteRefEle,\n      noteNode: this.state.note_node,\n      appendTo: this.diagramContainerRef.current,\n      rows: 8\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n      className: \"ERDTool-diagramContainer\",\n      \"data-test\": \"diagram-container\",\n      ref: this.diagramContainerRef,\n      onDrop: this.onDropNode,\n      onDragOver: e => {\n        e.preventDefault();\n      },\n      tabIndex: 0\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_static_js_components_Loader__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      message: this.state.loading_msg,\n      autoEllipsis: true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(ERDCanvasSettings.Provider, {\n      value: {\n        cardinality_notation: this.state.cardinality_notation\n      }\n    }, !this.props.isTest && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_2__.CanvasWidget, {\n      className: \"ERDTool-diagramCanvas\",\n      ref: ele => {\n        this.canvasEle = ele?.ref?.current;\n      },\n      engine: this.diagram.getEngine()\n    }))));\n  }\n}\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(ERDTool, \"contextType\", _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_13__.ModalContext);\nERDTool.propTypes = {\n  params: prop_types__WEBPACK_IMPORTED_MODULE_30___default().shape({\n    trans_id: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().number).isRequired,\n    sgid: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    sid: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    did: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    scid: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]),\n    tid: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]),\n    server_type: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string).isRequired,\n    title: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string).isRequired,\n    bgcolor: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    fgcolor: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    gen: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().bool).isRequired\n  }),\n  pgWindow: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object).isRequired,\n  pgAdmin: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object).isRequired,\n  panelId: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n  panelDocker: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object),\n  isTest: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().bool)\n};\nconst ERDCanvasSettings = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createContext({});\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/components/ERDTool.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/components/FloatingNote.jsx":
/*!**************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/components/FloatingNote.jsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FloatingNote)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var sources_custom_prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/custom_prop_types */ \"./pgadmin/static/js/custom_prop_types.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Popper/Popper.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_Check__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/Check */ \"./node_modules/@mui/icons-material/esm/Check.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\nconst StyledPopper = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .FloatingNote-root': _objectSpread(_objectSpread({\n      width: '250px',\n      marginLeft: '8px'\n    }, theme.mixins.panelBorder.all), {}, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      '& .FloatingNote-note': {\n        padding: '4px',\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        borderTopLeftRadius: 'inherit',\n        borderTopRightRadius: 'inherit'\n      },\n      '& .FloatingNote-header': _objectSpread({\n        padding: '4px',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      }, theme.mixins.panelBorder.bottom),\n      '& .FloatingNote-textarea': {\n        width: '100%',\n        border: 0,\n        display: 'block'\n      },\n      '& .FloatingNote-buttons': _objectSpread(_objectSpread({\n        padding: '4px'\n      }, theme.mixins.panelBorder.top), {}, {\n        textAlign: 'right'\n      })\n    })\n  };\n});\nfunction FloatingNote(_ref2) {\n  let {\n    open,\n    onClose,\n    anchorEl,\n    rows,\n    noteNode\n  } = _ref2;\n  const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (noteNode) {\n      setText(noteNode.getNote());\n    }\n  }, [noteNode]);\n  const header = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (noteNode) {\n      let [schema, name] = noteNode.getSchemaTableName();\n      return `${name} (${schema})`;\n    }\n    return '';\n  }, [open]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledPopper, {\n    open: open,\n    anchorEl: anchorEl,\n    placement: \"right-start\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"FloatingNote-root\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"FloatingNote-note\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Note'), \":\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"FloatingNote-header\"\n  }, header), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"textarea\", {\n    className: \"FloatingNote-textarea\",\n    autoFocus: true,\n    value: text,\n    rows: rows,\n    onChange: e => setText(e.target.value)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    className: \"FloatingNote-buttons\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.DefaultButton, {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_Check__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null),\n    onClick: () => {\n      let updated = noteNode.getNote() != text;\n      noteNode.setNote(text);\n      if (onClose) onClose(updated);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('OK')))));\n}\nFloatingNote.propTypes = {\n  open: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool).isRequired,\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().func).isRequired,\n  anchorEl: sources_custom_prop_types__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ref,\n  rows: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().number),\n  noteNode: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().object)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/components/FloatingNote.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/components/MainToolBar.jsx":
/*!*************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/components/MainToolBar.jsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MainToolBar: () => (/* binding */ MainToolBar)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/styles/useTheme.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_FolderRounded__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/icons-material/FolderRounded */ \"./node_modules/@mui/icons-material/esm/FolderRounded.js\");\n/* harmony import */ var _mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/icons-material/KeyboardArrowDown */ \"./node_modules/@mui/icons-material/esm/KeyboardArrowDown.js\");\n/* harmony import */ var _mui_icons_material_SaveRounded__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/SaveRounded */ \"./node_modules/@mui/icons-material/esm/SaveRounded.js\");\n/* harmony import */ var _mui_icons_material_HelpRounded__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @mui/icons-material/HelpRounded */ \"./node_modules/@mui/icons-material/esm/HelpRounded.js\");\n/* harmony import */ var _mui_icons_material_ZoomIn__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/icons-material/ZoomIn */ \"./node_modules/@mui/icons-material/esm/ZoomIn.js\");\n/* harmony import */ var _mui_icons_material_ZoomOut__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/icons-material/ZoomOut */ \"./node_modules/@mui/icons-material/esm/ZoomOut.js\");\n/* harmony import */ var _mui_icons_material_ZoomOutMap__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/icons-material/ZoomOutMap */ \"./node_modules/@mui/icons-material/esm/ZoomOutMap.js\");\n/* harmony import */ var _mui_icons_material_AddBox__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/icons-material/AddBox */ \"./node_modules/@mui/icons-material/esm/AddBox.js\");\n/* harmony import */ var _mui_icons_material_EditRounded__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/EditRounded */ \"./node_modules/@mui/icons-material/esm/EditRounded.js\");\n/* harmony import */ var _mui_icons_material_FileCopyRounded__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/FileCopyRounded */ \"./node_modules/@mui/icons-material/esm/FileCopyRounded.js\");\n/* harmony import */ var _mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/Delete */ \"./node_modules/@mui/icons-material/esm/Delete.js\");\n/* harmony import */ var _mui_icons_material_NoteRounded__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/icons-material/NoteRounded */ \"./node_modules/@mui/icons-material/esm/NoteRounded.js\");\n/* harmony import */ var _mui_icons_material_VisibilityRounded__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/icons-material/VisibilityRounded */ \"./node_modules/@mui/icons-material/esm/VisibilityRounded.js\");\n/* harmony import */ var _mui_icons_material_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/icons-material/VisibilityOffRounded */ \"./node_modules/@mui/icons-material/esm/VisibilityOffRounded.js\");\n/* harmony import */ var _mui_icons_material_ImageRounded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/icons-material/ImageRounded */ \"./node_modules/@mui/icons-material/esm/ImageRounded.js\");\n/* harmony import */ var _mui_icons_material_FormatColorFillRounded__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/FormatColorFillRounded */ \"./node_modules/@mui/icons-material/esm/FormatColorFillRounded.js\");\n/* harmony import */ var _mui_icons_material_FormatColorTextRounded__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/FormatColorTextRounded */ \"./node_modules/@mui/icons-material/esm/FormatColorTextRounded.js\");\n/* harmony import */ var _mui_icons_material_AccountTreeOutlined__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/icons-material/AccountTreeOutlined */ \"./node_modules/@mui/icons-material/esm/AccountTreeOutlined.js\");\n/* harmony import */ var _static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/Menu */ \"./pgadmin/static/js/components/Menu.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_31__);\n/* harmony import */ var _ERDConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ERDConstants */ \"./pgadmin/tools/erd/static/js/erd_tool/ERDConstants.js\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/* harmony import */ var _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/helpers/ModalProvider */ \"./pgadmin/static/js/helpers/ModalProvider.jsx\");\n/* harmony import */ var _static_js_helpers_withColorPicker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../static/js/helpers/withColorPicker */ \"./pgadmin/static/js/helpers/withColorPicker.js\");\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return _objectSpread({\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '4px',\n    backgroundColor: theme.otherVars.editorToolbarBg,\n    flexWrap: 'wrap'\n  }, theme.mixins.panelBorder.bottom);\n});\nfunction MainToolBar(_ref2) {\n  let {\n    preferences,\n    eventBus,\n    fillColor,\n    textColor,\n    notation,\n    onNotationChange\n  } = _ref2;\n  const theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"])();\n  const [buttonsDisabled, setButtonsDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    'save': true,\n    'edit-table': true,\n    'clone-table': true,\n    'one-to-one': true,\n    'one-to-many': true,\n    'many-to-many': true,\n    'show-note': true,\n    'drop-table': true\n  });\n  const [showDetails, setShowDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n  const {\n    openMenuName,\n    toggleMenu,\n    onMenuClose\n  } = (0,_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.usePgMenuGroup)();\n  const saveAsMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const sqlMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const notationMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const isDirtyRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const [checkedMenuItems, setCheckedMenuItems] = react__WEBPACK_IMPORTED_MODULE_1___default().useState({});\n  const modal = (0,_static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_8__.useModal)();\n  const setDisableButton = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (name) {\n    let disable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    setButtonsDisabled(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: disable\n    }));\n  }, []);\n  const checkMenuClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    setCheckedMenuItems(prev => {\n      let newVal = !prev[e.value];\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [e.value]: newVal\n      });\n    });\n  }, []);\n  const onHelpClick = () => {\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('help.static', {\n      'filename': 'erd_tool.html'\n    });\n    window.open(url, 'pgadmin_help');\n  };\n  const confirmDiscard = function (callback) {\n    let checkSaved = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (checkSaved && buttonsDisabled['save']) {\n      /* No need to check  */\n      callback();\n      return;\n    }\n    modal.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Unsaved changes'), sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Are you sure you wish to discard the current changes?'), function () {\n      callback();\n    }, function () {\n      return true;\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (preferences) {\n      /* Get the prefs first time */\n      if (_.isUndefined(checkedMenuItems.sql_with_drop)) {\n        setCheckedMenuItems({\n          sql_with_drop: preferences.sql_with_drop\n        });\n      }\n    }\n  }, [preferences]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const events = [[_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.SINGLE_NODE_SELECTED, selected => {\n      setDisableButton('edit-table', !selected);\n      setDisableButton('clone-table', !selected);\n      setDisableButton('one-to-one', !selected);\n      setDisableButton('one-to-many', !selected);\n      setDisableButton('many-to-many', !selected);\n      setDisableButton('show-note', !selected);\n    }], [_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ANY_ITEM_SELECTED, selected => {\n      setDisableButton('drop-table', !selected);\n    }], [_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.DIRTY, isDirty => {\n      isDirtyRef.current = isDirty;\n      setDisableButton('save', !isDirty);\n    }]];\n    events.forEach(e => {\n      eventBus.registerListener(e[0], e[1]);\n    });\n    return () => {\n      events.forEach(e => {\n        eventBus.deregisterListener(e[0], e[1]);\n      });\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const showSql = () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.SHOW_SQL, checkedMenuItems['sql_with_drop']);\n    };\n    eventBus.registerListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.TRIGGER_SHOW_SQL, showSql);\n    return () => {\n      eventBus.deregisterListener(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.TRIGGER_SHOW_SQL, showSql);\n    };\n  }, [checkedMenuItems['sql_with_drop']]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Load Project'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FolderRounded__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null),\n    shortcut: preferences.open_project,\n    onClick: () => {\n      confirmDiscard(() => {\n        eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.LOAD_DIAGRAM);\n      }, true);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Save Project'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_SaveRounded__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null),\n    shortcut: preferences.save_project,\n    disabled: buttonsDisabled['save'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.SAVE_DIAGRAM);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('File'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null),\n    splitButton: true,\n    name: \"menu-saveas\",\n    ref: saveAsMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Generate SQL'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_7__.SQLFileIcon, null),\n    shortcut: preferences.generate_sql,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.TRIGGER_SHOW_SQL);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('SQL Options'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null),\n    splitButton: true,\n    name: \"menu-sql\",\n    ref: sqlMenuRef,\n    onClick: toggleMenu\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Download image'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_ImageRounded__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null),\n    shortcut: preferences.download_image,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.DOWNLOAD_IMAGE);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Add Table'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_AddBox__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null),\n    shortcut: preferences.add_table,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ADD_NODE, {\n        fillColor: fillColor,\n        textColor: textColor\n      });\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Edit Table'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_EditRounded__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null),\n    shortcut: preferences.edit_table,\n    disabled: buttonsDisabled['edit-table'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.EDIT_NODE);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Clone Table'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FileCopyRounded__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    shortcut: preferences.clone_table,\n    disabled: buttonsDisabled['clone-table'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.CLONE_NODE);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Drop Table/Relation'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], null),\n    shortcut: preferences.drop_table,\n    disabled: buttonsDisabled['drop-table'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.DELETE_NODE);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('One-to-One Relation'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n      style: {\n        letterSpacing: '-1px'\n      }\n    }, \"1 - 1\"),\n    shortcut: preferences.one_to_one,\n    disabled: buttonsDisabled['one-to-one'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ONE_TO_ONE);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('One-to-Many Relation'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n      style: {\n        letterSpacing: '-1px'\n      }\n    }, \"1 - M\"),\n    shortcut: preferences.one_to_many,\n    disabled: buttonsDisabled['one-to-many'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ONE_TO_MANY);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Many-to-Many Relation'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n      style: {\n        letterSpacing: '-1px'\n      }\n    }, \"M - M\"),\n    shortcut: preferences.many_to_many,\n    disabled: buttonsDisabled['many-to-many'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.MANY_TO_MANY);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ColorButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Fill Color'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FormatColorFillRounded__WEBPACK_IMPORTED_MODULE_21__[\"default\"], null),\n    value: fillColor ?? theme.palette.background.default,\n    options: {\n      allowSave: true\n    },\n    onSave: val => {\n      if (val) {\n        eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.CHANGE_COLORS, val, textColor);\n      } else {\n        eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.CHANGE_COLORS, null, textColor);\n      }\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ColorButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Text Color'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FormatColorTextRounded__WEBPACK_IMPORTED_MODULE_22__[\"default\"], null),\n    value: textColor ?? theme.palette.text.primary,\n    options: {\n      allowSave: true\n    },\n    onSave: val => {\n      if (val) {\n        eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.CHANGE_COLORS, fillColor, val);\n      } else {\n        eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.CHANGE_COLORS, fillColor, null);\n      }\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Add/Edit Note'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_NoteRounded__WEBPACK_IMPORTED_MODULE_23__[\"default\"], null),\n    shortcut: preferences.add_edit_note,\n    disabled: buttonsDisabled['show-note'],\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.SHOW_NOTE);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Auto Align'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_7__.MagicIcon, null),\n    shortcut: preferences.auto_align,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.AUTO_DISTRIBUTE);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Show Details'),\n    icon: showDetails ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_VisibilityRounded__WEBPACK_IMPORTED_MODULE_24__[\"default\"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_25__[\"default\"], null),\n    shortcut: preferences.show_details,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.TOGGLE_DETAILS);\n      setShowDetails(prev => !prev);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Cardinality Notation'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_AccountTreeOutlined__WEBPACK_IMPORTED_MODULE_26__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n      style: {\n        marginLeft: '-10px'\n      }\n    })),\n    name: \"menu-notation\",\n    ref: notationMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Zoom In'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_ZoomIn__WEBPACK_IMPORTED_MODULE_27__[\"default\"], null),\n    shortcut: preferences.zoom_in,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ZOOM_IN);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Zoom to Fit'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_ZoomOutMap__WEBPACK_IMPORTED_MODULE_28__[\"default\"], null),\n    shortcut: preferences.zoom_to_fit,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ZOOM_FIT);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Zoom Out'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_ZoomOut__WEBPACK_IMPORTED_MODULE_29__[\"default\"], null),\n    shortcut: preferences.zoom_out,\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.ZOOM_OUT);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Help'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_HelpRounded__WEBPACK_IMPORTED_MODULE_30__[\"default\"], null),\n    onClick: onHelpClick\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenu, {\n    anchorRef: saveAsMenuRef,\n    open: openMenuName == 'menu-saveas',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('File Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenuItem, {\n    onClick: () => {\n      eventBus.fireEvent(_ERDConstants__WEBPACK_IMPORTED_MODULE_6__.ERD_EVENTS.SAVE_DIAGRAM, true);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Save as'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenu, {\n    anchorRef: sqlMenuRef,\n    open: openMenuName == 'menu-sql',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('SQL Options')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenuItem, {\n    hasCheck: true,\n    value: \"sql_with_drop\",\n    checked: checkedMenuItems['sql_with_drop'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('With DROP Table'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenu, {\n    anchorRef: notationMenuRef,\n    open: openMenuName == 'menu-notation',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Cardinality Notation')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenuItem, {\n    hasCheck: true,\n    closeOnCheck: true,\n    value: \"crows\",\n    checked: notation == 'crows',\n    onClick: onNotationChange\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Crow\\'s Foot Notation')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_3__.PgMenuItem, {\n    hasCheck: true,\n    closeOnCheck: true,\n    value: \"chen\",\n    checked: notation == 'chen',\n    onClick: onNotationChange\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Chen Notation'))));\n}\nMainToolBar.propTypes = {\n  preferences: (prop_types__WEBPACK_IMPORTED_MODULE_31___default().object),\n  eventBus: (prop_types__WEBPACK_IMPORTED_MODULE_31___default().object),\n  fillColor: (prop_types__WEBPACK_IMPORTED_MODULE_31___default().string),\n  textColor: (prop_types__WEBPACK_IMPORTED_MODULE_31___default().string),\n  notation: (prop_types__WEBPACK_IMPORTED_MODULE_31___default().string),\n  onNotationChange: (prop_types__WEBPACK_IMPORTED_MODULE_31___default().func)\n};\nconst ColorButton = (0,_static_js_helpers_withColorPicker__WEBPACK_IMPORTED_MODULE_9__.withColorPicker)(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton);\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/components/MainToolBar.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/dialogs/ManyToManyDialog.js":
/*!**************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/dialogs/ManyToManyDialog.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getManyToManyDialogSchema: () => (/* binding */ getManyToManyDialogSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nclass ManyToManySchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let initValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super(_objectSpread({\n      left_table_uid: undefined,\n      left_table_column_attnum: undefined,\n      right_table_uid: undefined,\n      right_table_column_attnum: undefined\n    }, initValues));\n    this.fieldOptions = fieldOptions;\n  }\n  get baseFields() {\n    return [{\n      id: 'left_table_uid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local Table'),\n      type: 'select',\n      readonly: true,\n      controlProps: {\n        allowClear: false\n      },\n      options: this.fieldOptions.left_table_uid\n    }, {\n      id: 'left_table_column_attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local Column'),\n      type: 'select',\n      options: this.fieldOptions.left_table_column_attnum,\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true\n    }, {\n      id: 'right_table_uid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Table'),\n      type: 'select',\n      options: this.fieldOptions.right_table_uid,\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true\n    }, {\n      id: 'right_table_column_attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Column'),\n      controlProps: {\n        allowClear: false\n      },\n      deps: ['right_table_uid'],\n      type: state => ({\n        type: 'select',\n        options: state.right_table_uid ? () => this.fieldOptions.getRefColumns(state.right_table_uid) : [],\n        optionsReloadBasis: state.right_table_uid\n      })\n    }];\n  }\n}\nfunction getManyToManyDialogSchema(attributes, tableNodesDict) {\n  let tablesData = [];\n  lodash__WEBPACK_IMPORTED_MODULE_3___default().forEach(tableNodesDict, (node, uid) => {\n    let [schema, name] = node.getSchemaTableName();\n    tablesData.push({\n      value: uid,\n      label: `(${schema}) ${name}`,\n      image: 'icon-table'\n    });\n  });\n  return new ManyToManySchema({\n    left_table_uid: tablesData,\n    left_table_column_attnum: tableNodesDict[attributes.left_table_uid].getColumns().map(col => {\n      return {\n        value: col.attnum,\n        label: col.name,\n        'image': 'icon-column'\n      };\n    }),\n    right_table_uid: tablesData,\n    getRefColumns: uid => {\n      return tableNodesDict[uid].getColumns().map(col => {\n        return {\n          value: col.attnum,\n          label: col.name,\n          'image': 'icon-column'\n        };\n      });\n    }\n  }, attributes);\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/dialogs/ManyToManyDialog.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToManyDialog.js":
/*!*************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToManyDialog.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOneToManyDialogSchema: () => (/* binding */ getOneToManyDialogSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nclass OneToManySchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let initValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super(_objectSpread({\n      local_table_uid: undefined,\n      local_column_attnum: undefined,\n      referenced_table_uid: undefined,\n      referenced_column_attnum: undefined\n    }, initValues));\n    this.fieldOptions = fieldOptions;\n  }\n  get baseFields() {\n    return [{\n      id: 'local_table_uid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local Table'),\n      type: 'select',\n      readonly: true,\n      controlProps: {\n        allowClear: false\n      },\n      options: this.fieldOptions.local_table_uid\n    }, {\n      id: 'local_column_attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local Column'),\n      type: 'select',\n      options: this.fieldOptions.local_column_attnum,\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true\n    }, {\n      id: 'referenced_table_uid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Table'),\n      type: 'select',\n      options: this.fieldOptions.referenced_table_uid,\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true\n    }, {\n      id: 'referenced_column_attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Column'),\n      controlProps: {\n        allowClear: false\n      },\n      deps: ['referenced_table_uid'],\n      noEmpty: true,\n      type: state => ({\n        type: 'select',\n        options: state.referenced_table_uid ? () => this.fieldOptions.getRefColumns(state.referenced_table_uid) : [],\n        optionsReloadBasis: state.referenced_table_uid\n      })\n    }];\n  }\n}\nfunction getOneToManyDialogSchema(attributes, tableNodesDict) {\n  let tablesData = [];\n  lodash__WEBPACK_IMPORTED_MODULE_3___default().forEach(tableNodesDict, (node, uid) => {\n    let [schema, name] = node.getSchemaTableName();\n    tablesData.push({\n      value: uid,\n      label: `(${schema}) ${name}`,\n      image: 'icon-table'\n    });\n  });\n  return new OneToManySchema({\n    local_table_uid: tablesData,\n    local_column_attnum: tableNodesDict[attributes.local_table_uid].getColumns().map(col => {\n      return {\n        value: col.attnum,\n        label: col.name,\n        'image': 'icon-column'\n      };\n    }),\n    referenced_table_uid: tablesData,\n    getRefColumns: uid => {\n      return tableNodesDict[uid].getColumns().map(col => {\n        return {\n          value: col.attnum,\n          label: col.name,\n          'image': 'icon-column'\n        };\n      });\n    }\n  }, attributes);\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToManyDialog.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToOneDialog.js":
/*!************************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToOneDialog.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOneToOneDialogSchema: () => (/* binding */ getOneToOneDialogSchema)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sources_validators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/validators */ \"./pgadmin/static/js/validators.js\");\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2024, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\nclass OneToOneSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor() {\n    let fieldOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let initValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let localTableData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    super(_objectSpread({\n      local_table_uid: undefined,\n      local_column_attnum: undefined,\n      referenced_table_uid: undefined,\n      referenced_column_attnum: undefined,\n      constraint_type: undefined\n    }, initValues));\n    this.fieldOptions = fieldOptions;\n    this.localTableData = localTableData;\n  }\n  isVisible(state) {\n    let colName = lodash__WEBPACK_IMPORTED_MODULE_4___default().find(this.localTableData.getData().columns, col => col.attnum === state.local_column_attnum)?.name;\n    let {\n      pkCols,\n      ukCols\n    } = this.localTableData.getConstraintCols();\n    return !(pkCols.includes(colName) || ukCols.includes(colName) || (0,sources_validators__WEBPACK_IMPORTED_MODULE_2__.isEmptyString)(state.local_column_attnum));\n  }\n  get baseFields() {\n    return [{\n      id: 'local_table_uid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local Table'),\n      type: 'select',\n      readonly: true,\n      controlProps: {\n        allowClear: false\n      },\n      options: this.fieldOptions.local_table_uid\n    }, {\n      id: 'local_column_attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Local Column'),\n      type: 'select',\n      options: this.fieldOptions.local_column_attnum,\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true\n    }, {\n      id: 'constraint_type',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Select constraint'),\n      type: 'toggle',\n      deps: ['local_column_attnum'],\n      options: [{\n        label: 'Primary Key',\n        value: 'primary_key'\n      }, {\n        label: 'Unique',\n        value: 'unique'\n      }],\n      visible: this.isVisible,\n      depChange: (state, source) => {\n        if (source[0] === 'local_column_attnum' && this.isVisible(state)) {\n          return {\n            constraint_type: 'unique'\n          };\n        } else if (source[0] === 'local_column_attnum') {\n          return {\n            constraint_type: ''\n          };\n        }\n      },\n      helpMessage: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('A constraint is required to implement One to One relationship.')\n    }, {\n      id: 'referenced_table_uid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Table'),\n      type: 'select',\n      options: this.fieldOptions.referenced_table_uid,\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true\n    }, {\n      id: 'referenced_column_attnum',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Referenced Column'),\n      controlProps: {\n        allowClear: false\n      },\n      deps: ['referenced_table_uid'],\n      noEmpty: true,\n      type: state => ({\n        type: 'select',\n        options: state.referenced_table_uid ? () => this.fieldOptions.getRefColumns(state.referenced_table_uid) : [],\n        optionsReloadBasis: state.referenced_table_uid\n      })\n    }];\n  }\n  validate(state, setError) {\n    let tableData = this.localTableData.getData();\n    if (tableData.primary_key.length && state.constraint_type === 'primary_key') {\n      setError('constraint_type', sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Primary key already exists, please select different constraint.'));\n      return true;\n    }\n    return false;\n  }\n}\nfunction getOneToOneDialogSchema(attributes, tableNodesDict) {\n  let tablesData = [];\n  lodash__WEBPACK_IMPORTED_MODULE_4___default().forEach(tableNodesDict, (node, uid) => {\n    let [schema, name] = node.getSchemaTableName();\n    tablesData.push({\n      value: uid,\n      label: `(${schema}) ${name}`,\n      image: 'icon-table'\n    });\n  });\n  return new OneToOneSchema({\n    local_table_uid: tablesData,\n    local_column_attnum: tableNodesDict[attributes.local_table_uid].getColumns().map(col => {\n      return {\n        value: col.attnum,\n        label: col.name,\n        'image': 'icon-column'\n      };\n    }),\n    referenced_table_uid: tablesData,\n    getRefColumns: uid => {\n      return tableNodesDict[uid].getColumns().map(col => {\n        return {\n          value: col.attnum,\n          label: col.name,\n          'image': 'icon-column'\n        };\n      });\n    }\n  }, attributes, tableNodesDict[attributes.local_table_uid]);\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToOneDialog.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/dialogs/TableDialog.js":
/*!*********************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/dialogs/TableDialog.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTableDialogSchema: () => (/* binding */ getTableDialogSchema)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../browser/server_groups/servers/databases/schemas/tables/static/js/table.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/js/table.ui.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_columns_static_js_column_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/js/column.ui.js\");\n/* harmony import */ var _browser_server_groups_servers_databases_schemas_tables_constraints_foreign_key_static_js_foreign_key_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/js/foreign_key.ui.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\nclass EmptySchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  get baseFields() {\n    return [];\n  }\n  changeColumnOptions() {\n    /*This is intentional (SonarQube)*/\n  }\n}\nfunction getTableDialogSchema(attributes, isNew, tableNodesDict, colTypes, schemas) {\n  let treeNodeInfo;\n  let columnSchema = new _browser_server_groups_servers_databases_schemas_tables_columns_static_js_column_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"](() => {/*This is intentional (SonarQube)*/}, treeNodeInfo, () => colTypes, () => [], () => [], true);\n  return new _browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n    relowner: [],\n    schema: schemas.map(schema => {\n      return {\n        'value': schema['name'],\n        'image': 'icon-schema',\n        'label': schema['name']\n      };\n    }),\n    spcname: [],\n    coll_inherits: [],\n    typname: [],\n    like_relation: []\n  }, treeNodeInfo, {\n    columns: () => columnSchema,\n    vacuum_settings: () => new EmptySchema(),\n    constraints: () => new _browser_server_groups_servers_databases_schemas_tables_static_js_table_ui__WEBPACK_IMPORTED_MODULE_2__.ConstraintsSchema(treeNodeInfo, () => new _browser_server_groups_servers_databases_schemas_tables_constraints_foreign_key_static_js_foreign_key_ui__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      local_column: [],\n      references: () => {\n        let retOpts = [];\n        lodash__WEBPACK_IMPORTED_MODULE_0___default().forEach(tableNodesDict, (node, uid) => {\n          let [schema, name] = node.getSchemaTableName();\n          retOpts.push({\n            value: uid,\n            label: `(${schema}) ${name}`\n          });\n        });\n        return retOpts;\n      }\n    }, treeNodeInfo, params => {\n      if (params.tid) {\n        return tableNodesDict[params.tid].getColumns().map(col => {\n          return {\n            value: col.name,\n            label: col.name,\n            'image': 'icon-column'\n          };\n        });\n      }\n    }, {\n      autoindex: false\n    }, true), () => new EmptySchema(), {\n      spcname: []\n    }, true)\n  }, () => new EmptySchema(), () => [], () => [], () => [], () => [], isNew ? {\n    schema: schemas[0]?.name\n  } : attributes, true);\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/dialogs/TableDialog.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/dialogs/index.jsx":
/*!****************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/dialogs/index.jsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ERDDialogs)\n/* harmony export */ });\n/* harmony import */ var _TableDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TableDialog */ \"./pgadmin/tools/erd/static/js/erd_tool/dialogs/TableDialog.js\");\n/* harmony import */ var _OneToManyDialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OneToManyDialog */ \"./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToManyDialog.js\");\n/* harmony import */ var _ManyToManyDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ManyToManyDialog */ \"./pgadmin/tools/erd/static/js/erd_tool/dialogs/ManyToManyDialog.js\");\n/* harmony import */ var _OneToOneDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OneToOneDialog */ \"./pgadmin/tools/erd/static/js/erd_tool/dialogs/OneToOneDialog.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\nclass ERDDialogs {\n  constructor(modalProvider) {\n    this.modal = modalProvider;\n  }\n  onSaveClick(_isNew, data, closeModal, okCallback) {\n    return new Promise((resolve, reject) => {\n      let errorMsg = okCallback(data);\n      if (errorMsg) {\n        reject(new Error(errorMsg));\n      } else {\n        closeModal();\n        resolve();\n      }\n    });\n  }\n  showTableDialog(params) {\n    var _this = this;\n    let schema = (0,_TableDialog__WEBPACK_IMPORTED_MODULE_0__.getTableDialogSchema)(params.attributes, params.isNew, params.tableNodes, params.colTypes, params.schemas);\n    this.modal.showModal(params.title, closeModal => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        formType: 'dialog',\n        getInitData: () => Promise.resolve({}),\n        schema: schema,\n        viewHelperProps: {\n          mode: 'create',\n          keepCid: true,\n          serverInfo: params.serverInfo\n        },\n        onSave: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _this.onSaveClick(...args, closeModal, params.callback);\n        },\n        onClose: closeModal,\n        onDataChange: () => {/*This is intentional (SonarQube)*/},\n        hasSQL: false,\n        disableSqlHelp: true,\n        disableDialogHelp: true,\n        Notifier: this.modal\n      });\n    }, {\n      isResizeable: true,\n      dialogWidth: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser)?.stdW?.lg,\n      dialogHeight: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser)?.stdH?.md\n    });\n  }\n  showRelationDialog(dialogName, params) {\n    var _this2 = this;\n    let schema;\n    if (dialogName === 'onetomany_dialog') {\n      schema = (0,_OneToManyDialog__WEBPACK_IMPORTED_MODULE_1__.getOneToManyDialogSchema)(params.attributes, params.tableNodes);\n    } else if (dialogName === 'manytomany_dialog') {\n      schema = (0,_ManyToManyDialog__WEBPACK_IMPORTED_MODULE_2__.getManyToManyDialogSchema)(params.attributes, params.tableNodes);\n    } else if (dialogName === 'onetoone_dialog') {\n      schema = (0,_OneToOneDialog__WEBPACK_IMPORTED_MODULE_3__.getOneToOneDialogSchema)(params.attributes, params.tableNodes);\n    }\n    this.modal.showModal(params.title, closeModal => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default().createElement(_static_js_SchemaView__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        formType: 'dialog',\n        getInitData: () => Promise.resolve({}),\n        schema: schema,\n        viewHelperProps: {\n          mode: 'create',\n          keepCid: true,\n          serverInfo: params.serverInfo\n        },\n        onSave: function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _this2.onSaveClick(...args, closeModal, params.callback);\n        },\n        onClose: closeModal,\n        onDataChange: () => {/*This is intentional (SonarQube)*/},\n        hasSQL: false,\n        disableSqlHelp: true,\n        disableDialogHelp: true\n      });\n    }, {\n      isResizeable: true,\n      dialogWidth: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser)?.stdW?.lg,\n      dialogHeight: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser)?.stdH?.md\n    });\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/dialogs/index.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/links/OneToManyLink.jsx":
/*!**********************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/links/OneToManyLink.jsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OneToManyLinkFactory: () => (/* binding */ OneToManyLinkFactory),\n/* harmony export */   OneToManyLinkModel: () => (/* binding */ OneToManyLinkModel),\n/* harmony export */   OneToManyLinkWidget: () => (/* binding */ OneToManyLinkWidget),\n/* harmony export */   OneToManyModel: () => (/* binding */ OneToManyModel),\n/* harmony export */   POINTER_SIZE: () => (/* binding */ POINTER_SIZE)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @projectstorm/react-diagrams */ \"./node_modules/@projectstorm/react-diagrams/dist/index.js\");\n/* harmony import */ var _projectstorm_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @projectstorm/geometry */ \"./node_modules/@projectstorm/geometry/dist/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _components_ERDTool__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/ERDTool */ \"./pgadmin/tools/erd/static/js/erd_tool/components/ERDTool.jsx\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.development.esm.js\");\n\n\n\nconst _excluded = [\"data\"],\n  _excluded2 = [\"model\", \"selected\", \"path\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\nconst POINTER_SIZE = 30;\nconst OneToManyModel = {\n  local_table_uid: undefined,\n  local_column_attnum: undefined,\n  referenced_table_uid: undefined,\n  referenced_column_attnum: undefined\n};\nclass OneToManyLinkModel extends _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.RightAngleLinkModel {\n  constructor(_ref) {\n    let {\n        data\n      } = _ref,\n      options = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref, _excluded);\n    super(_objectSpread({\n      type: 'onetomany',\n      width: 1,\n      class: 'link-onetomany',\n      locked: true\n    }, options));\n    this._data = _objectSpread({}, data);\n    this._linkPointType = {\n      sourceType: 'one',\n      targetType: 'many'\n    };\n  }\n  getData() {\n    return this._data;\n  }\n  setData(data) {\n    this._data = data;\n  }\n  serializeData(nodesDict) {\n    let data = this.getData();\n    let target = nodesDict[data['local_table_uid']].getData();\n    let source = nodesDict[data['referenced_table_uid']].getData();\n    return {\n      'schema': target.schema,\n      'table': target.name,\n      'remote_schema': source.schema,\n      'remote_table': source.name,\n      'columns': [{\n        'local_column': lodash__WEBPACK_IMPORTED_MODULE_6___default().find(target.columns, col => data.local_column_attnum == col.attnum).name,\n        'referenced': lodash__WEBPACK_IMPORTED_MODULE_6___default().find(source.columns, col => data.referenced_column_attnum == col.attnum).name\n      }]\n    };\n  }\n  serialize() {\n    return _objectSpread(_objectSpread({}, super.serialize()), {}, {\n      data: this.getData()\n    });\n  }\n  setPointType(nodesDict) {\n    let data = this.getData();\n    let target = nodesDict[data['local_table_uid']].getData();\n    let colName = lodash__WEBPACK_IMPORTED_MODULE_6___default().find(target.columns, col => data.local_column_attnum == col.attnum).name;\n    let {\n      pkCols = [],\n      ukCols = []\n    } = nodesDict[data['local_table_uid']].getConstraintCols();\n    let targetType = pkCols.includes(colName) || ukCols.includes(colName) ? 'one' : 'many';\n    this._linkPointType = _objectSpread(_objectSpread({}, this._linkPointType), {}, {\n      targetType\n    });\n  }\n  getPointType() {\n    return this._linkPointType;\n  }\n  setFirstAndLastPathsDirection() {\n    let points = this.getPoints();\n    if (points.length > 2) {\n      super.setFirstAndLastPathsDirection();\n    } else {\n      let dx = Math.abs(points[1].getX() - points[0].getX());\n      let dy = Math.abs(points[1].getY() - points[0].getY());\n      this._firstPathXdirection = dx > dy;\n      this._lastPathXdirection = dx > dy;\n    }\n  }\n}\nconst svgLinkSelected = (0,_emotion_react__WEBPACK_IMPORTED_MODULE_8__.keyframes)`\n  from { stroke-dashoffset: 24;}\n  to { stroke-dashoffset: 0; }\n`;\nconst StyledG = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_9__[\"default\"])('g')(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    '& .OneToMany-svgLink': {\n      stroke: theme.palette.text.primary,\n      fontSize: '0.8em'\n    },\n    '& .OneToMany-svgLinkCircle': {\n      fill: theme.palette.text.primary\n    },\n    '& .OneToMany-svgLinkSelected': {\n      strokeDasharray: '10, 2',\n      animation: `${svgLinkSelected} 1s linear infinite`\n    },\n    '& .OneToMany-svgLinkPath': {\n      pointerEvents: 'all',\n      cursor: 'move'\n    }\n  };\n});\nfunction ChenNotation(_ref3) {\n  let {\n    rotation,\n    type\n  } = _ref3;\n  const textX = Math.sign(rotation) > 0 ? -14 : 8;\n  const textY = -5;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"text\", {\n    className: \"OneToMany-svgLink\",\n    x: textX,\n    y: textY,\n    transform: 'rotate(' + -rotation + ')'\n  }, type == 'one' ? '1' : 'N'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"line\", {\n    className: \"OneToMany-svgLink\",\n    x1: \"0\",\n    y1: \"0\",\n    x2: \"0\",\n    y2: \"30\"\n  }));\n}\nChenNotation.propTypes = {\n  rotation: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().number),\n  type: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().string)\n};\nfunction NotationForType(_ref4) {\n  let {\n    itype,\n    width,\n    rotation\n  } = _ref4;\n  const settings = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_components_ERDTool__WEBPACK_IMPORTED_MODULE_7__.ERDCanvasSettings);\n  if (settings.cardinality_notation == 'chen') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ChenNotation, {\n      rotation: rotation,\n      type: itype\n    });\n  }\n  if (itype == 'many') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"circle\", {\n      className: ['OneToMany-svgLink', 'OneToMany-svgLinkCircle'].join(' '),\n      cx: \"0\",\n      cy: \"16\",\n      r: width * 2.5,\n      strokeWidth: width\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"polyline\", {\n      className: \"OneToMany-svgLink\",\n      points: \"-8,0 0,15 0,0 0,30 0,15 8,0\",\n      fill: \"none\",\n      strokeWidth: width\n    }));\n  } else if (itype == 'one') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"polyline\", {\n      className: \"OneToMany-svgLink\",\n      points: \"-8,15 0,15 0,0 0,30 0,15 8,15\",\n      fill: \"none\",\n      strokeWidth: width\n    });\n  }\n}\nNotationForType.propTypes = {\n  itype: prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOf(['many', 'one']).isRequired,\n  rotation: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().number).isRequired,\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().number)\n};\nclass OneToManyLinkWidget extends _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.RightAngleLinkWidget {\n  constructor(props) {\n    super(props);\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, \"handleMove\", function (event) {\n      this.props.link.getTargetPort();\n      this.draggingEvent(event, this.dragging_index);\n      this.props.link.fireEvent({}, 'positionChanged');\n    }.bind(this));\n    this.state = {};\n    this.setPointType();\n    this.updateLinkListener = this.props.link.registerListener({\n      updateLink: () => {\n        this.setPointType();\n        this.setState({});\n      }\n    });\n  }\n  componentWillUnmount() {\n    this.props.link.deregisterListener(this.updateLinkListener);\n  }\n  setPointType() {\n    this.props.link.setPointType(this.props.diagramEngine.getModel().getNodesDict());\n  }\n  endPointTranslation(alignment) {\n    let degree = 0;\n    let tx = 0,\n      ty = 0;\n    switch (alignment) {\n      case _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.PortModelAlignment.BOTTOM:\n        ty = -POINTER_SIZE;\n        break;\n      case _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.PortModelAlignment.LEFT:\n        degree = 90;\n        tx = POINTER_SIZE;\n        break;\n      case _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.PortModelAlignment.TOP:\n        degree = 180;\n        ty = POINTER_SIZE;\n        break;\n      case _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.PortModelAlignment.RIGHT:\n        degree = -90;\n        tx = -POINTER_SIZE;\n        break;\n    }\n    return [degree, tx, ty];\n  }\n  addCustomWidgetPoint(type, endpoint, point) {\n    const [rotation, tx, ty] = this.endPointTranslation(endpoint.options.alignment);\n    if (!point) {\n      point = this.props.link.point(endpoint.getX() - tx, endpoint.getY() - ty, {\n        'one': 1,\n        'many': 2\n      }[type]);\n    } else {\n      point.setPosition(endpoint.getX() - tx, endpoint.getY() - ty);\n    }\n    return {\n      type: type,\n      point: point,\n      rotation: rotation,\n      tx: tx,\n      ty: ty\n    };\n  }\n  generateCustomEndWidget(_ref5) {\n    let {\n      type,\n      point,\n      rotation,\n      tx,\n      ty\n    } = _ref5;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"g\", {\n      key: point.getID(),\n      transform: 'translate(' + point.getPosition().x + ', ' + point.getPosition().y + ')'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"g\", {\n      transform: 'translate(' + tx + ',' + ty + ')'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"g\", {\n      transform: 'rotate(' + rotation + ')'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(NotationForType, {\n      itype: type,\n      width: this.props.width,\n      rotation: rotation\n    }))));\n  }\n  draggingEvent(event, index) {\n    let points = this.props.link.getPoints();\n    // get moving difference. Index + 1 will work because links indexes has\n    // length = points.lenght - 1\n    let dx = Math.abs(points[index].getX() - points[index + 1].getX());\n    let dy = Math.abs(points[index].getY() - points[index + 1].getY());\n\n    // moving with y direction\n    if (dx === 0) {\n      this.calculatePositions(points, event, index, 'x');\n    } else if (dy === 0) {\n      this.calculatePositions(points, event, index, 'y');\n    }\n    this.props.link.setFirstAndLastPathsDirection();\n  }\n  render() {\n    //ensure id is present for all points on the path\n    let points = this.props.link.getPoints();\n    let paths = [];\n    let {\n      sourceType,\n      targetType\n    } = this.props.link.getPointType();\n    let onePoint = this.addCustomWidgetPoint(sourceType, this.props.link.getSourcePort(), points[0]);\n    let manyPoint = this.addCustomWidgetPoint(targetType, this.props.link.getTargetPort(), points[points.length - 1]);\n    if (!this.state.canDrag && points.length > 2) {\n      // Those points and its position only will be moved\n      for (let i = 1; i < points.length; i += points.length - 2) {\n        if (i - 1 === 0) {\n          if (this.props.link.getFirstPathXdirection()) {\n            points[i].setPosition(points[i].getX(), points[i - 1].getY());\n          } else {\n            points[i].setPosition(points[i - 1].getX(), points[i].getY());\n          }\n        } else if (this.props.link.getLastPathXdirection()) {\n          points[i - 1].setPosition(points[i - 1].getX(), points[i].getY());\n        } else {\n          points[i - 1].setPosition(points[i].getX(), points[i - 1].getY());\n        }\n      }\n    }\n\n    // If there is existing link which has two points add one\n    // and the link is horizontal\n    if (points.length === 2 && !this.state.canDrag && onePoint.point.getX() != manyPoint.point.getX()) {\n      this.props.link.addPoint(new _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.PointModel({\n        link: this.props.link,\n        position: new _projectstorm_geometry__WEBPACK_IMPORTED_MODULE_5__.Point(onePoint.point.getX(), manyPoint.point.getY())\n      }));\n    }\n    paths.push(this.generateCustomEndWidget(onePoint));\n    for (let j = 0; j < points.length - 1; j++) {\n      paths.push(this.generateLink(_projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.LinkWidget.generateLinePath(points[j], points[j + 1]), {\n        'data-linkid': this.props.link.getID(),\n        'data-point': j,\n        onMouseDown: event => {\n          if (event.button === 0) {\n            this.setState({\n              canDrag: true\n            });\n            this.dragging_index = j;\n            // Register mouse move event to track mouse position\n            // On mouse up these events are unregistered check \"this.handleUp\"\n            window.addEventListener('mousemove', this.handleMove);\n            window.addEventListener('mouseup', this.handleUp);\n          }\n        },\n        onMouseEnter: () => {\n          this.setState({\n            selected: true\n          });\n          this.props.link.lastHoverIndexOfPath = j;\n        }\n      }, j));\n    }\n    paths.push(this.generateCustomEndWidget(manyPoint));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(StyledG, {\n      \"data-default-link-test\": this.props.link.getOptions().testName\n    }, paths);\n  }\n}\nconst LinkSegment = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)((_ref6, ref) => {\n  let {\n      model,\n      selected,\n      path\n    } = _ref6,\n    props = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_ref6, _excluded2);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"path\", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    ref: ref,\n    className: ['OneToMany-svgLink', 'OneToMany-svgLinkPath', selected ? 'OneToMany-svgLinkSelected' : ''].join(' '),\n    stroke: model.getOptions().color,\n    strokeWidth: model.getOptions().width,\n    selected: selected,\n    d: path\n  }, props));\n});\nLinkSegment.displayName = 'LinkSegment';\nLinkSegment.propTypes = {\n  model: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().object),\n  selected: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool),\n  path: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().any)\n};\nclass OneToManyLinkFactory extends _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_4__.DefaultLinkFactory {\n  constructor() {\n    super('onetomany');\n  }\n  generateModel(event) {\n    return new OneToManyLinkModel(event.initialConfig);\n  }\n  generateReactWidget(event) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(OneToManyLinkWidget, {\n      width: 1,\n      smooth: true,\n      link: event.model,\n      diagramEngine: this.engine,\n      factory: this\n    });\n  }\n  generateLinkSegment(model, selected, path) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(LinkSegment, {\n      model: model,\n      selected: selected,\n      path: path\n    });\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/links/OneToManyLink.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/nodes/TableNode.jsx":
/*!******************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/nodes/TableNode.jsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TableNodeFactory: () => (/* binding */ TableNodeFactory),\n/* harmony export */   TableNodeModel: () => (/* binding */ TableNodeModel),\n/* harmony export */   TableNodeWidget: () => (/* binding */ TableNodeWidget)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @projectstorm/react-diagrams */ \"./node_modules/@projectstorm/react-diagrams/dist/index.js\");\n/* harmony import */ var _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @projectstorm/react-canvas-core */ \"./node_modules/@projectstorm/react-canvas-core/dist/index.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var top_browser_server_groups_servers_databases_schemas_static_img_schema_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! top/browser/server_groups/servers/databases/schemas/static/img/schema.svg */ \"./pgadmin/browser/server_groups/servers/databases/schemas/static/img/schema.svg\");\n/* harmony import */ var top_browser_server_groups_servers_databases_schemas_tables_static_img_table_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! top/browser/server_groups/servers/databases/schemas/tables/static/img/table.svg */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/static/img/table.svg\");\n/* harmony import */ var top_browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_img_primary_key_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! top/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/primary_key.svg */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/primary_key.svg\");\n/* harmony import */ var top_browser_server_groups_servers_databases_schemas_tables_constraints_foreign_key_static_img_foreign_key_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! top/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/img/foreign_key.svg */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/foreign_key/static/img/foreign_key.svg\");\n/* harmony import */ var top_browser_server_groups_servers_databases_schemas_tables_columns_static_img_column_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! top/browser/server_groups/servers/databases/schemas/tables/columns/static/img/column.svg */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/columns/static/img/column.svg\");\n/* harmony import */ var top_browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_img_unique_constraint_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! top/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/unique_constraint.svg */ \"./pgadmin/browser/server_groups/servers/databases/schemas/tables/constraints/index_constraint/static/img/unique_constraint.svg\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_NoteRounded__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/NoteRounded */ \"./node_modules/@mui/icons-material/esm/NoteRounded.js\");\n/* harmony import */ var _mui_icons_material_VisibilityRounded__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/icons-material/VisibilityRounded */ \"./node_modules/@mui/icons-material/esm/VisibilityRounded.js\");\n/* harmony import */ var _mui_icons_material_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/VisibilityOffRounded */ \"./node_modules/@mui/icons-material/esm/VisibilityOffRounded.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n\n\nconst _excluded = [\"otherInfo\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TYPE = 'table';\nconst TABLE_WIDTH = 175;\nclass TableNodeModel extends _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_3__.DefaultNodeModel {\n  constructor(_ref) {\n    let {\n        otherInfo\n      } = _ref,\n      options = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, _excluded);\n    super(_objectSpread(_objectSpread({}, options), {}, {\n      type: TYPE\n    }));\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, \"generateOnetoOneData\", tableData => {\n      if (tableData) {\n        let ukCols = [],\n          pkCols = [];\n        (tableData.unique_constraint || []).forEach(uk => {\n          if (uk.columns.length === 1) {\n            ukCols.push(...uk.columns.map(c => c.column));\n          }\n        });\n        (tableData.primary_key || []).forEach(pk => {\n          if (pk.columns.length === 1) {\n            pkCols.push(...pk.columns.map(c => c.column));\n          }\n        });\n        this.setConstraintCols({\n          ukCols,\n          pkCols\n        });\n      }\n    });\n    this.width = TABLE_WIDTH;\n    this._note = otherInfo.note || '';\n    this._metadata = _objectSpread(_objectSpread({\n      data_failed: false\n    }, otherInfo.metadata), {}, {\n      is_promise: Boolean(otherInfo.data?.then || otherInfo.metadata?.data_failed && !otherInfo.data)\n    });\n    this._data = null;\n    this._constraintCols = {};\n    if (otherInfo.data?.then) {\n      otherInfo.data.then(data => {\n        /* Once the data is available, it is no more a promise */\n        this._data = data;\n        this._metadata = _objectSpread(_objectSpread({}, this._metadata), {}, {\n          data_failed: false,\n          is_promise: false\n        });\n        this.generateOnetoOneData(data);\n        this.fireEvent(this._metadata, 'dataAvaiable');\n        this.fireEvent({}, 'nodeUpdated');\n        this.fireEvent({}, 'selectionChanged');\n      }).catch(() => {\n        this._metadata = _objectSpread(_objectSpread({}, this._metadata), {}, {\n          data_failed: true,\n          is_promise: true\n        });\n        this.fireEvent(this._metadata, 'dataAvaiable');\n      });\n    } else {\n      this._data = _objectSpread({\n        columns: []\n      }, otherInfo.data);\n      this.generateOnetoOneData(otherInfo.data);\n    }\n  }\n  getPortName(attnum, alignment) {\n    if (alignment) {\n      return `coll-port-${attnum}-${alignment}`;\n    }\n    return `coll-port-${attnum}-right`;\n  }\n  getPortAttnum(portName) {\n    return portName.split('-')[2];\n  }\n  setNote(note) {\n    this._note = note;\n  }\n  getNote() {\n    return this._note;\n  }\n  getMetadata() {\n    return this._metadata;\n  }\n  setMetadata(metadata) {\n    this._metadata = _objectSpread(_objectSpread({}, this._metadata), metadata);\n  }\n  getLinks() {\n    let links = {};\n    this.getPorts();\n    Object.values(this.getPorts()).forEach(port => {\n      links = _objectSpread(_objectSpread({}, links), port.getLinks());\n    });\n    return links;\n  }\n  addColumn(col) {\n    this._data.columns.push(col);\n  }\n  getColumnAt(attnum) {\n    return lodash__WEBPACK_IMPORTED_MODULE_5___default().find(this.getColumns(), col => col.attnum == attnum);\n  }\n  getColumns() {\n    return this._data.columns;\n  }\n  setName(name) {\n    this._data['name'] = name;\n  }\n  setData(data) {\n    this._data = data;\n    this.generateOnetoOneData(data);\n    this.fireEvent({}, 'nodeUpdated');\n  }\n  getData() {\n    return this._data;\n  }\n  getSchemaTableName() {\n    return [this._data.schema, this._data.name];\n  }\n  remove() {\n    Object.values(this.getPorts()).forEach(port => {\n      port.removeAllLinks();\n    });\n    super.remove();\n  }\n  serializeData() {\n    return this.getData();\n  }\n  serialize() {\n    return _objectSpread(_objectSpread({}, super.serialize()), {}, {\n      otherInfo: {\n        data: this.getData(),\n        note: this.getNote(),\n        metadata: this.getMetadata()\n      }\n    });\n  }\n  setConstraintCols(colsData) {\n    this._constraintCols = colsData;\n  }\n  getConstraintCols() {\n    return this._constraintCols;\n  }\n}\nfunction RowIcon(_ref2) {\n  let {\n    icon\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n    style: {\n      padding: '0rem 0.125rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"img\", {\n    src: icon,\n    alt: \"\",\n    crossOrigin: \"anonymous\"\n  }));\n}\nRowIcon.propTypes = {\n  icon: (prop_types__WEBPACK_IMPORTED_MODULE_14___default().any).isRequired\n};\nconst StyledDiv = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_15__[\"default\"])('div')(_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return {\n    '&.TableNode-tableNode': _objectSpread(_objectSpread({\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary\n    }, theme.mixins.panelBorder.all), {}, {\n      borderRadius: theme.shape.borderRadius,\n      position: 'relative',\n      width: `${TABLE_WIDTH}px`,\n      fontSize: '0.8em',\n      '& div:last-child': {\n        borderBottomLeftRadius: 'inherit',\n        borderBottomRightRadius: 'inherit'\n      },\n      '& .TableNode-tableSection': _objectSpread(_objectSpread({}, theme.mixins.panelBorder.bottom), {}, {\n        padding: '0.125rem 0.25rem',\n        display: 'flex',\n        '&.TableNode-tableNameText': {\n          fontWeight: 'bold',\n          wordBreak: 'break-all',\n          margin: 'auto 0',\n          '& .TableNode-error': {\n            color: theme.palette.error.main\n          }\n        },\n        '&.TableNode-tableToolbar': {\n          background: theme.otherVars.editorToolbarBg,\n          borderTopLeftRadius: 'inherit',\n          borderTopRightRadius: 'inherit'\n        },\n        '& .TableNode-noteBtn': {\n          marginLeft: 'auto',\n          backgroundColor: theme.palette.warning.main,\n          color: theme.palette.warning.contrastText\n        }\n      }),\n      '& .TableNode-columnSection': _objectSpread(_objectSpread({\n        display: 'flex',\n        width: '100%'\n      }, theme.mixins.panelBorder.bottom), {}, {\n        '& .TableNode-columnName': {\n          display: 'flex',\n          width: '100%',\n          padding: '0.125rem 0.25rem',\n          wordBreak: 'break-all'\n        }\n      })\n    }),\n    '&.TableNode-tableNodeSelected': {\n      borderColor: theme.palette.primary.main\n    }\n  };\n});\nclass TableNodeWidget extends (react__WEBPACK_IMPORTED_MODULE_2___default().Component) {\n  constructor(props) {\n    super(props);\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, \"generatePort\", port => {\n      if (port) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_3__.PortWidget, {\n          engine: this.props.engine,\n          port: port,\n          key: port.getID(),\n          className: 'port-' + port.options.alignment\n        });\n      }\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null);\n    });\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, \"toggleShowDetails\", e => {\n      e.preventDefault();\n      this.setState(prevState => ({\n        show_details: !prevState.show_details\n      }));\n    });\n    this.state = {\n      show_details: true\n    };\n    this.tableNodeEventListener = this.props.node.registerListener({\n      toggleDetails: event => {\n        this.setState({\n          show_details: event.show_details\n        });\n      },\n      changeColors: event => {\n        this.props.node.setMetadata({\n          fillColor: event.fillColor,\n          textColor: event.textColor\n        });\n        this.setState({});\n      },\n      dataAvaiable: () => {\n        /* Just re-render */\n        this.setState({});\n      }\n    });\n  }\n  componentWillUnmount() {\n    this.props.node.deregisterListener(this.tableNodeEventListener);\n  }\n  generateColumn(col, localFkCols, localUkCols) {\n    let leftPort = this.props.node.getPort(this.props.node.getPortName(col.attnum, _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_3__.PortModelAlignment.LEFT));\n    let rightPort = this.props.node.getPort(this.props.node.getPortName(col.attnum, _projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_3__.PortModelAlignment.RIGHT));\n    let icon = top_browser_server_groups_servers_databases_schemas_tables_columns_static_img_column_svg__WEBPACK_IMPORTED_MODULE_10__;\n    /* Less priority */\n    if (localUkCols.indexOf(col.name) > -1) {\n      icon = top_browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_img_unique_constraint_svg__WEBPACK_IMPORTED_MODULE_11__;\n    }\n    if (col.is_primary_key) {\n      icon = top_browser_server_groups_servers_databases_schemas_tables_constraints_index_constraint_static_img_primary_key_svg__WEBPACK_IMPORTED_MODULE_8__;\n    } else if (localFkCols.indexOf(col.name) > -1) {\n      icon = top_browser_server_groups_servers_databases_schemas_tables_constraints_foreign_key_static_img_foreign_key_svg__WEBPACK_IMPORTED_MODULE_9__;\n    }\n    let cltype = col.cltype;\n    if (col.attlen) {\n      cltype += '(' + col.attlen + (col.attprecision ? ',' + col.attprecision : '') + ')';\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      className: \"TableNode-columnSection\",\n      key: col.attnum,\n      \"data-test\": \"column-row\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      marginRight: \"auto\",\n      padding: \"0\",\n      minHeight: \"0\",\n      display: \"flex\",\n      alignItems: \"center\"\n    }, this.generatePort(leftPort)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      className: \"TableNode-columnName\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(RowIcon, {\n      icon: icon\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      margin: \"auto 0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"span\", {\n      \"data-test\": \"column-name\"\n    }, col.name), \"\\xA0\", this.state.show_details && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"span\", {\n      \"data-test\": \"column-type\"\n    }, cltype + (col.colconstype == 'i' ? ` (${sources_gettext__WEBPACK_IMPORTED_MODULE_12___default()('IDENTITY')})` : '')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n      marginLeft: \"auto\",\n      padding: \"0\",\n      minHeight: \"0\",\n      display: \"flex\",\n      alignItems: \"center\"\n    }, this.generatePort(rightPort)));\n  }\n  render() {\n    let tableData = this.props.node.getData() || {};\n    let tableMetaData = this.props.node.getMetadata();\n    let localFkCols = [];\n    (tableData.foreign_key || []).forEach(fk => {\n      localFkCols.push(...fk.columns.map(c => c.local_column));\n    });\n    let localUkCols = [];\n    (tableData.unique_constraint || []).forEach(uk => {\n      localUkCols.push(...uk.columns.map(c => c.column));\n    });\n    const styles = {\n      backgroundColor: tableMetaData.fillColor,\n      color: tableMetaData.textColor\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(StyledDiv, {\n      className: ['TableNode-tableNode', this.props.node.isSelected() ? 'TableNode-tableNodeSelected' : ''].join(' '),\n      onDoubleClick: () => {\n        this.props.node.fireEvent({}, 'editTable');\n      },\n      style: styles\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: 'TableNode-tableSection TableNode-tableToolbar'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_13__.PgIconButton, {\n      size: \"xs\",\n      title: sources_gettext__WEBPACK_IMPORTED_MODULE_12___default()('Show Details'),\n      icon: this.state.show_details ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_VisibilityRounded__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_VisibilityOffRounded__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null),\n      onClick: this.toggleShowDetails,\n      onDoubleClick: e => {\n        e.stopPropagation();\n      }\n    }), this.props.node.getNote() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_13__.PgIconButton, {\n      size: \"xs\",\n      className: \"TableNode-noteBtn\",\n      title: sources_gettext__WEBPACK_IMPORTED_MODULE_12___default()('Check Note'),\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_NoteRounded__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n      onClick: () => {\n        this.props.node.fireEvent({}, 'showNote');\n      }\n    })), tableMetaData.is_promise && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"TableNode-tableSection\"\n    }, !tableMetaData.data_failed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"TableNode-tableNameText\"\n    }, sources_gettext__WEBPACK_IMPORTED_MODULE_12___default()('Fetching...')), tableMetaData.data_failed && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: 'TableNode-tableNameText TableNode-error'\n    }, sources_gettext__WEBPACK_IMPORTED_MODULE_12___default()('Failed to get data. Please delete this table.'))), !tableMetaData.is_promise && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"TableNode-tableSection\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(RowIcon, {\n      icon: top_browser_server_groups_servers_databases_schemas_static_img_schema_svg__WEBPACK_IMPORTED_MODULE_6__\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"TableNode-tableNameText\",\n      \"data-test\": \"schema-name\"\n    }, tableData.schema)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"TableNode-tableSection\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(RowIcon, {\n      icon: top_browser_server_groups_servers_databases_schemas_tables_static_img_table_svg__WEBPACK_IMPORTED_MODULE_7__\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", {\n      className: \"TableNode-tableNameText\",\n      \"data-test\": \"table-name\"\n    }, tableData.name)), tableData.columns.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", null, lodash__WEBPACK_IMPORTED_MODULE_5___default().map(tableData.columns, col => this.generateColumn(col, localFkCols, localUkCols)))));\n  }\n}\nTableNodeWidget.propTypes = {\n  node: prop_types__WEBPACK_IMPORTED_MODULE_14___default().instanceOf(TableNodeModel),\n  engine: prop_types__WEBPACK_IMPORTED_MODULE_14___default().instanceOf(_projectstorm_react_diagrams__WEBPACK_IMPORTED_MODULE_3__.DiagramEngine)\n};\nclass TableNodeFactory extends _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_4__.AbstractReactFactory {\n  constructor() {\n    super(TYPE);\n  }\n  generateModel(event) {\n    return new TableNodeModel(event.initialConfig);\n  }\n  generateReactWidget(event) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(TableNodeWidget, {\n      engine: this.engine,\n      node: event.model\n    });\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/nodes/TableNode.jsx?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/erd_tool/ports/OneToManyPort.js":
/*!*********************************************************************!*\
  !*** ./pgadmin/tools/erd/static/js/erd_tool/ports/OneToManyPort.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OneToManyPortFactory: () => (/* binding */ OneToManyPortFactory),\n/* harmony export */   \"default\": () => (/* binding */ OneToManyPortModel)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _projectstorm_react_diagrams_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @projectstorm/react-diagrams-core */ \"./node_modules/@projectstorm/react-diagrams-core/dist/index.js\");\n/* harmony import */ var _links_OneToManyLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../links/OneToManyLink */ \"./pgadmin/tools/erd/static/js/erd_tool/links/OneToManyLink.jsx\");\n/* harmony import */ var _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @projectstorm/react-canvas-core */ \"./node_modules/@projectstorm/react-canvas-core/dist/index.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nconst TYPE = 'onetomany';\nclass OneToManyPortModel extends _projectstorm_react_diagrams_core__WEBPACK_IMPORTED_MODULE_1__.PortModel {\n  constructor(_ref) {\n    let {\n      options\n    } = _ref;\n    super(_objectSpread(_objectSpread({}, options), {}, {\n      type: TYPE\n    }));\n  }\n  removeAllLinks() {\n    Object.values(this.getLinks()).forEach(link => {\n      link.remove();\n    });\n  }\n  createLinkModel() {\n    return new _links_OneToManyLink__WEBPACK_IMPORTED_MODULE_2__.OneToManyLinkModel({});\n  }\n  deserialize(event) {\n    /* Make it backward compatible */\n    const alignment = event.data?.name?.split('-').slice(-1)[0];\n    if (event.data?.name && ![_projectstorm_react_diagrams_core__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.LEFT, _projectstorm_react_diagrams_core__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.RIGHT].includes(alignment)) {\n      event.data.name += '-' + _projectstorm_react_diagrams_core__WEBPACK_IMPORTED_MODULE_1__.PortModelAlignment.RIGHT;\n    }\n    super.deserialize(event);\n  }\n  serialize() {\n    return _objectSpread({}, super.serialize());\n  }\n  getAlignment() {\n    return this.options.alignment;\n  }\n}\nclass OneToManyPortFactory extends _projectstorm_react_canvas_core__WEBPACK_IMPORTED_MODULE_3__.AbstractModelFactory {\n  constructor() {\n    super(TYPE);\n  }\n  generateModel(event) {\n    return new OneToManyPortModel(event.initialConfig || {});\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/erd_tool/ports/OneToManyPort.js?");

/***/ }),

/***/ "./pgadmin/tools/erd/static/js/index.js":
/*!**********************************************!*\
  !*** ./pgadmin/tools/erd/static/js/index.js ***!
  \**********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var top_browser_static_js_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! top/browser/static/js/browser */ \"./pgadmin/browser/static/js/browser.js\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.tools.file_manager'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _ERDModule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ERDModule */ \"./pgadmin/tools/erd/static/js/ERDModule.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\nif (!(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools)) {\n  (sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools) = {};\n}\n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools).ERD = _ERDModule__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getInstance((sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default()), top_browser_static_js_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nmodule.exports = {\n  ERD: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools).ERD\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/erd/static/js/index.js?");

/***/ }),

/***/ "pgadmin.browser.endpoints":
/*!********************************************!*\
  !*** external "pgadmin.browser.endpoints" ***!
  \********************************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_pgadmin_browser_endpoints__;

/***/ }),

/***/ "translations":
/*!*******************************!*\
  !*** external "translations" ***!
  \*******************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_translations__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/harmony module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.hmd = (module) => {
/******/ 			module = Object.create(module);
/******/ 			if (!module.children) module.children = [];
/******/ 			Object.defineProperty(module, 'exports', {
/******/ 				enumerable: true,
/******/ 				set: () => {
/******/ 					throw new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);
/******/ 				}
/******/ 			});
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"erd_tool": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk"] = self["webpackChunk"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./pgadmin/tools/erd/static/js/index.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	__webpack_exports__ = __webpack_exports__["default"];
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});;
//# sourceMappingURL=../../../erd_tool.js.map