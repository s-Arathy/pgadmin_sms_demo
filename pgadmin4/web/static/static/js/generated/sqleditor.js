/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
define(["pgadmin.browser.endpoints","translations"], (__WEBPACK_EXTERNAL_MODULE_pgadmin_browser_endpoints__, __WEBPACK_EXTERNAL_MODULE_translations__) => { return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./pgadmin/browser/server_groups/static/js/server_group.js":
/*!*****************************************************************!*\
  !*** ./pgadmin/browser/server_groups/static/js/server_group.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _server_group_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server_group.ui */ \"./pgadmin/browser/server_groups/static/js/server_group.ui.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\ndefine('pgadmin.node.server_group', ['sources/gettext', 'sources/url_for', 'sources/pgadmin', 'pgadmin.user_management.current_user', 'pgadmin.browser', 'pgadmin.browser.node'], function (gettext, url_for, pgAdmin, current_user) {\n  if (!pgAdmin.Browser.Nodes['server_group']) {\n    pgAdmin.Browser.Nodes['server_group'] = pgAdmin.Browser.Node.extend({\n      parent_type: null,\n      type: 'server_group',\n      dialogHelp: url_for('help.static', {\n        'filename': 'server_group_dialog.html'\n      }),\n      label: gettext('Server Group'),\n      width: '250px',\n      height: '150px',\n      is_collection: true,\n      Init: function () {\n        /* Avoid multiple registration of menus */\n        if (this.initialized) return;\n        this.initialized = true;\n        pgAdmin.Browser.add_menus([{\n          name: 'create_server_group',\n          node: 'server_group',\n          module: this,\n          applies: ['object', 'context'],\n          callback: 'show_obj_properties',\n          category: 'create',\n          priority: 1,\n          label: gettext('Server Group...'),\n          data: {\n            'action': 'create'\n          }\n        }]);\n      },\n      getSchema: () => new ServerGroupSchema(),\n      canDrop: function (itemData) {\n        let serverOwner = itemData.user_id;\n        return !(serverOwner != current_user.id && !_.isUndefined(serverOwner));\n      },\n      dropAsRemove: true,\n      canDelete: function (i) {\n        let s = pgAdmin.Browser.tree.siblings(i, true);\n\n        /* This is the only server group - we can't remove it*/\n        return !(!s || s.length == 0);\n      }\n    });\n  }\n  return pgAdmin.Browser.Nodes['server_group'];\n});\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/static/js/server_group.js?");

/***/ }),

/***/ "./pgadmin/browser/server_groups/static/js/server_group.ui.js":
/*!********************************************************************!*\
  !*** ./pgadmin/browser/server_groups/static/js/server_group.ui.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ServerGroupSchema)\n/* harmony export */ });\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\nclass ServerGroupSchema extends sources_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  constructor() {\n    super({\n      id: undefined,\n      name: null,\n      user_id: undefined\n    });\n  }\n  get baseFields() {\n    return [{\n      id: 'id',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('ID'),\n      type: 'int',\n      group: null,\n      mode: ['properties'],\n      visible: true\n    }, {\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_0___default()('Name'),\n      type: 'text',\n      group: null,\n      mode: ['properties', 'edit', 'create'],\n      noEmpty: true,\n      disabled: false\n    }];\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/browser/server_groups/static/js/server_group.ui.js?");

/***/ }),

/***/ "./pgadmin/static/js/Explain/Analysis.jsx":
/*!************************************************!*\
  !*** ./pgadmin/static/js/Explain/Analysis.jsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Analysis)\n/* harmony export */ });\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_icons_material_ArrowRightAlt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/ArrowRightAlt */ \"./node_modules/@mui/icons-material/esm/ArrowRightAlt.js\");\n/* harmony import */ var _mui_icons_material_FiberManualRecord__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/FiberManualRecord */ \"./node_modules/@mui/icons-material/esm/FiberManualRecord.js\");\n/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-react-parser */ \"./node_modules/html-react-parser/esm/index.mjs\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_Table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Table */ \"./pgadmin/static/js/components/Table.jsx\");\n\n\n\n\n\n\n\n\n\nconst StyledTable = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_components_Table__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .Analysis-collapsible': {\n      cursor: 'pointer'\n    },\n    '& .Analysis-collapseParent': {\n      borderBottom: '2px dashed ' + theme.palette.primary.main\n    },\n    '& .Analysis-textRight': {\n      textAlign: 'right'\n    },\n    '& .Analysis-level2': {\n      backgroundColor: theme.otherVars.explain.sev2.bg,\n      color: theme.otherVars.explain.sev2.color\n    },\n    '& .Analysis-level3': {\n      backgroundColor: theme.otherVars.explain.sev3.bg,\n      color: theme.otherVars.explain.sev3.color\n    },\n    '& .Analysis-level4': {\n      backgroundColor: theme.otherVars.explain.sev4.bg,\n      color: theme.otherVars.explain.sev4.color\n    },\n    '& .Analysis-header': {\n      border: 'none',\n      background: 'none',\n      color: theme.palette.text.primary\n    }\n  };\n});\nfunction getRowClassname(data, collapseParent) {\n  let className = [];\n  if (data['Plans']?.length > 0) {\n    className.push('Analysis-collapsible');\n  }\n  if (collapseParent) {\n    className.push('Analysis-collapseParent');\n  }\n  return className;\n}\nfunction NodeText(_ref2) {\n  let {\n    displayText,\n    extraInfo\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_ArrowRightAlt__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    fontSize: \"small\",\n    style: {\n      marginLeft: '-24px'\n    }\n  }), \" \", displayText, extraInfo?.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", {\n    style: {\n      fontSize: '13px'\n    }\n  }, extraInfo.map((item, i) => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", {\n      key: i,\n      style: {\n        opacity: '0.8'\n      }\n    }, (0,html_react_parser__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(item));\n  })));\n}\nNodeText.propTypes = {\n  displayText: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n  extraInfo: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array)\n};\nfunction ExplainRow(_ref3) {\n  let {\n    row,\n    show,\n    activeExId,\n    setActiveExId,\n    collapsedExId,\n    toggleCollapseExId\n  } = _ref3;\n  let data = row['data'];\n  const exId = `pga_ex_${data['level'].join('_')}`;\n  const parentExId = `pga_ex_${data['parent_node']}`;\n  const collapsed = collapsedExId.findIndex(v => parentExId.startsWith(v)) > -1;\n  const className = getRowClassname(data, collapsedExId.indexOf(exId) > -1);\n  let onRowClick = e => {\n    toggleCollapseExId(e.currentTarget.getAttribute('data-ex-id'), data['Plans']?.length);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n    onMouseEnter: e => {\n      setActiveExId(e.currentTarget.getAttribute('data-ex-id'));\n    },\n    onMouseLeave: () => {\n      setActiveExId(null);\n    },\n    className: className,\n    \"data-parent\": parentExId,\n    \"data-ex-id\": `pga_ex_${data['level'].join('_')}`,\n    style: collapsed ? {\n      display: 'none'\n    } : {},\n    onClick: onRowClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_FiberManualRecord__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    fontSize: \"small\",\n    style: {\n      visibility: activeExId == parentExId ? 'visible' : 'hidden'\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: \"Analysis-textRight\"\n  }, data['_serial'], \".\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    style: {\n      paddingLeft: data['level'].length * 30 + 'px'\n    },\n    title: row['tooltip_text']\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NodeText, {\n    displayText: row['display_text'],\n    extraInfo: row['node_extra_info']\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: 'Analysis-textRight ' + 'Analysis-' + ['level' + data['exclusive_flag']],\n    style: show.show_timings ? {} : {\n      display: 'none'\n    }\n  }, data['exclusive'] && data['exclusive'] + ' ms'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: 'Analysis-textRight ' + 'Analysis-' + ['level' + data['inclusive_flag']],\n    style: show.show_timings ? {} : {\n      display: 'none'\n    }\n  }, data['inclusive'] && data['inclusive'] + ' ms'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: 'Analysis-textRight ' + 'Analysis-' + ['level' + data['rowsx_flag']],\n    style: show.show_rowsx ? {} : {\n      display: 'none'\n    }\n  }, !lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(data['rowsx_flag']) && (data['rowsx_direction'] == 'positive' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, \"\\u2191\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, \"\\u2193\")), \"\\xA0\", data['rowsx']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: \"Analysis-textRight\",\n    style: show.show_rowsx || show.show_rows ? {} : {\n      display: 'none'\n    }\n  }, data['Actual Rows']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: \"Analysis-textRight\",\n    style: show.show_rowsx || show.show_plan_rows ? {} : {\n      display: 'none'\n    }\n  }, data['Plan Rows']), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n    className: \"Analysis-textRight\",\n    style: show.show_rowsx || show.show_rows ? {} : {\n      display: 'none'\n    }\n  }, data['Actual Loops']));\n}\nExplainRow.propTypes = {\n  row: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n    data: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n      Plans: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n      level: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n      _serial: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n      parent_node: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n      exclusive: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n      exclusive_flag: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n      inclusive: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n      inclusive_flag: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n      rowsx_direction: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n      rowsx: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n      rowsx_flag: prop_types__WEBPACK_IMPORTED_MODULE_7___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_7___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string)]),\n      'Actual Rows': (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n      'Plan Rows': (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number),\n      'Actual Loops': (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number)\n    }),\n    node_extra_info: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n    display_text: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n    tooltip_text: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string)\n  }),\n  show: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n    show_timings: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    show_rowsx: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    show_rows: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    show_plan_rows: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool)\n  }),\n  activeExId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().string),\n  setActiveExId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n  collapsedExId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().array),\n  toggleCollapseExId: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n};\nfunction Analysis(_ref4) {\n  let {\n    explainTable\n  } = _ref4;\n  const [activeExId, setActiveExId] = react__WEBPACK_IMPORTED_MODULE_0___default().useState();\n  const [collapsedExId, setCollapsedExId] = react__WEBPACK_IMPORTED_MODULE_0___default().useState([]);\n  const toggleCollapseExId = function (exId) {\n    let hasPlans = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (hasPlans) {\n      setCollapsedExId(prev => {\n        if (prev.indexOf(exId) > -1) {\n          return prev.filter(v => v != exId);\n        }\n        return [...prev, exId];\n      });\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StyledTable, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    rowSpan: \"2\",\n    style: {\n      width: '30px'\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    rowSpan: \"2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, \"#\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    rowSpan: \"2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, \"Node\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    colSpan: \"2\",\n    style: explainTable.show_timings ? {} : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Timings'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_rowsx || explainTable.show_rows || explainTable.show_plan_rows ? {} : {\n      display: 'none'\n    },\n    colSpan: explainTable.show_rowsx ? '3' : '1'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Rows'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_rowsx || explainTable.show_rows ? {} : {\n      display: 'none'\n    },\n    rowSpan: \"2\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Loops')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_timings ? {} : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Exclusive'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_timings ? {} : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Inclusive'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_rowsx ? {} : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Rows X'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_rowsx || explainTable.show_rows ? {} : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Actual'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", {\n    style: explainTable.show_rowsx || explainTable.show_plan_rows ? {} : {\n      display: 'none'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"Analysis-header\",\n    disabled: \"\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Plan'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, lodash__WEBPACK_IMPORTED_MODULE_1___default().sortBy(explainTable.rows, r => r['data']['_serial']).map(row => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ExplainRow, {\n      key: row?.data?.arr_id,\n      row: row,\n      show: {\n        show_timings: explainTable.show_timings,\n        show_rowsx: explainTable.show_rowsx,\n        show_rows: explainTable.show_rows,\n        show_plan_rows: explainTable.show_plan_rows\n      },\n      activeExId: activeExId,\n      setActiveExId: setActiveExId,\n      collapsedExId: collapsedExId,\n      toggleCollapseExId: toggleCollapseExId\n    });\n  })));\n}\nAnalysis.propTypes = {\n  explainTable: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().object)\n};\n\n//# sourceURL=webpack:///./pgadmin/static/js/Explain/Analysis.jsx?");

/***/ }),

/***/ "./pgadmin/static/js/Explain/ExplainStatistics.jsx":
/*!*********************************************************!*\
  !*** ./pgadmin/static/js/Explain/ExplainStatistics.jsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ExplainStatistics)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Grid/Grid.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _components_Table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Table */ \"./pgadmin/static/js/components/Table.jsx\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .ExplainStatistics-title': {\n      fontWeight: 'bold',\n      padding: '4px',\n      backgroundColor: theme.otherVars.cardHeaderBg,\n      borderTopLeftRadius: theme.shape.borderRadius,\n      borderTopRightRadius: theme.shape.borderRadius\n    },\n    '& .ExplainStatistics-tableRow': {\n      backgroundColor: theme.palette.grey[200],\n      '& .ExplainStatistics-tableName': {\n        fontWeight: 'bold',\n        '& .ExplainStatistics-nodeName': {\n          paddingLeft: '30px'\n        }\n      }\n    }\n  };\n});\nfunction ExplainStatistics(_ref2) {\n  let {\n    explainTable\n  } = _ref2;\n  // _renderStatisticsTable\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StyledBox, {\n    p: 1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    container: true,\n    spacing: 1\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    item: true,\n    lg: 6,\n    md: 12\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"ExplainStatistics-title\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Statistics per Node Type')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Table__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Node type')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Count')), explainTable.show_timings && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Time spent')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, '% ' + sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('of query'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, lodash__WEBPACK_IMPORTED_MODULE_2___default().sortBy(Object.keys(explainTable.statistics.nodes)).map((key, i) => {\n    let node = explainTable.statistics.nodes[key];\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n      key: i\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, node.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, node.count), explainTable.show_timings && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, Math.ceil10(node.sum_of_times, -3) + ' ms'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, Math.ceil10((node.sum_of_times || 0) / (explainTable.total_time || 1) * 100, -2) + '%')));\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    item: true,\n    lg: 6,\n    md: 12\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"ExplainStatistics-title\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Statistics per Relation')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_Table__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Relation name')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Scan count')), explainTable.show_timings && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Total time')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, '% ' + sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('of query')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Node type')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Count')), explainTable.show_timings && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('Sum of times')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, '% ' + sources_gettext__WEBPACK_IMPORTED_MODULE_1___default()('of relation'))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, lodash__WEBPACK_IMPORTED_MODULE_2___default().sortBy(Object.keys(explainTable.statistics.tables)).map((key, i) => {\n    let table = explainTable.statistics.tables[key];\n    table.sum_of_times = lodash__WEBPACK_IMPORTED_MODULE_2___default().sumBy(Object.values(table.nodes), 'sum_of_times');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {\n      key: i\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n      className: \"ExplainStatistics-tableRow\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n      className: \"ExplainStatistics-tableName\"\n    }, table.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, table.count), explainTable.show_timings && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, Math.ceil10(table.sum_of_times, -3) + ' ms'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, Math.ceil10((table.sum_of_times || 0) / (explainTable.total_time || 1) * 100, -2) + '%'))), lodash__WEBPACK_IMPORTED_MODULE_2___default().sortBy(Object.keys(table.nodes)).map((nodeKey, j) => {\n      let node = table.nodes[nodeKey];\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n        key: j\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: \"ExplainStatistics-nodeName\"\n      }, node.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, node.count), explainTable.show_timings && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, Math.ceil10(node.sum_of_times, -3) + ' ms'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", null, Math.ceil10((node.sum_of_times || 0) / (table.sum_of_times || 1) * 100, -2) + '%')));\n    }));\n  }))))));\n}\nExplainStatistics.propTypes = {\n  explainTable: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n    show_timings: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),\n    statistics: prop_types__WEBPACK_IMPORTED_MODULE_7___default().shape({\n      nodes: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().object),\n      tables: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().object)\n    }),\n    total_time: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number)\n  })\n};\n\n//# sourceURL=webpack:///./pgadmin/static/js/Explain/ExplainStatistics.jsx?");

/***/ }),

/***/ "./pgadmin/static/js/Explain/Graphical.jsx":
/*!*************************************************!*\
  !*** ./pgadmin/static/js/Explain/Graphical.jsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Graphical)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/styles/useTheme.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Card/Card.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/CardHeader/CardHeader.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/CardContent/CardContent.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_Buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_ZoomIn__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/ZoomIn */ \"./node_modules/@mui/icons-material/esm/ZoomIn.js\");\n/* harmony import */ var _mui_icons_material_ZoomOut__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/icons-material/ZoomOut */ \"./node_modules/@mui/icons-material/esm/ZoomOut.js\");\n/* harmony import */ var _mui_icons_material_ZoomOutMap__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/icons-material/ZoomOutMap */ \"./node_modules/@mui/icons-material/esm/ZoomOutMap.js\");\n/* harmony import */ var _mui_icons_material_SaveAlt__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/icons-material/SaveAlt */ \"./node_modules/@mui/icons-material/esm/SaveAlt.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dom/server */ \"./node_modules/react-dom/server.browser.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _svg_download__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./svg_download */ \"./pgadmin/static/js/Explain/svg_download.js\");\n/* harmony import */ var _mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/CloseRounded */ \"./node_modules/@mui/icons-material/esm/CloseRounded.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _components_Table__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/Table */ \"./pgadmin/static/js/components/Table.jsx\");\n\n\nconst _excluded = [\"plan\", \"pXpos\", \"pYpos\"],\n  _excluded2 = [\"planData\", \"zoomFactor\", \"fitZoomFactor\"];\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .Graphical-explainDetails': {\n      minWidth: '200px',\n      maxWidth: '300px',\n      position: 'absolute',\n      top: '0.25rem',\n      bottom: '0.25rem',\n      right: '0.25rem',\n      borderColor: theme.otherVars.borderColor,\n      // box-shadow: 0 0.125rem 0.5rem rgb(132 142 160 / 28%);\n      wordBreak: 'break-all',\n      display: 'flex',\n      flexDirection: 'column',\n      zIndex: 99,\n      '& .Graphical-explainContent': {\n        height: '100%',\n        overflow: 'auto',\n        '& .Graphical-tableBorderBottom': {\n          '& tbody tr:last-of-type td': {\n            borderBottom: '1px solid ' + theme.otherVars.borderColor\n          }\n        },\n        '& .Graphical-tablewrapTd': {\n          '& tbody td': {\n            whiteSpace: 'pre-wrap'\n          }\n        }\n      }\n    }\n  };\n});\n\n// Some predefined constants used to calculate image location and its border\nlet pWIDTH = 100;\nlet pHEIGHT = 100;\nlet IMAGE_WIDTH = 50;\nlet IMAGE_HEIGHT = 50;\nlet ARROW_WIDTH = 10,\n  ARROW_HEIGHT = 10;\nlet TXT_ALIGN = 5,\n  TXT_SIZE = '15px';\nlet xMargin = 25,\n  yMargin = 25;\nlet MIN_ZOOM_FACTOR = 0.3,\n  MAX_ZOOM_FACTOR = 2,\n  INIT_ZOOM_FACTOR = 1;\nlet ZOOM_RATIO = 0.05;\nconst AUXILIARY_KEYS = ['image', 'Plans', 'level', 'image_text', 'xpos', 'ypos', 'width', 'height', 'total_time', 'parent_node', '_serial', 'arr_id'];\nfunction PolyLine(_ref2) {\n  let {\n    startx,\n    starty,\n    endx,\n    endy,\n    opts,\n    arrowOpts\n  } = _ref2;\n  // Calculate end point of first starting straight line (startx1, starty1)\n  // Calculate start point of 2nd straight line (endx1, endy1)\n  let midX1 = startx + (endx - startx) / 3,\n    midX2 = startx + 2 * ((endx - startx) / 3);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"line\", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    x1: startx,\n    x2: midX1,\n    y1: starty,\n    y2: starty\n  }, opts)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"line\", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    x1: midX1 - 1,\n    x2: midX2,\n    y1: starty,\n    y2: endy\n  }, opts)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"line\", (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    x1: midX2,\n    x2: endx,\n    y1: endy,\n    y2: endy\n  }, opts, arrowOpts)));\n}\nPolyLine.propTypes = {\n  startx: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  starty: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  endx: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  endy: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  opts: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  arrowOpts: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object)\n};\nfunction Multitext(_ref3) {\n  let {\n    currentXpos,\n    currentYpos,\n    label,\n    maxWidth\n  } = _ref3;\n  const theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n  let abc = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  let xmlns = 'http://www.w3.org/2000/svg';\n  let svgElem = document.createElementNS(xmlns, 'svg');\n  svgElem.setAttributeNS(xmlns, 'height', '100%');\n  svgElem.setAttributeNS(xmlns, 'width', '100%');\n  let text = document.createElementNS(xmlns, 'text');\n  text.innerHTML = abc;\n  text.setAttributeNS(xmlns, 'x', 0);\n  text.setAttributeNS(xmlns, 'y', 0);\n  let attributes = {\n    'font-size': TXT_SIZE,\n    'text-anchor': 'middle',\n    'fill': theme.palette.text.primary\n  };\n  Object.keys(attributes).forEach(key => {\n    text.setAttributeNS(xmlns, key, attributes[key]);\n  });\n  svgElem.appendChild(text);\n  document.body.appendChild(svgElem);\n  /*\r\n  * Find letter width in pixels and\r\n  * index from where the text should be broken\r\n  */\n  let letterWidth = text.getBBox().width / abc.length,\n    wordBreakIndex = Math.round(maxWidth / letterWidth) - 1;\n  svgElem.remove();\n  let words = label?.split(' ') ?? '',\n    widthSoFar = 0,\n    lines = [],\n    currLine = '',\n    /*\r\n    * Function to divide string into multiple lines\r\n    * and store them in an array if it size crosses\r\n    * the max-width boundary.\r\n    */\n    splitTextInMultiLine = function (leading, so_far, line) {\n      let l = line.length,\n        res = [];\n      if (l == 0) return res;\n      if (so_far && so_far + l * letterWidth > maxWidth) {\n        res.push(leading);\n        res = res.concat(splitTextInMultiLine('', 0, line));\n      } else if (so_far) {\n        res.push(leading + ' ' + line);\n      } else {\n        if (leading) res.push(leading);\n        if (line.length > wordBreakIndex + 1) res.push(line.slice(0, wordBreakIndex) + '-');else res.push(line);\n        res = res.concat(splitTextInMultiLine('', 0, line.slice(wordBreakIndex)));\n      }\n      return res;\n    };\n  for (const word of words) {\n    let tmpArr = splitTextInMultiLine(currLine, widthSoFar, word);\n    if (currLine) {\n      lines = lines.slice(0, lines.length - 1);\n    }\n    lines = lines.concat(tmpArr);\n    currLine = lines[lines.length - 1];\n    widthSoFar = currLine.length * letterWidth;\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"text\", {\n    x: currentXpos,\n    y: currentYpos,\n    fill: theme.palette.text.primary,\n    style: {\n      fontSize: TXT_SIZE,\n      textAnchor: 'middle'\n    }\n  }, lines.map((line, i) => {\n    if (i > 0) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"tspan\", {\n        key: i,\n        dy: \"1.2em\",\n        x: currentXpos\n      }, line);\n    }\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"tspan\", {\n      key: i\n    }, line);\n  }));\n}\nMultitext.propTypes = {\n  currentXpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  currentYpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  label: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().string),\n  maxWidth: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number)\n};\nfunction Image(_ref4) {\n  let {\n    plan,\n    label,\n    currentXpos,\n    currentYpos,\n    content,\n    download,\n    onNodeClick\n  } = _ref4;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"image\", {\n    href: content,\n    preserveAspectRatio: \"none\",\n    x: currentXpos + (pWIDTH - IMAGE_WIDTH) / 2,\n    y: currentYpos + (pHEIGHT - IMAGE_HEIGHT) / 2,\n    width: IMAGE_WIDTH,\n    height: IMAGE_HEIGHT,\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: onNodeClick\n  }, download && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"title\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(NodeDetails, {\n    plan: plan,\n    download: true\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Multitext, {\n    currentXpos: currentXpos + pWIDTH / 2 + TXT_ALIGN,\n    currentYpos: currentYpos + pHEIGHT - TXT_ALIGN,\n    label: label,\n    maxWidth: 150\n  }));\n}\nImage.propTypes = {\n  plan: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  label: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().string),\n  currentXpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  currentYpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  content: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().string),\n  download: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool),\n  onNodeClick: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().func)\n};\nfunction NodeDetails(_ref5) {\n  let {\n    plan,\n    download = false\n  } = _ref5;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, Object.keys(plan).map(key => {\n    if (AUXILIARY_KEYS.indexOf(key) != -1) {\n      return null;\n    }\n    let value = plan[key];\n    if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isArray(value)) {\n      value = value.map(v => {\n        if (typeof v == 'object') {\n          return JSON.stringify(v, null, 2);\n        }\n        return v;\n      });\n    }\n    if (download) {\n      return `${key}: ${value}\\n`;\n    } else {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"tr\", {\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"td\", null, key), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"td\", null, `${value !== undefined ? value : ''}`));\n    }\n  }));\n}\nNodeDetails.propTypes = {\n  plan: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  download: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool)\n};\nfunction PlanContent(_ref6) {\n  let {\n      plan,\n      pXpos,\n      pYpos\n    } = _ref6,\n    props = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref6, _excluded);\n  const theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n  let currentXpos = props.xpos + plan.xpos,\n    currentYpos = props.ypos + plan.ypos,\n    isSubPlan = plan['Parent Relationship'] === 'SubPlan';\n  const nodeLabel = plan.Schema == undefined ? plan.image_text : plan.Schema + '.' + plan.image_text;\n  let polylineProps = null;\n  if (!lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(pYpos)) {\n    let arrowSize = props.ctx.arrows[plan['arr_id']];\n    polylineProps = {\n      startx: currentXpos + pWIDTH,\n      starty: currentYpos + pHEIGHT / 2,\n      endx: pXpos - ARROW_WIDTH,\n      endy: pYpos + pHEIGHT / 2,\n      arr_id: plan['arr_id']\n    };\n    polylineProps.opts = {\n      stroke: theme.palette.text.primary,\n      strokeWidth: arrowSize + 2\n    };\n    polylineProps.arrowOpts = {\n      style: {\n        markerEnd: `url(\"#${plan['arr_id']}\")`\n      }\n    };\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", null, isSubPlan && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"rect\", {\n    x: currentXpos - plan.width + pWIDTH + xMargin,\n    y: currentYpos - plan.height + pHEIGHT + yMargin - TXT_ALIGN,\n    width: plan.width - xMargin,\n    height: plan.height + (currentYpos - yMargin),\n    rx: 5,\n    stroke: \"#444444\",\n    strokeWidth: 1.2,\n    fill: \"gray\",\n    fillOpacity: 0.2,\n    pointerEvents: \"none\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"tspan\", {\n    x: currentXpos + pWIDTH - plan.width / 2 - xMargin,\n    y: currentYpos + pHEIGHT - plan.height / 2 - yMargin,\n    fontSize: TXT_SIZE,\n    textAnchor: \"start\",\n    fill: \"red\"\n  }, plan['Subplan Name'])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(Image, {\n    label: nodeLabel,\n    content: sources_url_for__WEBPACK_IMPORTED_MODULE_7___default()('misc.index') + 'static/explain/img/' + plan.image,\n    currentXpos: currentXpos,\n    currentYpos: currentYpos,\n    plan: plan,\n    download: props.download,\n    onNodeClick: () => props.onNodeClick(nodeLabel, plan)\n  }), polylineProps && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(PolyLine, polylineProps)), plan['Plans'].map((p, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(PlanContent, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    key: i,\n    plan: p,\n    pXpos: currentXpos,\n    pYpos: currentYpos\n  }, props))));\n}\nPlanContent.propTypes = {\n  plan: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  pXpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  pYpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  xpos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  ypos: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  ctx: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  download: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool),\n  onNodeClick: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().func)\n};\nfunction PlanSVG(_ref7) {\n  let {\n      planData,\n      zoomFactor,\n      fitZoomFactor\n    } = _ref7,\n    props = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref7, _excluded2);\n  const theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    fitZoomFactor?.(planData.width);\n  }, [planData.width]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"svg\", {\n    height: planData.height * zoomFactor,\n    width: planData.width * zoomFactor,\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"defs\", null, Object.keys(props.ctx.arrows).map((arr_id, i) => {\n    let arrowPoints = [0, 0, 0, ARROW_WIDTH / 2, ARROW_HEIGHT, ARROW_WIDTH / 4, 0, 0].join(',');\n    let viewBox = [0, 0, 2 * ARROW_WIDTH, 2 * ARROW_HEIGHT].join(' ');\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"marker\", {\n      key: i,\n      viewBox: viewBox,\n      markerWidth: ARROW_WIDTH,\n      markerHeight: ARROW_HEIGHT,\n      orient: \"auto\",\n      refX: \"0\",\n      refY: ARROW_WIDTH / 4,\n      id: arr_id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"polygon\", {\n      points: arrowPoints,\n      fill: theme.palette.text.primary\n    }));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"g\", {\n    transform: `matrix(${zoomFactor},0,0,${zoomFactor},0,0)`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    width: planData.width,\n    height: planData.height,\n    rx: \"5\",\n    ry: \"5\",\n    fill: theme.palette.background.default\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(PlanContent, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    plan: planData['Plan'],\n    xpos: planData.width - xMargin,\n    ypos: yMargin\n  }, props))));\n}\nPlanSVG.propTypes = {\n  planData: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  zoomFactor: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().number),\n  fitZoomFactor: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().func),\n  ctx: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object)\n};\nfunction Graphical(_ref8) {\n  let {\n    planData,\n    ctx\n  } = _ref8;\n  const graphContainerRef = react__WEBPACK_IMPORTED_MODULE_2___default().useRef();\n  const [zoomFactor, setZoomFactor] = react__WEBPACK_IMPORTED_MODULE_2___default().useState(INIT_ZOOM_FACTOR);\n  const [[explainPlanTitle, explainPlanDetails], setExplainPlanDetails] = react__WEBPACK_IMPORTED_MODULE_2___default().useState([null, null]);\n  const onCmdClick = cmd => {\n    if (cmd == 'in') {\n      setZoomFactor(prev => {\n        if (prev >= MAX_ZOOM_FACTOR) return prev;\n        return prev + ZOOM_RATIO;\n      });\n    } else if (cmd == 'out') {\n      setZoomFactor(prev => {\n        if (prev <= MIN_ZOOM_FACTOR) return prev;\n        return prev - ZOOM_RATIO;\n      });\n    } else {\n      setZoomFactor(INIT_ZOOM_FACTOR);\n    }\n  };\n  const fitZoomFactor = react__WEBPACK_IMPORTED_MODULE_2___default().useCallback(svgWidth => {\n    /*\r\n    * Scale graph in case its width is bigger than panel width\r\n    * in which the graph is displayed\r\n    */\n    if (graphContainerRef.current.offsetWidth && svgWidth) {\n      let zoomFactor = graphContainerRef.current.offsetWidth / svgWidth;\n      zoomFactor = zoomFactor < MIN_ZOOM_FACTOR ? MIN_ZOOM_FACTOR : zoomFactor;\n      zoomFactor = zoomFactor > INIT_ZOOM_FACTOR ? INIT_ZOOM_FACTOR : zoomFactor;\n      setZoomFactor(zoomFactor);\n    }\n  }, []);\n  const onDownloadClick = () => {\n    (0,_svg_download__WEBPACK_IMPORTED_MODULE_8__.downloadSvg)(react_dom_server__WEBPACK_IMPORTED_MODULE_6__.renderToStaticMarkup(/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(PlanSVG, {\n      planData: planData,\n      download: true,\n      ctx: ctx,\n      zoomFactor: INIT_ZOOM_FACTOR,\n      onNodeClick: () => {/*This is intentional (SonarQube)*/}\n    })), 'explain_plan_' + new Date().getTime() + '.svg');\n  };\n  const onNodeClick = react__WEBPACK_IMPORTED_MODULE_2___default().useCallback((title, details) => {\n    setExplainPlanDetails([title, details]);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setExplainPlanDetails([null, null]);\n  }, [planData]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(StyledBox, {\n    ref: graphContainerRef,\n    height: \"100%\",\n    width: \"100%\",\n    overflow: \"auto\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    position: \"absolute\",\n    top: \"4px\",\n    left: \"4px\",\n    gap: \"4px\",\n    display: \"flex\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Zoom in'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_ZoomIn__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null),\n    onClick: () => onCmdClick('in')\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Zoom to original'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_ZoomOutMap__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null),\n    onClick: () => onCmdClick()\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Zoom out'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_ZoomOut__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null),\n    onClick: () => onCmdClick('out')\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Download'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_SaveAlt__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null),\n    onClick: onDownloadClick\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(PlanSVG, {\n    planData: planData,\n    ctx: ctx,\n    zoomFactor: zoomFactor,\n    fitZoomFactor: fitZoomFactor,\n    onNodeClick: onNodeClick\n  }), Boolean(explainPlanDetails) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n    className: \"Graphical-explainDetails\",\n    \"data-label\": \"explain-details\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n    title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      display: \"flex\"\n    }, explainPlanTitle, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n      marginLeft: \"auto\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PgIconButton, {\n      title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Close'),\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_20__[\"default\"], null),\n      size: \"xs\",\n      noBorder: true,\n      onClick: () => setExplainPlanDetails([null, null])\n    })))\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n    className: \"Graphical-explainContent\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_components_Table__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    classNameRoot: 'Graphical-tableBorderBottom Graphical-tablewrapTd'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"tbody\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(NodeDetails, {\n    download: false,\n    plan: explainPlanDetails\n  }))))));\n}\nGraphical.propTypes = {\n  planData: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object),\n  ctx: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object)\n};\n\n//# sourceURL=webpack:///./pgadmin/static/js/Explain/Graphical.jsx?");

/***/ }),

/***/ "./pgadmin/static/js/Explain/ImageMapper.js":
/*!**************************************************!*\
  !*** ./pgadmin/static/js/Explain/ImageMapper.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n/*\r\n * A map which is used to fetch the image to be drawn and\r\n * text which will appear below it\r\n */\n\nconst ImageMapper = {\n  'Aggregate': {\n    'image': 'ex_aggregate.svg',\n    'image_text': 'Aggregate'\n  },\n  'Append': {\n    'image': 'ex_append.svg',\n    'image_text': 'Append'\n  },\n  'Bitmap Index Scan': function (data) {\n    return {\n      'image': 'ex_bmp_index.svg',\n      'image_text': data['Index Name']\n    };\n  },\n  'Bitmap Heap Scan': function (data) {\n    return {\n      'image': 'ex_bmp_heap.svg',\n      'image_text': data['Relation Name']\n    };\n  },\n  'BitmapAnd': {\n    'image': 'ex_bmp_and.svg',\n    'image_text': 'Bitmap AND'\n  },\n  'BitmapOr': {\n    'image': 'ex_bmp_or.svg',\n    'image_text': 'Bitmap OR'\n  },\n  'CTE Scan': {\n    'image': 'ex_cte_scan.svg',\n    'image_text': 'CTE Scan'\n  },\n  'Function Scan': {\n    'image': 'ex_result.svg',\n    'image_text': 'Function Scan'\n  },\n  'Foreign Scan': {\n    'image': 'ex_foreign_scan.svg',\n    'image_text': 'Foreign Scan'\n  },\n  'Gather': {\n    'image': 'ex_gather_motion.svg',\n    'image_text': 'Gather'\n  },\n  'Gather Merge': {\n    'image': 'ex_gather_merge.svg',\n    'image_text': 'Gather Merge'\n  },\n  'Group': {\n    'image': 'ex_group.svg',\n    'image_text': 'Group'\n  },\n  'GroupAggregate': {\n    'image': 'ex_aggregate.svg',\n    'image_text': 'Group Aggregate'\n  },\n  'Hash': {\n    'image': 'ex_hash.svg',\n    'image_text': 'Hash'\n  },\n  'Hash Join': function (data) {\n    if (!data['Join Type']) return {\n      'image': 'ex_join.svg',\n      'image_text': 'Join'\n    };\n    switch (data['Join Type']) {\n      case 'Anti':\n        return {\n          'image': 'ex_hash_anti_join.svg',\n          'image_text': 'Hash Anti Join'\n        };\n      case 'Semi':\n        return {\n          'image': 'ex_hash_semi_join.svg',\n          'image_text': 'Hash Semi Join'\n        };\n      default:\n        return {\n          'image': 'ex_hash.svg',\n          'image_text': String('Hash ' + data['Join Type'] + ' Join')\n        };\n    }\n  },\n  'HashAggregate': {\n    'image': 'ex_aggregate.svg',\n    'image_text': 'Hash Aggregate'\n  },\n  'Index Only Scan': function (data) {\n    return {\n      'image': 'ex_index_only_scan.svg',\n      'image_text': data['Index Name']\n    };\n  },\n  'Index Scan': function (data) {\n    return {\n      'image': 'ex_index_scan.svg',\n      'image_text': data['Index Name']\n    };\n  },\n  'Index Scan Backword': {\n    'image': 'ex_index_scan.svg',\n    'image_text': 'Index Backward Scan'\n  },\n  'Limit': {\n    'image': 'ex_limit.svg',\n    'image_text': 'Limit'\n  },\n  'LockRows': {\n    'image': 'ex_lock_rows.svg',\n    'image_text': 'Lock Rows'\n  },\n  'Materialize': {\n    'image': 'ex_materialize.svg',\n    'image_text': 'Materialize'\n  },\n  'Merge Append': {\n    'image': 'ex_merge_append.svg',\n    'image_text': 'Merge Append'\n  },\n  'Merge Join': function (data) {\n    switch (data['Join Type']) {\n      case 'Anti':\n        return {\n          'image': 'ex_merge_anti_join.svg',\n          'image_text': 'Merge Anti Join'\n        };\n      case 'Semi':\n        return {\n          'image': 'ex_merge_semi_join.svg',\n          'image_text': 'Merge Semi Join'\n        };\n      default:\n        return {\n          'image': 'ex_merge.svg',\n          'image_text': String('Merge ' + data['Join Type'] + ' Join')\n        };\n    }\n  },\n  'ModifyTable': function (data) {\n    switch (data['Operation']) {\n      case 'Insert':\n        return {\n          'image': 'ex_insert.svg',\n          'image_text': 'Insert'\n        };\n      case 'Update':\n        return {\n          'image': 'ex_update.svg',\n          'image_text': 'Update'\n        };\n      case 'Delete':\n        return {\n          'image': 'ex_delete.svg',\n          'image_text': 'Delete'\n        };\n      case 'Merge':\n        return {\n          'image': 'ex_merge.svg',\n          'image_text': 'Merge'\n        };\n    }\n  },\n  'Named Tuplestore Scan': {\n    'image': 'ex_named_tuplestore_scan.svg',\n    'image_text': 'Named Tuplestore Scan'\n  },\n  'Nested Loop': function (data) {\n    switch (data['Join Type']) {\n      case 'Anti':\n        return {\n          'image': 'ex_nested_loop_anti_join.svg',\n          'image_text': 'Nested Loop Anti Join'\n        };\n      case 'Semi':\n        return {\n          'image': 'ex_nested_loop_semi_join.svg',\n          'image_text': 'Nested Loop Semi Join'\n        };\n      default:\n        return {\n          'image': 'ex_nested.svg',\n          'image_text': 'Nested Loop ' + data['Join Type'] + ' Join'\n        };\n    }\n  },\n  'ProjectSet': {\n    'image': 'ex_projectset.svg',\n    'image_text': 'ProjectSet'\n  },\n  'Recursive Union': {\n    'image': 'ex_recursive_union.svg',\n    'image_text': 'Recursive Union'\n  },\n  'Result': {\n    'image': 'ex_result.svg',\n    'image_text': 'Result'\n  },\n  'Sample Scan': {\n    'image': 'ex_scan.svg',\n    'image_text': 'Sample Scan'\n  },\n  'Scan': {\n    'image': 'ex_scan.svg',\n    'image_text': 'Scan'\n  },\n  'Seek': {\n    'image': 'ex_seek.svg',\n    'image_text': 'Seek'\n  },\n  'SetOp': function (data) {\n    let strategy = data['Strategy'],\n      command = data['Command'];\n    if (strategy == 'Hashed') {\n      if (command.startsWith('Intersect')) {\n        if (command == 'Intersect All') return {\n          'image': 'ex_hash_setop_intersect_all.svg',\n          'image_text': 'Hashed Intersect All'\n        };\n        return {\n          'image': 'ex_hash_setop_intersect.svg',\n          'image_text': 'Hashed Intersect'\n        };\n      } else if (command.startsWith('Except')) {\n        if (command == 'Except All') return {\n          'image': 'ex_hash_setop_except_all.svg',\n          'image_text': 'Hashed Except All'\n        };\n        return {\n          'image': 'ex_hash_setop_except.svg',\n          'image_text': 'Hash Except'\n        };\n      }\n      return {\n        'image': 'ex_hash_setop_unknown.svg',\n        'image_text': 'Hashed SetOp Unknown'\n      };\n    }\n    return {\n      'image': 'ex_setop.svg',\n      'image_text': 'SetOp'\n    };\n  },\n  'Seq Scan': function (data) {\n    return {\n      'image': 'ex_scan.svg',\n      'image_text': data['Relation Name']\n    };\n  },\n  'Subquery Scan': {\n    'image': 'ex_subplan.svg',\n    'image_text': 'SubQuery Scan'\n  },\n  'Sort': {\n    'image': 'ex_sort.svg',\n    'image_text': 'Sort'\n  },\n  'Tid Scan': {\n    'image': 'ex_tid_scan.svg',\n    'image_text': 'Tid Scan'\n  },\n  'Table Function Scan': {\n    'image': 'ex_table_func_scan.svg',\n    'image_text': 'Table Function Scan'\n  },\n  'Unique': {\n    'image': 'ex_unique.svg',\n    'image_text': 'Unique'\n  },\n  'Values Scan': {\n    'image': 'ex_values_scan.svg',\n    'image_text': 'Values Scan'\n  },\n  'WindowAgg': {\n    'image': 'ex_window_aggregate.svg',\n    'image_text': 'Window Aggregate'\n  },\n  'WorkTable Scan': {\n    'image': 'ex_worktable_scan.svg',\n    'image_text': 'WorkTable Scan'\n  },\n  'Undefined': {\n    'image': 'ex_unknown.svg',\n    'image_text': 'Undefined'\n  }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ImageMapper);\n\n//# sourceURL=webpack:///./pgadmin/static/js/Explain/ImageMapper.js?");

/***/ }),

/***/ "./pgadmin/static/js/Explain/index.jsx":
/*!*********************************************!*\
  !*** ./pgadmin/static/js/Explain/index.jsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Explain)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Tabs/Tabs.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Tab/Tab.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Graphical__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Graphical */ \"./pgadmin/static/js/Explain/Graphical.jsx\");\n/* harmony import */ var _components_TabPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TabPanel */ \"./pgadmin/static/js/components/TabPanel.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _ImageMapper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ImageMapper */ \"./pgadmin/static/js/Explain/ImageMapper.js\");\n/* harmony import */ var _Analysis__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Analysis */ \"./pgadmin/static/js/Explain/Analysis.jsx\");\n/* harmony import */ var _ExplainStatistics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ExplainStatistics */ \"./pgadmin/static/js/Explain/ExplainStatistics.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/EmptyPanelMessage */ \"./pgadmin/static/js/components/EmptyPanelMessage.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .Explain-tabPanel': {\n      padding: '0 !important',\n      backgroundColor: theme.palette.background.default + ' !important'\n    }\n  };\n});\n\n// Some predefined constants used to calculate image location and its border\nlet pWIDTH = 100;\nlet pHEIGHT = 100;\nlet offsetX = 200,\n  offsetY = 60;\nlet xMargin = 25,\n  yMargin = 25;\nconst DEFAULT_ARROW_SIZE = 2;\nfunction nodeExplainTableData(_planData, _ctx) {\n  let node_info,\n    display_text = [],\n    tooltip = [],\n    node_extra_info = [],\n    info = _ctx.explainTable;\n\n  // Display: <NODE>[ using <Index> ] [ on <Schema>.<Table>[ as <Alias>]]\n\n  if (/Scan/.test(_planData['Node Type'])) {\n    display_text.push(_planData['Node Type']);\n    tooltip.push(_planData['Node Type']);\n  } else {\n    display_text.push(_planData['image_text']);\n    tooltip.push(_planData['image_text']);\n  }\n  node_info = tooltip.join('');\n  if (typeof _planData['Index Name'] !== 'undefined') {\n    display_text.push(' using ');\n    tooltip.push(' using ');\n    display_text.push(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Index Name']));\n    tooltip.push(_planData['Index Name']);\n  }\n  if (typeof _planData['Relation Name'] !== 'undefined') {\n    display_text.push(' on ');\n    tooltip.push(' on ');\n    if (typeof _planData['Schema'] !== 'undefined') {\n      display_text.push(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Schema']));\n      tooltip.push(_planData['Schema']);\n      display_text.push('.');\n      tooltip.push('.');\n    }\n    display_text.push(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Relation Name']));\n    tooltip.push(_planData['Relation Name']);\n    if (typeof _planData['Alias'] !== 'undefined') {\n      display_text.push(' as ');\n      tooltip.push(' as ');\n      display_text.push(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Alias']));\n      tooltip.push(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Alias']));\n    }\n  }\n  if (typeof _planData['Plan Rows'] !== 'undefined' && typeof _planData['Plan Width'] !== 'undefined') {\n    let cost = [' (cost=', typeof _planData['Startup Cost'] !== 'undefined' ? _planData['Startup Cost'] : '', '..', typeof _planData['Total Cost'] !== 'undefined' ? _planData['Total Cost'] : '', ' rows=', _planData['Plan Rows'], ' width=', _planData['Plan Width'], ')'].join('');\n    display_text.push(cost);\n    tooltip.push(cost);\n  }\n  if (typeof _planData['Actual Startup Time'] !== 'undefined' || typeof _planData['Actual Total Time'] !== 'undefined' || typeof _planData['Actual Rows'] !== 'undefined') {\n    let actual = [' (', typeof _planData['Actual Startup Time'] !== 'undefined' ? 'actual=' + _planData['Actual Startup Time'] + '..' : '', typeof _planData['Actual Total Time'] !== 'undefined' ? _planData['Actual Total Time'] + ' ' : '', typeof _planData['Actual Rows'] !== 'undefined' ? 'rows=' + _planData['Actual Rows'] : '', typeof _planData['Actual Loops'] !== 'undefined' ? ' loops=' + _planData['Actual Loops'] : '', ')'].join('');\n    display_text.push(actual);\n    tooltip.push(actual);\n  }\n  if ('Join Filter' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Join Filter') + '</strong>: ' + lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Join Filter']));\n  }\n  if ('Filter' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Filter') + '</strong>: ' + lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Filter']));\n  }\n  if ('Index Cond' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Index Cond') + '</strong>: ' + lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Index Cond']));\n  }\n  if ('Hash Cond' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Hash Cond') + '</strong>: ' + lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Hash Cond']));\n  }\n  if ('Rows Removed by Filter' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Rows Removed by Filter') + '</strong>: ' + lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Rows Removed by Filter']));\n  }\n  if ('Peak Memory Usage' in _planData) {\n    let buffer = ['<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Buckets') + '</strong>:', lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Hash Buckets']), '<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Batches') + '</strong>:', lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Hash Batches']), '<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Memory Usage') + '</strong>:', lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(_planData['Peak Memory Usage']), 'kB'].join(' ');\n    node_extra_info.push(buffer);\n  }\n  if ('Recheck Cond' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Recheck Cond') + '</strong>: ' + _planData['Recheck Cond']);\n  }\n  if ('Exact Heap Blocks' in _planData) {\n    node_extra_info.push('<strong>' + sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Heap Blocks') + '</strong>: exact=' + _planData['Exact Heap Blocks']);\n  }\n  info.rows.push({\n    data: _planData,\n    display_text: display_text.join(''),\n    tooltip_text: tooltip.join(''),\n    node_extra_info: node_extra_info\n  });\n  if (typeof _planData['exclusive_flag'] !== 'undefined') {\n    info.show_timings = true;\n  }\n  if (typeof _planData['rowsx_flag'] !== 'undefined') {\n    info.show_rowsx = true;\n  }\n  if (typeof _planData['Actual Loops'] !== 'undefined') {\n    info.show_rows = true;\n  }\n  if (typeof _planData['Plan Rows'] !== 'undefined') {\n    info.show_plan_rows = true;\n  }\n  if (typeof _planData['total_time'] !== 'undefined') {\n    info.total_time = _planData['total_time'];\n  }\n  let node;\n  if (typeof _planData['Relation Name'] !== 'undefined') {\n    let relationName = (typeof _planData['Schema'] !== 'undefined' ? _planData['Schema'] + '.' : '') + _planData['Relation Name'],\n      table = info.statistics.tables[relationName] || {\n        name: relationName,\n        count: 0,\n        sum_of_times: 0,\n        nodes: {}\n      };\n    node = table.nodes[node_info] || {\n      name: node_info,\n      count: 0,\n      sum_of_times: 0\n    };\n    table.count++;\n    table.sum_of_times += _planData['exclusive'];\n    node.count++;\n    node.sum_of_times += _planData['exclusive'];\n    table.nodes[node_info] = node;\n    info.statistics.tables[relationName] = table;\n  }\n  node = info.statistics.nodes[node_info] || {\n    name: node_info,\n    count: 0,\n    sum_of_times: 0\n  };\n  node.count++;\n  node.sum_of_times += _planData['exclusive'];\n  info.statistics.nodes[node_info] = node;\n}\nfunction parseExplainTableData(plan, ctx) {\n  nodeExplainTableData(plan, ctx);\n  plan['Plans']?.map(p => {\n    parseExplainTableData(p, ctx);\n  });\n}\nfunction parsePlan(data, ctx) {\n  let idx = 1,\n    lvl = data.level = data.level || [idx],\n    plans = [],\n    nodeType = data['Node Type'],\n    // Calculating relative xpos of current node from top node\n    xpos = data.xpos = data.xpos - pWIDTH,\n    // Calculating relative ypos of current node from top node\n    ypos = data.ypos,\n    maxChildWidth = 0;\n  ctx.totalNodes++;\n  ctx.explainTable.total_time = data['total_time'] || data['Actual Total Time'];\n  data['_serial'] = ctx.totalNodes;\n  data['width'] = pWIDTH;\n  data['height'] = pHEIGHT;\n\n  // Calculate arrow width according to cost of a particular plan\n  let arrowSize = DEFAULT_ARROW_SIZE;\n  let startCost = data['Startup Cost'],\n    totalCost = data['Total Cost'];\n  if (startCost != undefined && totalCost != undefined) {\n    arrowSize = Math.round(Math.log((startCost + totalCost) / 2 + startCost));\n    if (arrowSize < 1) {\n      arrowSize = 1;\n    } else if (arrowSize > 10) {\n      arrowSize = 10;\n    }\n  }\n  data['arr_id'] = lodash__WEBPACK_IMPORTED_MODULE_2___default().uniqueId('arr');\n  ctx.arrows[data['arr_id']] = arrowSize;\n  /*\r\n   * calculating xpos, ypos, width and height if current node is a subplan\r\n   */\n  if (data['Parent Relationship'] === 'SubPlan') {\n    data['width'] += xMargin * 2 + xMargin / 2;\n    data['height'] += yMargin * 2;\n    data['ypos'] += yMargin;\n    xpos -= xMargin;\n    ypos += yMargin;\n  }\n  if (nodeType.startsWith('(slice')) nodeType = nodeType.substring(0, 7);\n\n  // Get the image information for current node\n  let mappedImage = lodash__WEBPACK_IMPORTED_MODULE_2___default().isFunction(_ImageMapper__WEBPACK_IMPORTED_MODULE_6__[\"default\"][nodeType]) && _ImageMapper__WEBPACK_IMPORTED_MODULE_6__[\"default\"][nodeType].apply(undefined, [data]) || _ImageMapper__WEBPACK_IMPORTED_MODULE_6__[\"default\"][nodeType] || {\n    'image': 'ex_unknown.svg',\n    'image_text': nodeType\n  };\n  data['image'] = mappedImage['image'];\n  data['image_text'] = mappedImage['image_text'];\n  if ('Actual Total Time' in data && 'Actual Loops' in data) {\n    data['inclusive'] = Math.ceil10(data['Actual Total Time'], -3);\n    data['exclusive'] = data['inclusive'];\n    data['inclusive_factor'] = data['inclusive'] / (data['total_time'] || data['Actual Total Time']);\n    if (data['inclusive_factor'] <= 0.1) {\n      data['inclusive_flag'] = '1';\n    } else if (data['inclusive_factor'] < 0.5) {\n      data['inclusive_flag'] = '2';\n    } else if (data['inclusive_factor'] <= 0.9) {\n      data['inclusive_flag'] = '3';\n    } else {\n      data['inclusive_flag'] = '4';\n    }\n  }\n  if ('Actual Rows' in data && 'Plan Rows' in data) {\n    if (data['Actual Rows'] === 0 || data['Actual Rows'] > data['Plan Rows']) {\n      data['rowsx'] = data['Plan Rows'] === 0 ? 0 : data['Actual Rows'] / data['Plan Rows'];\n      data['rowsx_direction'] = 'negative';\n    } else {\n      data['rowsx'] = data['Actual Rows'] === 0 ? 0 : data['Plan Rows'] / data['Actual Rows'];\n      data['rowsx_direction'] = 'positive';\n    }\n    if (data['rowsx'] <= 10) {\n      data['rowsx_flag'] = '1';\n    } else if (data['rowsx'] <= 100) {\n      data['rowsx_flag'] = '2';\n    } else if (data['rowsx'] <= 1000) {\n      data['rowsx_flag'] = '3';\n    } else {\n      data['rowsx_flag'] = '4';\n    }\n    if ('loops' in data) {\n      data['rowsx'] = Math.ceil10(data['rowsx'] / data['loops'] || 1, -2);\n    } else {\n      data['rowsx'] = Math.ceil10(data['rowsx'], -2);\n    }\n  }\n\n  // Start calculating xpos, ypos, width and height for child plans if any\n  if ('Plans' in data) {\n    data['width'] += offsetX;\n    data['Plans'].forEach(function (p) {\n      let level = lodash__WEBPACK_IMPORTED_MODULE_2___default().clone(lvl);\n      level.push(idx);\n      let plan = parsePlan(_objectSpread(_objectSpread({}, p), {}, {\n        'level': level,\n        xpos: xpos - offsetX,\n        ypos: ypos,\n        total_time: data['total_time'] || data['Actual Total Time'],\n        parent_node: lvl.join('_'),\n        loops: data['Actual Loops']\n      }), ctx);\n      if (maxChildWidth < plan.width) {\n        maxChildWidth = plan.width;\n      }\n      if ('exclusive' in data) {\n        if (plan.inclusive < data['exclusive']) {\n          data['exclusive'] -= plan.inclusive;\n        }\n      }\n      let childHeight = plan.height;\n      if (idx !== 1) {\n        data['height'] = data['height'] + childHeight + offsetY;\n      } else if (childHeight > data['height']) {\n        data['height'] = childHeight;\n      }\n      ypos += childHeight + offsetY;\n      plans.push(plan);\n      idx++;\n    });\n  } else if ('loops' in data && 'exclusive' in data) {\n    data['inclusive'] = Math.ceil10(data['Actual Total Time'] / data['loops'] || 1, -3);\n    data['exclusive'] = data['inclusive'];\n  }\n  if ('exclusive' in data) {\n    data['exclusive'] = Math.ceil10(data['exclusive'], -3);\n    data['exclusive_factor'] = data['exclusive'] / (data['total_time'] || data['Actual Total Time']);\n    if (data['exclusive_factor'] <= 0.1) {\n      data['exclusive_flag'] = '1';\n    } else if (data['exclusive_factor'] < 0.5) {\n      data['exclusive_flag'] = '2';\n    } else if (data['exclusive_factor'] <= 0.9) {\n      data['exclusive_flag'] = '3';\n    } else {\n      data['exclusive_flag'] = '4';\n    }\n  }\n\n  // Final Width and Height of current node\n  data['width'] += maxChildWidth;\n  data['Plans'] = plans;\n  return data;\n}\nfunction parsePlanData(data, ctx) {\n  let retPlan = {};\n  if (data) {\n    if ('Plan' in data) {\n      let plan = parsePlan(_objectSpread(_objectSpread({}, data['Plan']), {}, {\n        xpos: 0,\n        ypos: 0,\n        loops: 1\n      }), ctx);\n      retPlan['Plan'] = plan;\n      retPlan['xpos'] = 0;\n      retPlan['ypos'] = 0;\n      retPlan['width'] = plan.width + xMargin * 2;\n      retPlan['height'] = plan.height + yMargin * 4;\n    }\n    retPlan['Statistics'] = {\n      'JIT': [],\n      'Triggers': [],\n      'Summary': {}\n    };\n    if ('JIT' in data) {\n      retPlan['Statistics']['JIT'] = retPlan['JIT'];\n    }\n    if ('Triggers' in data) {\n      retPlan['Statistics']['Triggers'] = retPlan['JITriggersT'];\n    }\n    if ('Settings' in data) {\n      retPlan['Statistics']['Settings'] = data['Settings'];\n    }\n    let summKeys = ['Planning Time', 'Execution Time'],\n      summary = {};\n    summKeys.forEach(key => {\n      if (key in data) {\n        summary[key] = data[key];\n      }\n    });\n    retPlan['Statistics']['Summary'] = summary;\n    parseExplainTableData(retPlan['Plan'], ctx);\n  }\n  return retPlan;\n}\nfunction Explain(_ref2) {\n  let {\n    plans = [],\n    emptyMessage = sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Use Explain/Explain analyze button to generate the plan for a query. Alternatively, you can also execute \"EXPLAIN (FORMAT JSON) [QUERY]\".')\n  } = _ref2;\n  const [tabValue, setTabValue] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(0);\n  let ctx = react__WEBPACK_IMPORTED_MODULE_1___default().useRef({});\n  let planData = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(() => {\n    ctx.current = {\n      totalNodes: 0,\n      totalDownloadedNodes: 0,\n      isDownloaded: 0,\n      explainTable: {\n        rows: [],\n        statistics: {\n          tables: {},\n          nodes: {}\n        }\n      },\n      arrows: {}\n    };\n    return plans && parsePlanData(plans[0], ctx.current);\n  }, [plans]);\n  if (lodash__WEBPACK_IMPORTED_MODULE_2___default().isEmpty(plans)) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    }, emptyMessage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n      text: emptyMessage\n    }));\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    value: tabValue,\n    onChange: (_e, selTabValue) => {\n      setTabValue(selTabValue);\n    }\n    // indicatorColor=\"primary\"\n    ,\n    variant: \"scrollable\",\n    scrollButtons: \"auto\",\n    action: ref => ref?.updateIndicator()\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    label: \"Graphical\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    label: \"Analysis\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n    label: \"Statistics\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_TabPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    value: tabValue,\n    index: 0,\n    classNameRoot: \"Explain-tabPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Graphical__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    planData: planData,\n    ctx: ctx.current\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_TabPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    value: tabValue,\n    index: 1,\n    classNameRoot: \"Explain-tabPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_Analysis__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    explainTable: ctx.current.explainTable\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_TabPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    value: tabValue,\n    index: 2,\n    classNameRoot: \"Explain-tabPanel\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ExplainStatistics__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    explainTable: ctx.current.explainTable\n  })));\n}\nExplain.propTypes = {\n  plans: (prop_types__WEBPACK_IMPORTED_MODULE_14___default().array).isRequired,\n  emptyMessage: (prop_types__WEBPACK_IMPORTED_MODULE_14___default().string)\n};\n\n//# sourceURL=webpack:///./pgadmin/static/js/Explain/index.jsx?");

/***/ }),

/***/ "./pgadmin/static/js/Explain/svg_download.js":
/*!***************************************************!*\
  !*** ./pgadmin/static/js/Explain/svg_download.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   downloadSvg: () => (/* binding */ downloadSvg)\n/* harmony export */ });\n/* harmony import */ var _api_instance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./pgadmin/static/js/utils.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\nfunction convertImageURLtoDataURI(api, image) {\n  return new Promise(function (resolve, reject) {\n    let href = image.getAttribute('href') || image.getAttributeNS('http://www.w3.org/1999/xlink', 'href');\n    api.get(href).then(_ref => {\n      let {\n        data\n      } = _ref;\n      image.setAttribute('href', 'data:image/svg+xml;base64,' + window.btoa(data));\n      resolve();\n    }).catch(() => {\n      reject(new Error(null));\n    });\n  });\n}\nfunction downloadSvg(svg, svgName) {\n  let svgDiv = document.createElement('div');\n  svgDiv.innerHTML = svg;\n  svgDiv.style.visibility = 'hidden';\n  svgDiv.style.display = 'table';\n  svgDiv.style.position = 'absolute';\n  let svgElement = svgDiv.firstChild;\n  let api = (0,_api_instance__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n  if (!svgElement) {\n    return;\n  }\n  let images = svgElement.getElementsByTagName('image');\n  let image_promises = [];\n  if (images) {\n    for (let image of images) {\n      if (image.getAttribute('href') && image.getAttribute('href').indexOf('data:') === -1 || image.getAttribute('xlink:href') && image.getAttribute('xlink:href').indexOf('data:') === -1) {\n        image_promises.push(convertImageURLtoDataURI(api, image));\n      }\n    }\n  }\n  Promise.all(image_promises).then(function () {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.downloadFile)(svgElement.outerHTML, svgName, 'image/svg+xml');\n  });\n}\n\n//# sourceURL=webpack:///./pgadmin/static/js/Explain/svg_download.js?");

/***/ }),

/***/ "./pgadmin/static/js/components/JsonEditor.jsx":
/*!*****************************************************!*\
  !*** ./pgadmin/static/js/components/JsonEditor.jsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ JsonEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsoneditor_min__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsoneditor.min */ \"./node_modules/jsoneditor/dist/jsoneditor.min.js\");\n/* harmony import */ var jsoneditor_min__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsoneditor_min__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _custom_prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../custom_prop_types */ \"./pgadmin/static/js/custom_prop_types.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n/* React wrapper for JsonEditor */\nfunction JsonEditor(_ref) {\n  let {\n    getEditor,\n    value,\n    options,\n    className\n  } = _ref;\n  const eleRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  const editor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n  const defaultOptions = {\n    modes: ['code', 'form', 'tree', 'preview']\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const editorResizeObserver = new ResizeObserver(() => {\n      // Using resize from json editor to resize it\n      // after resizing the container.\n      editor.current.resize();\n    });\n    editorResizeObserver.observe(eleRef.current);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    /* Create the object only once on mount */\n    editor.current = new (jsoneditor_min__WEBPACK_IMPORTED_MODULE_2___default())(eleRef.current, _objectSpread(_objectSpread(_objectSpread({}, defaultOptions), options), {}, {\n      onChange: () => {\n        let currVal = editor.current.getText();\n        if (currVal == '') {\n          currVal = null;\n        }\n        options.onChange(currVal);\n      }\n    }));\n    editor.current.setText(value);\n    getEditor?.(editor.current);\n    editor.current.focus();\n    /* Required by json editor */\n    eleRef.current.style.height = eleRef.current.offsetHeight + 'px';\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (editor.current) {\n      if (value != editor.current.getText()) {\n        editor.current.setText(value ?? '');\n      }\n    }\n  }, [value]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    ref: eleRef,\n    className: className\n  });\n}\nJsonEditor.propTypes = {\n  getEditor: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),\n  value: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),\n  options: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),\n  className: _custom_prop_types__WEBPACK_IMPORTED_MODULE_3__[\"default\"].className\n};\n\n//# sourceURL=webpack:///./pgadmin/static/js/components/JsonEditor.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/SQLEditorModule.js":
/*!**************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/SQLEditorModule.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SQLEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _show_view_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./show_view_data */ \"./pgadmin/tools/sqleditor/static/js/show_view_data.js\");\n/* harmony import */ var _show_query_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./show_query_tool */ \"./pgadmin/tools/sqleditor/static/js/show_query_tool.js\");\n/* harmony import */ var _sqleditor_title__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sqleditor_title */ \"./pgadmin/tools/sqleditor/static/js/sqleditor_title.js\");\n/* harmony import */ var sources_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var sources_window__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/window */ \"./pgadmin/static/js/window.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! pgadmin.browser */ \"./pgadmin/browser/static/js/browser.js\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.tools.user_management'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.tools.file_manager'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-dom/client */ \"./node_modules/react-dom/client.js\");\n/* harmony import */ var _components_QueryToolComponent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../static/js/helpers/ModalProvider */ \"./pgadmin/static/js/helpers/ModalProvider.jsx\");\n/* harmony import */ var _static_js_Theme__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../static/js/Theme */ \"./pgadmin/static/js/Theme/index.jsx\");\n/* harmony import */ var _browser_static_js_constants__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../browser/static/js/constants */ \"./pgadmin/browser/static/js/constants.js\");\n/* harmony import */ var _static_js_helpers_Notifier__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../static/js/helpers/Notifier */ \"./pgadmin/static/js/helpers/Notifier.jsx\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass SQLEditor {\n  constructor() {\n    (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"SUPPORTED_NODES\", ['table', 'view', 'mview', 'foreign_table', 'catalog_object', 'partition']);\n  }\n  static getInstance() {\n    if (!SQLEditor.instance) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      SQLEditor.instance = new SQLEditor(...args);\n    }\n    return SQLEditor.instance;\n  }\n  /* Enable/disable View data menu in tools based\r\n  * on node selected. if selected node is present\r\n  * in supportedNodes, menu will be enabled\r\n  * otherwise disabled.\r\n  */\n  viewMenuEnabled(obj) {\n    let isEnabled = (() => {\n      if (!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isNull(obj)) return lodash__WEBPACK_IMPORTED_MODULE_5___default().indexOf(this.SUPPORTED_NODES, obj._type) !== -1;else return false;\n    })();\n    return isEnabled;\n  }\n\n  /* Enable/disable Query tool menu in tools based\r\n  * on node selected. if selected node is present\r\n  * in unsupported_nodes, menu will be disabled\r\n  * otherwise enabled.\r\n  */\n  queryToolMenuEnabled(obj) {\n    let isEnabled = (() => {\n      if (!lodash__WEBPACK_IMPORTED_MODULE_5___default().isUndefined(obj) && !lodash__WEBPACK_IMPORTED_MODULE_5___default().isNull(obj)) {\n        if (lodash__WEBPACK_IMPORTED_MODULE_5___default().indexOf((sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default().unsupported_nodes), obj._type) == -1) {\n          if (obj._type == 'database' && obj.allowConn) {\n            return true;\n          } else if (obj._type != 'database') {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    })();\n    return isEnabled;\n  }\n  init() {\n    if (this.initialized) return;\n    this.initialized = true;\n\n    // Define the nodes on which the menus to be appear\n    let menus = [{\n      name: 'query_tool',\n      module: this,\n      applies: ['tools'],\n      callback: 'showQueryTool',\n      enable: this.queryToolMenuEnabled,\n      priority: 1,\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('Query Tool'),\n      data: {\n        applies: 'tools',\n        data_disabled: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('Please select a database from the object explorer to access Query Tool.')\n      }\n    }];\n\n    // Create context menu\n    for (const supportedNode of this.SUPPORTED_NODES) {\n      menus.push({\n        name: 'view_all_rows_context_' + supportedNode,\n        node: supportedNode,\n        module: this,\n        data: {\n          mnuid: 3\n        },\n        applies: ['context', 'object'],\n        callback: 'showViewData',\n        enable: this.viewMenuEnabled,\n        category: 'view_data',\n        priority: 101,\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('All Rows')\n      }, {\n        name: 'view_first_100_rows_context_' + supportedNode,\n        node: supportedNode,\n        module: this,\n        data: {\n          mnuid: 1\n        },\n        applies: ['context', 'object'],\n        callback: 'showViewData',\n        enable: this.viewMenuEnabled,\n        category: 'view_data',\n        priority: 102,\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('First 100 Rows')\n      }, {\n        name: 'view_last_100_rows_context_' + supportedNode,\n        node: supportedNode,\n        module: this,\n        data: {\n          mnuid: 2\n        },\n        applies: ['context', 'object'],\n        callback: 'showViewData',\n        enable: this.viewMenuEnabled,\n        category: 'view_data',\n        priority: 103,\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('Last 100 Rows')\n      }, {\n        name: 'view_filtered_rows_context_' + supportedNode,\n        node: supportedNode,\n        module: this,\n        data: {\n          mnuid: 4\n        },\n        applies: ['context', 'object'],\n        callback: 'showFilteredRow',\n        enable: this.viewMenuEnabled,\n        category: 'view_data',\n        priority: 104,\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('Filtered Rows...')\n      });\n    }\n    pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"].add_menu_category({\n      name: 'view_data',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('View/Edit Data'),\n      priority: 100\n    });\n    pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"].add_menus(menus);\n  }\n\n  // This is a callback function to show data when user click on menu item.\n  showViewData(data, i) {\n    const transId = sources_utils__WEBPACK_IMPORTED_MODULE_4__.getRandomInt(1, 9999999);\n    _show_view_data__WEBPACK_IMPORTED_MODULE_1__.showViewData(this, pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"], data, i, transId);\n  }\n\n  // This is a callback function to show filtered data when user click on menu item.\n  showFilteredRow(data, i) {\n    const transId = sources_utils__WEBPACK_IMPORTED_MODULE_4__.getRandomInt(1, 9999999);\n    _show_view_data__WEBPACK_IMPORTED_MODULE_1__.showViewData(this, pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"], data, i, transId, true);\n  }\n\n  // This is a callback function to show query tool when user click on menu item.\n  showQueryTool(url, treeIdentifier) {\n    const transId = sources_utils__WEBPACK_IMPORTED_MODULE_4__.getRandomInt(1, 9999999);\n    let t = pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"].tree,\n      i = treeIdentifier || t.selected(),\n      d = i ? t.itemData(i) : undefined;\n    if (typeof url != 'string') {\n      url = '';\n    }\n    //Open query tool with create script if copy_sql_to_query_tool is true else open blank query tool\n    let preference = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_18__[\"default\"].getState().getPreferences('sqleditor', 'copy_sql_to_query_tool');\n    if (preference.value && !d._type.includes('coll-') && (url === '' || url['applies'] === 'tools')) {\n      let stype = d._type.toLowerCase();\n      let data = {\n        'script': stype,\n        data_disabled: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('The selected tree node does not support this option.')\n      };\n      pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"].Node.callbacks.show_script(data);\n    } else {\n      if (d._type.includes('coll-')) {\n        url = '';\n      }\n      _show_query_tool__WEBPACK_IMPORTED_MODULE_2__.showQueryTool(this, pgadmin_browser__WEBPACK_IMPORTED_MODULE_8__[\"default\"], url, treeIdentifier, transId);\n    }\n  }\n  launch(trans_id, panel_url, is_query_tool, panel_title) {\n    let params = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    let browser_preferences = _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_18__[\"default\"].getState().getPreferencesForModule('browser');\n    let open_new_tab = browser_preferences.new_browser_tab_open;\n    const [icon, tooltip] = _sqleditor_title__WEBPACK_IMPORTED_MODULE_3__.getQueryToolIcon(panel_title, is_query_tool);\n    let selectedNodeInfo = sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default().Browser.tree.getTreeNodeHierarchy(sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default().Browser.tree.selected());\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default().Browser.Events.trigger('pgadmin:tool:show', `${_browser_static_js_constants__WEBPACK_IMPORTED_MODULE_16__.BROWSER_PANELS.QUERY_TOOL}_${trans_id}`, panel_url, _objectSpread(_objectSpread({}, params), {}, {\n      title: panel_title,\n      selectedNodeInfo: JSON.stringify(selectedNodeInfo)\n    }), {\n      title: panel_title,\n      icon: icon,\n      tooltip: tooltip,\n      renamable: true\n    }, Boolean(open_new_tab?.includes('qt')));\n    return true;\n  }\n  async loadComponent(container, params) {\n    let panelDocker = sources_window__WEBPACK_IMPORTED_MODULE_6__[\"default\"].pgAdmin.Browser.docker.query_tool_workspace;\n    if (sources_window__WEBPACK_IMPORTED_MODULE_6__[\"default\"].pgAdmin.Browser.docker.currentWorkspace == _browser_static_js_constants__WEBPACK_IMPORTED_MODULE_16__.WORKSPACES.DEFAULT) {\n      panelDocker = sources_window__WEBPACK_IMPORTED_MODULE_6__[\"default\"].pgAdmin.Browser.docker.default_workspace;\n    }\n    const selectedNodeInfo = params.selectedNodeInfo ? JSON.parse(lodash__WEBPACK_IMPORTED_MODULE_5___default().unescape(params.selectedNodeInfo)) : params.selectedNodeInfo;\n    sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default().Browser.keyboardNavigation.init();\n    await (0,_preferences_static_js_store__WEBPACK_IMPORTED_MODULE_18__.listenPreferenceBroadcast)();\n    const root = react_dom_client__WEBPACK_IMPORTED_MODULE_12__.createRoot(container);\n    root.render(/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_static_js_Theme__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_19__.PgAdminProvider, {\n      value: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default())\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_static_js_helpers_Notifier__WEBPACK_IMPORTED_MODULE_17__.NotifierProvider, {\n      pgAdmin: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default()),\n      pgWindow: sources_window__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default().createElement(_components_QueryToolComponent__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      params: params,\n      pgWindow: sources_window__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n      pgAdmin: (sources_pgadmin__WEBPACK_IMPORTED_MODULE_7___default()),\n      qtPanelDocker: panelDocker,\n      qtPanelId: `${_browser_static_js_constants__WEBPACK_IMPORTED_MODULE_16__.BROWSER_PANELS.QUERY_TOOL}_${params.trans_id}`,\n      selectedNodeInfo: selectedNodeInfo\n    })))));\n  }\n}\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(SQLEditor, \"instance\", void 0);\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/SQLEditorModule.js?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx":
/*!*****************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryToolConnectionContext: () => (/* binding */ QueryToolConnectionContext),\n/* harmony export */   QueryToolContext: () => (/* binding */ QueryToolContext),\n/* harmony export */   QueryToolEventsContext: () => (/* binding */ QueryToolEventsContext),\n/* harmony export */   \"default\": () => (/* binding */ QueryToolComponent),\n/* harmony export */   getRandomName: () => (/* binding */ getRandomName)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../static/js/helpers/Layout */ \"./pgadmin/static/js/helpers/Layout/index.jsx\");\n/* harmony import */ var _static_js_helpers_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../static/js/helpers/EventBus */ \"./pgadmin/static/js/helpers/EventBus.js\");\n/* harmony import */ var _sections_Query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sections/Query */ \"./pgadmin/tools/sqleditor/static/js/components/sections/Query.jsx\");\n/* harmony import */ var _sections_ConnectionBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./sections/ConnectionBar */ \"./pgadmin/tools/sqleditor/static/js/components/sections/ConnectionBar.jsx\");\n/* harmony import */ var _sections_ResultSet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sections/ResultSet */ \"./pgadmin/tools/sqleditor/static/js/components/sections/ResultSet.jsx\");\n/* harmony import */ var _sections_StatusBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sections/StatusBar */ \"./pgadmin/tools/sqleditor/static/js/components/sections/StatusBar.jsx\");\n/* harmony import */ var _sections_MainToolBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sections/MainToolBar */ \"./pgadmin/tools/sqleditor/static/js/components/sections/MainToolBar.jsx\");\n/* harmony import */ var _sections_Messages__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./sections/Messages */ \"./pgadmin/tools/sqleditor/static/js/components/sections/Messages.jsx\");\n/* harmony import */ var _static_js_api_instance__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../static/js/api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _sqleditor_title__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../sqleditor_title */ \"./pgadmin/tools/sqleditor/static/js/sqleditor_title.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _dialogs_NewConnectionDialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dialogs/NewConnectionDialog */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/NewConnectionDialog.jsx\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! sources/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var _sections_Notifications__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./sections/Notifications */ \"./pgadmin/tools/sqleditor/static/js/components/sections/Notifications.jsx\");\n/* harmony import */ var _dialogs_MacrosDialog__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dialogs/MacrosDialog */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/MacrosDialog.jsx\");\n/* harmony import */ var _dialogs_FilterDialog__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dialogs/FilterDialog */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/FilterDialog.jsx\");\n/* harmony import */ var _sections_QueryHistory__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./sections/QueryHistory */ \"./pgadmin/tools/sqleditor/static/js/components/sections/QueryHistory.jsx\");\n/* harmony import */ var _show_query_tool__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../show_query_tool */ \"./pgadmin/tools/sqleditor/static/js/show_query_tool.js\");\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.authenticate.kerberos'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _show_view_data__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../show_view_data */ \"./pgadmin/tools/sqleditor/static/js/show_view_data.js\");\n/* harmony import */ var _static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../../static/js/helpers/ModalProvider */ \"./pgadmin/static/js/helpers/ModalProvider.jsx\");\n/* harmony import */ var _static_js_Dialogs_ConnectServerContent__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../../static/js/Dialogs/ConnectServerContent */ \"./pgadmin/static/js/Dialogs/ConnectServerContent.jsx\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst QueryToolContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createContext();\nconst QueryToolConnectionContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createContext();\nconst QueryToolEventsContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createContext();\nfunction fetchConnectionStatus(api, transId) {\n  return api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('sqleditor.connection_status', {\n    trans_id: transId\n  }));\n}\nfunction initConnection(api, params, passdata) {\n  return api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('NODE-server.connect_id', params), passdata);\n}\nfunction getRandomName(existingNames) {\n  const maxNumber = existingNames.reduce((max, name) => {\n    const match = name.match(/\\d+$/); // Extract the number from the name\n    if (match) {\n      const number = parseInt(match[0], 10);\n      return number > max ? number : max;\n    }\n    return max;\n  }, 0);\n\n  // Generate the new name\n  const newName = `Macro ${maxNumber + 1}`;\n  return newName;\n}\nfunction setPanelTitle(docker, panelId, title, qtState) {\n  let dirty = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  if (qtState.current_file) {\n    title = qtState.current_file.split('\\\\').pop().split('/').pop();\n  } else if (!qtState.is_new_tab && !title) {\n    const internal = docker.getInternalAttrs(panelId);\n    title = internal.title;\n    if (internal.isDirty) {\n      // remove asterisk\n      title = title.slice(0, -1);\n    }\n  } else {\n    title = title ?? qtState.params.title;\n  }\n  title = title + (dirty ? '*' : '');\n  if (qtState.is_new_tab) {\n    window.document.title = title;\n  } else {\n    docker.setInternalAttrs(panelId, {\n      isDirty: dirty\n    });\n    (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.setQueryToolDockerTitle)(docker, panelId, true, title, qtState.current_file);\n  }\n}\nconst FIXED_PREF = {\n  find: {\n    'control': true,\n    ctrl_is_meta: true,\n    'shift': false,\n    'alt': false,\n    'key': {\n      'key_code': 70,\n      'char': 'F'\n    }\n  },\n  replace: {\n    'control': true,\n    ctrl_is_meta: true,\n    'shift': false,\n    'alt': true,\n    'key': {\n      'key_code': 70,\n      'char': 'F'\n    }\n  },\n  gotolinecol: {\n    'control': true,\n    ctrl_is_meta: true,\n    'shift': false,\n    'alt': false,\n    'key': {\n      'key_code': 76,\n      'char': 'L'\n    }\n  },\n  indent: {\n    'control': false,\n    'shift': false,\n    'alt': false,\n    'key': {\n      'key_code': 9,\n      'char': 'Tab'\n    }\n  },\n  unindent: {\n    'control': false,\n    'shift': true,\n    'alt': false,\n    'key': {\n      'key_code': 9,\n      'char': 'Tab'\n    }\n  },\n  comment: {\n    'control': true,\n    ctrl_is_meta: true,\n    'shift': false,\n    'alt': false,\n    'key': {\n      'key_code': 191,\n      'char': '/'\n    }\n  },\n  format_sql: {\n    'control': true,\n    ctrl_is_meta: true,\n    'shift': false,\n    'alt': false,\n    'key': {\n      'key_code': 75,\n      'char': 'k'\n    }\n  }\n};\nfunction QueryToolComponent(_ref) {\n  let {\n    params,\n    pgWindow,\n    pgAdmin,\n    selectedNodeInfo,\n    qtPanelDocker,\n    qtPanelId,\n    eventBusObj\n  } = _ref;\n  const containerRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const preferencesStore = (0,_preferences_static_js_store__WEBPACK_IMPORTED_MODULE_28__[\"default\"])();\n  const [qtState, setQtState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    preferences: {\n      browser: preferencesStore.getPreferencesForModule('browser'),\n      sqleditor: _objectSpread(_objectSpread({}, preferencesStore.getPreferencesForModule('sqleditor')), FIXED_PREF),\n      graphs: preferencesStore.getPreferencesForModule('graphs'),\n      misc: preferencesStore.getPreferencesForModule('misc')\n    },\n    is_new_tab: window.location == window.parent?.location,\n    is_visible: true,\n    current_file: null,\n    obtaining_conn: true,\n    connected: false,\n    connected_once: false,\n    connection_status: null,\n    connection_status_msg: '',\n    params: _objectSpread(_objectSpread({}, params), {}, {\n      title: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.title),\n      is_query_tool: params.is_query_tool == 'true',\n      node_name: (0,_show_view_data__WEBPACK_IMPORTED_MODULE_25__.retrieveNodeName)(selectedNodeInfo),\n      dbname: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.database_name) || (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getDatabaseLabel)(selectedNodeInfo)\n    }),\n    connection_list: [{\n      sgid: params.sgid,\n      sid: params.sid,\n      did: params.did,\n      user: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.user),\n      role: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.role),\n      title: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.title),\n      fgcolor: params.fgcolor,\n      bgcolor: params.bgcolor,\n      conn_title: (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getTitle)(pgAdmin, null, selectedNodeInfo, true, lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.server_name), lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.database_name) || (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getDatabaseLabel)(selectedNodeInfo), lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.role) || lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.user), params.is_query_tool == 'true'),\n      server_name: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.server_name),\n      database_name: lodash__WEBPACK_IMPORTED_MODULE_2___default().unescape(params.database_name) || (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getDatabaseLabel)(selectedNodeInfo),\n      is_selected: true\n    }],\n    editor_disabled: true,\n    eol: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.OS_EOL\n  });\n  const [selectedText, setSelectedText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n  const setQtStatePartial = state => {\n    setQtState(prev => _objectSpread(_objectSpread({}, prev), (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_18__.evalFunc)(null, state, prev)));\n  };\n  const isDirtyRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false); // usefull when conn change.\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(eventBusObj || new _static_js_helpers_EventBus__WEBPACK_IMPORTED_MODULE_4__[\"default\"]());\n  const docker = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  const api = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(), []);\n  const modal = (0,_static_js_helpers_ModalProvider__WEBPACK_IMPORTED_MODULE_26__.useModal)();\n\n  /* Connection status poller */\n  let pollTime = qtState.preferences.sqleditor.connection_status_fetch_time > 0 && !qtState.obtaining_conn && qtState.connected_once && qtState.preferences?.sqleditor?.connection_status ? qtState.preferences.sqleditor.connection_status_fetch_time * 1000 : -1;\n  /* No need to poll when the query is executing. Query poller will get the txn status */\n  if (qtState.connection_status === _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.CONNECTION_STATUS.TRANSACTION_STATUS_ACTIVE && qtState.connected || !qtState.is_visible) {\n    pollTime = -1;\n  }\n  const handleEndOfLineChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    const val = e.value || e;\n    const lineSep = val === 'crlf' ? '\\r\\n' : '\\n';\n    setQtStatePartial({\n      eol: val\n    });\n    eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.CHANGE_EOL, lineSep);\n  }, []);\n  (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_14__.useInterval)(async () => {\n    try {\n      let {\n        data: respData\n      } = await fetchConnectionStatus(api, qtState.params.trans_id);\n      if (respData.data) {\n        setQtStatePartial({\n          connected: true,\n          connection_status: respData.data.status\n        });\n      } else {\n        setQtStatePartial({\n          connected: false,\n          connection_status: null,\n          connection_status_msg: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('An unexpected error occurred - ensure you are logged into the application.')\n        });\n      }\n      if (respData.data.notifies) {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.PUSH_NOTICE, respData.data.notifies);\n      }\n    } catch (error) {\n      console.error(error);\n      setQtStatePartial({\n        connected: false,\n        connection_status: null,\n        connection_status_msg: (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_11__.parseApiError)(error)\n      });\n    }\n  }, pollTime);\n  let defaultLayout = {\n    dockbox: {\n      mode: 'vertical',\n      children: [{\n        mode: 'horizontal',\n        children: [{\n          maximizable: true,\n          tabs: [_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LayoutDocker.getPanel({\n            id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.QUERY,\n            title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Query'),\n            content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_Query__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n              onTextSelect: text => setSelectedText(text),\n              setQtStatePartial: setQtStatePartial\n            })\n          }), _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LayoutDocker.getPanel({\n            id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.HISTORY,\n            title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Query History'),\n            content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_QueryHistory__WEBPACK_IMPORTED_MODULE_22__.QueryHistory, null),\n            cached: undefined\n          })]\n        }, {\n          size: 75,\n          maximizable: true,\n          tabs: [_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LayoutDocker.getPanel({\n            id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.SCRATCH,\n            title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Scratch Pad'),\n            closable: true,\n            content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"textarea\", {\n              style: {\n                border: 0,\n                height: '100%',\n                width: '100%',\n                resize: 'none'\n              },\n              title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Scratch Pad')\n            })\n          })]\n        }]\n      }, {\n        mode: 'horizontal',\n        children: [{\n          maximizable: true,\n          tabs: [_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LayoutDocker.getPanel({\n            id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.DATA_OUTPUT,\n            title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Data Output'),\n            content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_ResultSet__WEBPACK_IMPORTED_MODULE_7__.ResultSet, null)\n          }), _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LayoutDocker.getPanel({\n            id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.MESSAGES,\n            title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Messages'),\n            content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_Messages__WEBPACK_IMPORTED_MODULE_10__.Messages, null)\n          }), _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LayoutDocker.getPanel({\n            id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.NOTIFICATIONS,\n            title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Notifications'),\n            content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_Notifications__WEBPACK_IMPORTED_MODULE_19__.Notifications, null)\n          })]\n        }]\n      }]\n    }\n  };\n  const getSQLScript = () => {\n    // Fetch the SQL for Scripts (eg: CREATE/UPDATE/DELETE/SELECT)\n    // Call AJAX only if script type URL is present\n    if (qtState.params.is_query_tool && qtState.params.query_url) {\n      api.get(qtState.params.query_url).then(res => {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.EDITOR_SET_SQL, res.data);\n        setQtStatePartial({\n          editor_disabled: false\n        });\n      }).catch(err => {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, err);\n        setQtStatePartial({\n          editor_disabled: true\n        });\n      });\n    } else if (qtState.params.sql_id) {\n      let sqlValue = localStorage.getItem(qtState.params.sql_id);\n      localStorage.removeItem(qtState.params.sql_id);\n      if (sqlValue) {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.EDITOR_SET_SQL, sqlValue);\n      }\n      setQtStatePartial({\n        editor_disabled: false\n      });\n    } else {\n      setQtStatePartial({\n        editor_disabled: false\n      });\n    }\n  };\n  const initializeQueryTool = function (password) {\n    let explainObject = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let macroSQL = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    let executeCursor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    let reexecute = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    let selectedConn = lodash__WEBPACK_IMPORTED_MODULE_2___default().find(qtState.connection_list, c => c.is_selected);\n    let baseUrl = '';\n    if (qtState.params.is_query_tool) {\n      let endpoint = 'sqleditor.initialize_sqleditor';\n      if (qtState.params.did) {\n        endpoint = 'sqleditor.initialize_sqleditor_with_did';\n      }\n      baseUrl = sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()(endpoint, _objectSpread(_objectSpread({}, selectedConn), {}, {\n        trans_id: qtState.params.trans_id\n      }));\n    } else {\n      baseUrl = sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('sqleditor.initialize_viewdata', _objectSpread({}, qtState.params));\n    }\n    api.post(baseUrl, qtState.params.is_query_tool ? {\n      user: selectedConn.user,\n      role: selectedConn.role,\n      password: password,\n      dbname: selectedConn.database_name\n    } : qtState.params.sql_filter).then(() => {\n      setQtStatePartial({\n        connected: true,\n        connected_once: true,\n        obtaining_conn: false\n      });\n      //this condition works if user is in View/Edit Data or user does not saved server or tunnel password and disconnected the server and executing the query\n      if (!qtState.params.is_query_tool || reexecute) {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION, explainObject, macroSQL, executeCursor);\n        let msg = `${selectedConn['server_name']}/${selectedConn['database_name']} - Database connected`;\n        pgAdmin.Browser.notifier.success(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(msg));\n      }\n      // Open the file if filename passed on the parameters.\n      if (qtState.params.fileName) {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.LOAD_FILE, params.fileName, params.storage);\n      }\n    }).catch(error => {\n      if (error.response?.request?.responseText?.search('Ticket expired') !== -1) {\n        Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.authenticate.kerberos'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())().then(() => {\n          initializeQueryTool();\n        }).catch(kberr => {\n          setQtStatePartial({\n            connected: false,\n            obtaining_conn: false\n          });\n          eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, kberr);\n        });\n      } else if (error?.response?.status == 428) {\n        connectServerModal(error.response?.data?.result, passwordData => {\n          initializeQueryTool(passwordData.password);\n        }, () => {\n          setQtStatePartial({\n            connected: false,\n            obtaining_conn: false,\n            connection_status_msg: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Not Connected')\n          });\n        });\n      } else {\n        setQtStatePartial({\n          connected: false,\n          obtaining_conn: false\n        });\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, error);\n      }\n    });\n  };\n  const {\n    forceClose\n  } = (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_14__.useBeforeUnload)({\n    enabled: qtState.preferences.browser.confirm_on_refresh_close,\n    isNewTab: qtState.is_new_tab,\n    beforeClose: () => {\n      eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.WARN_SAVE_DATA_CLOSE);\n    },\n    closePanel: () => {\n      qtPanelDocker.close(qtPanelId, true);\n    }\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    getSQLScript();\n    initializeQueryTool();\n    eventBus.current.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.REINIT_QT_CONNECTION, initializeQueryTool);\n    eventBus.current.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.FOCUS_PANEL, qtPanelId => {\n      docker.current.focus(qtPanelId);\n    });\n    eventBus.current.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.SET_CONNECTION_STATUS, status => {\n      setQtStatePartial({\n        connection_status: status\n      });\n    });\n    eventBus.current.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.FORCE_CLOSE_PANEL, () => {\n      forceClose();\n    });\n    qtPanelDocker.eventBus.registerListener(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LAYOUT_EVENTS.CLOSING, id => {\n      if (qtPanelId == id) {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.WARN_SAVE_DATA_CLOSE);\n      }\n    });\n    qtPanelDocker.eventBus.registerListener(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__.LAYOUT_EVENTS.ACTIVE, lodash__WEBPACK_IMPORTED_MODULE_2___default().debounce(currentTabId => {\n      /* Focus the appropriate panel on visible */\n      if (qtPanelId == currentTabId) {\n        setQtStatePartial({\n          is_visible: true\n        });\n        if (docker.current.isTabVisible(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.QUERY)) {\n          docker.current.focus(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.QUERY);\n        } else if (docker.current.isTabVisible(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.HISTORY)) {\n          docker.current.focus(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.HISTORY);\n        }\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.GOTO_LAST_SCROLL);\n      } else {\n        setQtStatePartial({\n          is_visible: false\n        });\n      }\n    }, 100));\n\n    /* If the tab or window is not visible, applicable for open in new tab */\n    document.addEventListener('visibilitychange', function () {\n      if (document.hidden) {\n        setQtStatePartial({\n          is_visible: false\n        });\n      } else {\n        setQtStatePartial({\n          is_visible: true\n        });\n      }\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_28__[\"default\"].subscribe(state => {\n    setQtStatePartial({\n      preferences: {\n        browser: state.getPreferencesForModule('browser'),\n        sqleditor: _objectSpread(_objectSpread({}, state.getPreferencesForModule('sqleditor')), FIXED_PREF),\n        graphs: state.getPreferencesForModule('graphs'),\n        misc: state.getPreferencesForModule('misc')\n      }\n    });\n  }), []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const closeConn = () => {\n      /* Using fetch with keepalive as the browser may\r\n      cancel the axios request on tab close. keepalive will\r\n      make sure the request is completed */\n      (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_11__.callFetch)(sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('sqleditor.close', {\n        'trans_id': qtState.params.trans_id\n      }), {\n        keepalive: true,\n        method: 'DELETE'\n      }).then(() => {/* Success */}).catch(err => console.error(err));\n    };\n    window.addEventListener('unload', closeConn);\n    const pushHistory = h => {\n      // Do not store query text if max lenght exceeds.\n      if (h?.query?.length > _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.MAX_QUERY_LENGTH) {\n        h = _objectSpread(_objectSpread({}, h), {}, {\n          query: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()(`-- Query text not stored as it exceeds maximum length of ${_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.MAX_QUERY_LENGTH}`)\n        });\n      }\n      api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('sqleditor.add_query_history', {\n        'trans_id': qtState.params.trans_id\n      }), JSON.stringify(h)).catch(error => {\n        console.error(error);\n      });\n    };\n    eventBus.current.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.PUSH_HISTORY, pushHistory);\n    return () => {\n      eventBus.current.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.PUSH_HISTORY, pushHistory);\n      window.removeEventListener('unload', closeConn);\n    };\n  }, [qtState.params.trans_id]);\n  const handleApiError = (error, handleParams) => {\n    if (error.response?.status == 503 && error.response.data?.info == 'CONNECTION_LOST') {\n      // We will display re-connect dialog, no need to display error message again\n      modal.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Connection Warning'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('The application has lost the database connection:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()(' If the connection was idle it may have been forcibly disconnected.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()(' The application server or database server may have been restarted.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()(' The user session may have timed out.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Do you want to continue and establish a new session'))), function () {\n        handleParams?.connectionLostCallback?.();\n      }, null, sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Continue'), sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Cancel'));\n    } else if (handleParams?.checkTransaction && error.response?.data.info == 'DATAGRID_TRANSACTION_REQUIRED') {\n      let selectedConn = lodash__WEBPACK_IMPORTED_MODULE_2___default().find(qtState.connection_list, c => c.is_selected);\n      initConnection(api, {\n        'gid': selectedConn.sgid,\n        'sid': selectedConn.sid,\n        'did': selectedConn.did,\n        'role': selectedConn.role\n      }).then(() => {\n        initializeQueryTool();\n      }).catch(err => {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, err);\n      });\n    } else if (error.response?.status == 403 && error.response?.data.info == 'ACCESS_DENIED') {\n      pgAdmin.Browser.notifier.error(error.response.data.errormsg);\n    } else {\n      let msg = (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_11__.parseApiError)(error);\n      eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.SET_MESSAGE, msg, true);\n      eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.MESSAGES);\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const fileDone = function (fileName) {\n      let success = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (success) {\n        setQtStatePartial({\n          current_file: fileName\n        });\n        isDirtyRef.current = false;\n        setPanelTitle(qtPanelDocker, qtPanelId, fileName, _objectSpread(_objectSpread({}, qtState), {}, {\n          current_file: fileName\n        }), isDirtyRef.current);\n      }\n      eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.EDITOR_LAST_FOCUS);\n    };\n    const events = [[_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.TRIGGER_LOAD_FILE, function () {\n      let openInNewTab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      let fileParams = {\n        'supported_types': ['sql', '*'],\n        // file types allowed\n        'dialog_type': 'open_file' // open select file dialog\n      };\n      if (openInNewTab) {\n        pgAdmin.Tools.FileManager.show(fileParams, (fileName, storage) => {\n          onNewQueryToolClick(null, fileName, storage);\n        }, null, modal, openInNewTab);\n      } else {\n        pgAdmin.Tools.FileManager.show(fileParams, (fileName, storage) => {\n          eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.LOAD_FILE, fileName, storage);\n        }, null, modal);\n      }\n    }], [_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_FILE, function () {\n      let isSaveAs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (!isSaveAs && qtState.current_file) {\n        eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.SAVE_FILE, qtState.current_file);\n      } else {\n        let fileParams = {\n          'supported_types': ['sql', '*'],\n          'dialog_type': 'create_file',\n          'dialog_title': 'Save File',\n          'btn_primary': 'Save'\n        };\n        pgAdmin.Tools.FileManager.show(fileParams, fileName => {\n          eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.SAVE_FILE, fileName);\n        }, null, modal);\n      }\n    }], [_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.LOAD_FILE_DONE, fileDone], [_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.SAVE_FILE_DONE, fileDone], [_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.QUERY_CHANGED, isDirty => {\n      isDirtyRef.current = isDirty;\n      if (qtState.params.is_query_tool) {\n        setPanelTitle(qtPanelDocker, qtPanelId, null, qtState, isDirty);\n      }\n    }], [_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, handleApiError]];\n    events.forEach(e => {\n      eventBus.current.registerListener(e[0], e[1]);\n    });\n    return () => {\n      events.forEach(e => {\n        eventBus.current.deregisterListener(e[0], e[1]);\n      });\n    };\n  }, [qtState.params, qtState.current_file]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    /* Fire query change so that title changes to latest */\n    eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.TRIGGER_QUERY_CHANGE);\n  }, [qtState.params.title]);\n  const connectServerModal = async (modalData, connectCallback, cancelCallback) => {\n    modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Connect to server'), closeModal => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_Dialogs_ConnectServerContent__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n        closeModal: () => {\n          cancelCallback?.();\n          closeModal();\n        },\n        data: modalData,\n        onOK: formData => {\n          connectCallback(Object.fromEntries(formData));\n          closeModal();\n        }\n      });\n    }, {\n      onClose: cancelCallback\n    });\n  };\n  const updateQueryToolConnection = function (connectionData) {\n    let isNew = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let currSelectedConn = lodash__WEBPACK_IMPORTED_MODULE_2___default().find(qtState.connection_list, c => c.is_selected);\n    let currConnected = qtState.connected;\n    const selectConn = function (newConnData) {\n      let connected = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      let obtainingConn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      setQtStatePartial(prevQtState => {\n        let newConnList = [...prevQtState.connection_list];\n        /* If new, add to the list */\n        if (isNew) {\n          newConnList.push(newConnData);\n        }\n        for (const connItem of newConnList) {\n          if (newConnData.sid == connItem.sid && newConnData.did == connItem.did && newConnData.user == connItem.user && newConnData.role == connItem.role) {\n            connItem.is_selected = true;\n          } else {\n            connItem.is_selected = false;\n          }\n        }\n        return {\n          connection_list: newConnList,\n          obtaining_conn: obtainingConn,\n          connected: connected\n        };\n      });\n    };\n    /* If not new, select it initially to show loading */\n    if (!isNew) {\n      selectConn(connectionData);\n    }\n    return new Promise((resolve, reject) => {\n      api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('sqleditor.update_sqleditor_connection', {\n        trans_id: qtState.params.trans_id,\n        sgid: connectionData.sgid,\n        sid: connectionData.sid,\n        did: connectionData.did\n      }), connectionData).then(_ref2 => {\n        let {\n          data: respData\n        } = _ref2;\n        if (isNew) {\n          selectConn(connectionData);\n        }\n        setQtStatePartial(prev => {\n          return {\n            params: _objectSpread(_objectSpread({}, prev.params), {}, {\n              trans_id: respData.data.trans_id,\n              server_name: connectionData.server_name,\n              database_name: connectionData.database_name,\n              dbname: connectionData.database_name,\n              user: connectionData.user,\n              sid: connectionData.sid,\n              did: connectionData.did,\n              title: connectionData.title,\n              fgcolor: connectionData.fgcolor,\n              bgcolor: connectionData.bgcolor\n            }),\n            connected: Boolean(respData.data.trans_id),\n            obtaining_conn: false\n          };\n        });\n        setPanelTitle(qtPanelDocker, qtPanelId, connectionData.title, qtState, isDirtyRef.current);\n        let msg = `${connectionData['server_name']}/${connectionData['database_name']} - Database connected`;\n        pgAdmin.Browser.notifier.success(lodash__WEBPACK_IMPORTED_MODULE_2___default().escape(msg));\n        resolve();\n      }).catch(error => {\n        if (error?.response?.status == 428) {\n          connectServerModal(error.response?.data?.result, passwordData => {\n            resolve(updateQueryToolConnection(_objectSpread(_objectSpread({}, connectionData), passwordData), isNew));\n          }, () => {\n            /*This is intentional (SonarQube)*/\n          });\n        } else {\n          selectConn(currSelectedConn, currConnected, false);\n          reject(error instanceof Error ? error : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Something went wrong')));\n        }\n      });\n    });\n  };\n  const onNewConnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    const onClose = () => docker.current.close('new-conn');\n    docker.current.openDialog({\n      id: 'new-conn',\n      title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Add New Connection'),\n      content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dialogs_NewConnectionDialog__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n        onSave: (_isNew, data) => {\n          return new Promise((resolve, reject) => {\n            let connectionData = {\n              sgid: 0,\n              sid: data.sid,\n              did: data.did,\n              user: data.user,\n              role: data.role,\n              password: data.password,\n              title: (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getTitle)(pgAdmin, qtState.preferences.browser, null, false, data.server_name, data.database_name, data.role || data.user, true),\n              conn_title: (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getTitle)(pgAdmin, null, null, true, data.server_name, data.database_name, data.role || data.user, true),\n              server_name: data.server_name,\n              database_name: data.database_name,\n              bgcolor: data.bgcolor,\n              fgcolor: data.fgcolor,\n              is_selected: true\n            };\n            let existIdx = lodash__WEBPACK_IMPORTED_MODULE_2___default().findIndex(qtState.connection_list, conn => {\n              conn.role = conn.role == '' ? null : conn.role;\n              return conn.sid == connectionData.sid && conn.database_name == connectionData.database_name && conn.user == connectionData.user && conn.role == connectionData.role;\n            });\n            if (existIdx > -1) {\n              reject(new Error(sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Connection with this configuration already present.')));\n              return;\n            }\n            updateQueryToolConnection(connectionData, true).catch(err => {\n              reject(err instanceof Error ? err : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Something went wrong')));\n            }).then(() => {\n              resolve();\n              onClose();\n            });\n          });\n        },\n        onClose: onClose\n      })\n    });\n  }, [qtState.preferences.browser, qtState.connection_list, qtState.params]);\n  const onNewQueryToolClick = (event, fileName, storage) => {\n    const transId = _static_js_utils__WEBPACK_IMPORTED_MODULE_18__.getRandomInt(1, 9999999);\n    let selectedConn = lodash__WEBPACK_IMPORTED_MODULE_2___default().find(qtState.connection_list, c => c.is_selected);\n    let parentData = {\n      server_group: {\n        _id: selectedConn.sgid || 0\n      },\n      server: {\n        _id: selectedConn.sid,\n        server_type: qtState.params.server_type\n      },\n      database: {\n        _id: selectedConn.did,\n        label: selectedConn.database_name,\n        _label: selectedConn.database_name\n      }\n    };\n    const gridUrl = _show_query_tool__WEBPACK_IMPORTED_MODULE_23__.generateUrl(transId, parentData, null);\n    const title = (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getTitle)(pgAdmin, qtState.preferences.browser, null, false, selectedConn.server_name, selectedConn.database_name, selectedConn.role || selectedConn.user);\n    _show_query_tool__WEBPACK_IMPORTED_MODULE_23__.launchQueryTool(pgWindow.pgAdmin.Tools.SQLEditor, transId, gridUrl, title, {\n      user: selectedConn.user,\n      role: selectedConn.role,\n      fileName: fileName,\n      storage: storage\n    });\n  };\n  const onManageMacros = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    const onClose = () => docker.current.close('manage-macros');\n    docker.current.openDialog({\n      id: 'manage-macros',\n      title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Manage Macros'),\n      content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dialogs_MacrosDialog__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n        onSave: newMacros => {\n          setQtStatePartial(prev => {\n            return {\n              params: _objectSpread(_objectSpread({}, prev.params), {}, {\n                macros: newMacros\n              })\n            };\n          });\n        },\n        onClose: onClose\n      })\n    }, 850, 500);\n  }, [qtState.preferences.browser]);\n  const onAddToMacros = () => {\n    if (selectedText) {\n      let currMacros = qtState.params.macros;\n      const existingNames = currMacros.map(macro => macro.name);\n      const newName = getRandomName(existingNames);\n      let changed = [{\n        'name': newName,\n        'sql': selectedText\n      }];\n      api.put(sources_url_for__WEBPACK_IMPORTED_MODULE_12___default()('sqleditor.set_macros', {\n        'trans_id': qtState.params.trans_id\n      }), {\n        changed: changed\n      }).then(_ref3 => {\n        let {\n          data: respData\n        } = _ref3;\n        const filteredData = respData.filter(m => Boolean(m.name));\n        setQtStatePartial(prev => _objectSpread(_objectSpread({}, prev), {}, {\n          params: _objectSpread(_objectSpread({}, prev.params), {}, {\n            macros: filteredData\n          })\n        }));\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n    setSelectedText('');\n  };\n  const onFilterClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    const onClose = () => docker.current.close('filter-dialog');\n    docker.current.openDialog({\n      id: 'filter-dialog',\n      title: sources_gettext__WEBPACK_IMPORTED_MODULE_16___default()('Sort/Filter options'),\n      content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dialogs_FilterDialog__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n        onSave: () => {\n          onClose();\n          eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION);\n        },\n        onClose: onClose\n      })\n    }, 700, 400);\n  }, [qtState.preferences.browser]);\n  const onResetLayout = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    docker.current?.resetLayout();\n    eventBus.current.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.QUERY);\n  }, []);\n  const queryToolContextValue = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(() => ({\n    docker: docker.current,\n    api: api,\n    modal: modal,\n    params: qtState.params,\n    preferences: qtState.preferences,\n    mainContainerRef: containerRef,\n    editor_disabled: qtState.editor_disabled,\n    eol: qtState.eol,\n    toggleQueryTool: () => setQtStatePartial(prev => {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        params: _objectSpread(_objectSpread({}, prev.params), {}, {\n          is_query_tool: true\n        })\n      });\n    }),\n    updateTitle: title => {\n      setPanelTitle(qtPanelDocker, qtPanelId, title, qtState, isDirtyRef.current);\n      setQtStatePartial(prev => {\n        // Update connection Title\n        let newConnList = [...prev.connection_list];\n        newConnList.forEach(conn => {\n          if (conn.sgid == params.sgid && conn.sid == params.sid && conn.did == params.did) {\n            conn.title = title;\n            conn.conn_title = title;\n          }\n        });\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          params: _objectSpread(_objectSpread({}, prev.params), {}, {\n            title: title\n          }),\n          connection_list: newConnList\n        });\n      });\n    }\n  }), [qtState.params, qtState.preferences, containerRef.current, qtState.editor_disabled, qtState.eol]);\n  const queryToolConnContextValue = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(() => ({\n    connected: qtState.connected,\n    obtainingConn: qtState.obtaining_conn,\n    connectionStatus: qtState.connection_status\n  }), [qtState]);\n\n  /* Push only those things in context which do not change frequently */\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(QueryToolContext.Provider, {\n    value: queryToolContextValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(QueryToolConnectionContext.Provider, {\n    value: queryToolConnContextValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(QueryToolEventsContext.Provider, {\n    value: eventBus.current\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: \"1\",\n    tabIndex: \"0\",\n    ref: containerRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_ConnectionBar__WEBPACK_IMPORTED_MODULE_6__.ConnectionBar, {\n    connected: qtState.connected,\n    connecting: qtState.obtaining_conn,\n    connectionStatus: qtState.connection_status,\n    connectionStatusMsg: qtState.connection_status_msg,\n    connectionList: qtState.connection_list,\n    onConnectionChange: connectionData => updateQueryToolConnection(connectionData),\n    onNewConnClick: onNewConnClick,\n    onNewQueryToolClick: onNewQueryToolClick,\n    onResetLayout: onResetLayout,\n    docker: docker.current,\n    containerRef: containerRef\n  }), react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(() => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_MainToolBar__WEBPACK_IMPORTED_MODULE_9__.MainToolBar, {\n    containerRef: containerRef,\n    onManageMacros: onManageMacros,\n    onAddToMacros: onAddToMacros,\n    onFilterClick: onFilterClick\n  }), [containerRef.current, onManageMacros, onFilterClick, onAddToMacros]), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    getLayoutInstance: obj => docker.current = obj,\n    defaultLayout: defaultLayout,\n    layoutId: \"SQLEditor/Layout\",\n    savedLayout: params.layout,\n    resetToTabPanel: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_13__.PANELS.MESSAGES\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_sections_StatusBar__WEBPACK_IMPORTED_MODULE_8__.StatusBar, {\n    eol: qtState.eol,\n    handleEndOfLineChange: handleEndOfLineChange\n  })))));\n}\nQueryToolComponent.propTypes = {\n  params: prop_types__WEBPACK_IMPORTED_MODULE_30___default().shape({\n    trans_id: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().number).isRequired,\n    sgid: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    sid: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    did: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    server_type: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    title: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string).isRequired,\n    bgcolor: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    fgcolor: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    is_query_tool: prop_types__WEBPACK_IMPORTED_MODULE_30___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_30___default().bool), (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)]).isRequired,\n    user: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    role: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    server_name: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    database_name: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    layout: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    fileName: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n    storage: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string)\n  }),\n  pgWindow: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object).isRequired,\n  pgAdmin: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object).isRequired,\n  selectedNodeInfo: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object),\n  qtPanelDocker: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().object),\n  qtPanelId: (prop_types__WEBPACK_IMPORTED_MODULE_30___default().string),\n  eventBusObj: prop_types__WEBPACK_IMPORTED_MODULE_30___default().objectOf(_static_js_helpers_EventBus__WEBPACK_IMPORTED_MODULE_4__[\"default\"])\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/CopyData.js":
/*!************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/CopyData.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CopyData)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var json_bignumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! json-bignumber */ \"./node_modules/json-bignumber/dist/JSONBigNumber.min.js\");\n/* harmony import */ var json_bignumber__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(json_bignumber__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _static_js_clipboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/clipboard */ \"./pgadmin/static/js/clipboard.js\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\nclass CopyData {\n  constructor(options) {\n    this.CSVOptions = _objectSpread({\n      field_separator: '\\t',\n      quote_char: '\"',\n      quoting: 'strings'\n    }, options);\n  }\n  setCSVOptions(options) {\n    this.CSVOptions = _objectSpread(_objectSpread({}, this.CSVOptions), options);\n  }\n  copyRowsToCsv() {\n    let rows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let columns = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let withHeaders = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let csvRows = rows.reduce((prevCsvRows, currRow) => {\n      let csvRow = columns.reduce((prevCsvCols, column) => {\n        prevCsvCols.push(this.csvCell(currRow[column.key], column));\n        return prevCsvCols;\n      }, []).join(this.CSVOptions.field_separator);\n      prevCsvRows.push(csvRow);\n      return prevCsvRows;\n    }, []);\n    if (withHeaders) {\n      let csvRow = columns.reduce((prevCsvCols, column) => {\n        prevCsvCols.push(this.csvCell(column.name, column, true));\n        return prevCsvCols;\n      }, []).join(this.CSVOptions.field_separator);\n      csvRows.unshift(csvRow);\n    }\n    _static_js_clipboard__WEBPACK_IMPORTED_MODULE_3__.copyToClipboard(csvRows.join('\\n'));\n    localStorage.setItem('copied-with-headers', withHeaders);\n    /* Push actual row to storage, can be used to identify null columns */\n    localStorage.setItem('copied-rows', JSON.stringify(rows));\n  }\n  escape(iStr) {\n    return this.CSVOptions.quote_char == '\"' ? iStr.replace(/\\\"/g, '\"\"') : iStr.replace(/\\'/g, '\\'\\'');\n  }\n  allQuoteCell(value) {\n    if (value && lodash__WEBPACK_IMPORTED_MODULE_2___default().isObject(value)) {\n      value = this.CSVOptions.quote_char + json_bignumber__WEBPACK_IMPORTED_MODULE_1___default().stringify(value) + this.CSVOptions.quote_char;\n    } else if (value) {\n      value = this.CSVOptions.quote_char + this.escape(value.toString()) + this.CSVOptions.quote_char;\n    } else if (lodash__WEBPACK_IMPORTED_MODULE_2___default().isNull(value) || lodash__WEBPACK_IMPORTED_MODULE_2___default().isUndefined(value)) {\n      value = '';\n    }\n    return value;\n  }\n  stringQuoteCell(value, column) {\n    if (value && lodash__WEBPACK_IMPORTED_MODULE_2___default().isObject(value)) {\n      value = this.CSVOptions.quote_char + json_bignumber__WEBPACK_IMPORTED_MODULE_1___default().stringify(value) + this.CSVOptions.quote_char;\n    } else if (value && column.cell != 'number' && column.cell != 'boolean') {\n      value = this.CSVOptions.quote_char + this.escape(value.toString()) + this.CSVOptions.quote_char;\n    } else if (column.cell == 'string' && lodash__WEBPACK_IMPORTED_MODULE_2___default().isNull(value)) {\n      value = null;\n    } else if (lodash__WEBPACK_IMPORTED_MODULE_2___default().isNull(value) || lodash__WEBPACK_IMPORTED_MODULE_2___default().isUndefined(value)) {\n      value = '';\n    }\n    return value;\n  }\n  csvCell(value, column) {\n    let header = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (this.CSVOptions.quoting == 'all' || header) {\n      value = this.allQuoteCell(value);\n    } else if (this.CSVOptions.quoting == 'strings') {\n      value = this.stringQuoteCell(value, column);\n    }\n    return value;\n  }\n  getCopiedRows() {\n    let copiedText = _static_js_clipboard__WEBPACK_IMPORTED_MODULE_3__.getFromClipboard();\n    let copiedRows = (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_4__.CSVToArray)(copiedText, this.CSVOptions.field_separator, this.CSVOptions.quote_char);\n    if (localStorage.getItem('copied-with-headers') == 'true') {\n      copiedRows = copiedRows.slice(1);\n    }\n    return copiedRows;\n  }\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/CopyData.js?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Editors.jsx":
/*!************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Editors.jsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckboxEditor: () => (/* binding */ CheckboxEditor),\n/* harmony export */   JsonTextEditor: () => (/* binding */ JsonTextEditor),\n/* harmony export */   NumberEditor: () => (/* binding */ NumberEditor),\n/* harmony export */   TextEditor: () => (/* binding */ TextEditor),\n/* harmony export */   setEditorPosition: () => (/* binding */ setEditorPosition)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Portal/Portal.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/icons-material/CheckRounded */ \"./node_modules/@mui/icons-material/esm/CheckRounded.js\");\n/* harmony import */ var _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/icons-material/Close */ \"./node_modules/@mui/icons-material/esm/Close.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var json_bignumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! json-bignumber */ \"./node_modules/json-bignumber/dist/JSONBigNumber.min.js\");\n/* harmony import */ var json_bignumber__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(json_bignumber__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _static_js_components_JsonEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../static/js/components/JsonEditor */ \"./pgadmin/static/js/components/JsonEditor.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! . */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/index.jsx\");\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n/* harmony import */ var _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../static/js/custom_prop_types */ \"./pgadmin/static/js/custom_prop_types.js\");\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n\n\n\nconst _excluded = [\"columnIndex\", \"children\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledEditorDiv = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '&.Editors-textEditor': _objectSpread(_objectSpread({\n      position: 'absolute',\n      zIndex: 1080,\n      backgroundColor: theme.palette.background.default,\n      padding: '0.25rem',\n      fontSize: '12px'\n    }, theme.mixins.panelBorder.all), {}, {\n      left: 0,\n      top: 0,\n      '& textarea': {\n        width: '250px',\n        height: '80px',\n        border: 0,\n        outline: 0,\n        resize: 'both',\n        '& .Editors-textarea': {\n          resize: 'both'\n        }\n      }\n    }),\n    '& .Editors-input': {\n      appearance: 'none',\n      width: '100%',\n      height: '100%',\n      verticalAlign: 'top',\n      outline: 'none',\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      border: 0,\n      boxShadow: 'inset 0 0 0 1.5px ' + theme.palette.primary.main,\n      padding: '0 2px',\n      '::selection': {\n        background: theme.palette.primary.light\n      }\n    },\n    '& .Editors-check': {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      width: '16px',\n      height: '16px',\n      border: '1px solid ' + theme.palette.grey[800],\n      margin: '3px',\n      textAlign: 'center',\n      lineHeight: '16px',\n      '&.checked, &.unchecked': {\n        background: theme.palette.grey[200]\n      },\n      '&.checked:after': {\n        content: '\\'\\\\2713\\'',\n        fontWeight: 'bold'\n      },\n      '&.intermediate': {\n        background: theme.palette.grey[200],\n        '&:after': {\n          content: '\\'\\\\003F\\'',\n          fontWeight: 'bold'\n        }\n      }\n    },\n    '&.Editors-jsonEditor': _objectSpread(_objectSpread({\n      position: 'absolute',\n      zIndex: 1080,\n      backgroundColor: theme.palette.background.default\n    }, theme.mixins.panelBorder), {}, {\n      padding: '0.25rem',\n      '& .jsoneditor-div': _objectSpread(_objectSpread({\n        fontSize: '12px',\n        minWidth: '525px',\n        minHeight: '300px'\n      }, theme.mixins.panelBorder.all), {}, {\n        outline: 0,\n        resize: 'both',\n        overflow: 'hidden'\n      }),\n      '& .jsoneditor': {\n        height: 'abc',\n        border: 'none',\n        '& .ace-jsoneditor .ace_marker-layer .ace_active-line': {\n          background: theme.palette.primary.light\n        }\n      }\n    }),\n    '& .Editors-buttonMargin': {\n      marginLeft: '0.5rem'\n    }\n  };\n});\nconst ResizableDiv = _ref2 => {\n  let {\n      columnIndex,\n      children\n    } = _ref2,\n    otherProps = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref2, _excluded);\n  const editorRef = react__WEBPACK_IMPORTED_MODULE_3___default().useRef(null);\n  const {\n    getCellElement\n  } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(___WEBPACK_IMPORTED_MODULE_8__.RowInfoContext);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    // Function to check if element is going outsied browser window on resize\n    // and set the height/width to keep it within the browser window.\n    const resizeEditor = () => {\n      const {\n        innerHeight,\n        innerWidth\n      } = window;\n      const box = editorRef.current.getBoundingClientRect();\n      let currentHeight = parseInt(editorRef.current.firstChild.style.height);\n      let heightDiff = parseInt(box.bottom) - innerHeight;\n      let currentWidth = parseInt(editorRef.current.firstChild.style.width);\n      let widthDiff = parseInt(box.right) - innerWidth;\n      if (box.bottom > innerHeight) {\n        editorRef.current.firstChild.style.height = `${currentHeight - heightDiff - 20}px`;\n      }\n      if (box.right > innerWidth) {\n        editorRef.current.firstChild.style.width = `${currentWidth - widthDiff - 20}px`;\n      }\n    };\n    editorRef.current.addEventListener('mousedown', () => {\n      document.addEventListener('mouseup', resizeEditor, {\n        once: true\n      });\n    });\n    return () => document.removeEventListener('mouseup', resizeEditor);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(StyledEditorDiv, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    ref: ele => {\n      editorRef.current = ele;\n      setEditorPosition(getCellElement(columnIndex), ele, '.rdg', 12);\n    }\n  }, otherProps), children);\n};\nResizableDiv.displayName = 'ResizableDiv';\nResizableDiv.propTypes = {\n  children: _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_10__[\"default\"].children,\n  columnIndex: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number)\n};\nfunction autoFocusAndSelect(input) {\n  input?.focus();\n  input?.select();\n}\nfunction isValidArray(val) {\n  val = val?.trim();\n  return !(val != '' && (val.charAt(0) != '{' || val.charAt(val.length - 1) != '}'));\n}\nfunction setEditorPosition(cellEle, editorEle, closestEle, topValue) {\n  if (!editorEle || !cellEle) {\n    return;\n  }\n  /* Once the position is set, then don't change it */\n  if (editorEle.style.left || editorEle.style.top) {\n    return;\n  }\n  let gridEle = cellEle.closest(closestEle);\n  let cellRect = cellEle.getBoundingClientRect();\n  let gridEleRect = gridEle.getBoundingClientRect();\n  let position = {\n    left: cellRect.left,\n    top: Math.max(cellRect.top - editorEle.offsetHeight + topValue, 0)\n  };\n  if (position.left + editorEle.offsetWidth + 10 > gridEle.offsetWidth) {\n    position.left -= position.left + editorEle.offsetWidth - gridEle.offsetWidth + 10;\n  }\n  if (cellRect.left > gridEleRect.left && gridEleRect.left !== 0) {\n    position.left = cellRect.left - editorEle.offsetWidth + 20;\n  }\n  if (cellRect.left < gridEleRect.left) {\n    position.left = gridEleRect.left + 10;\n  }\n  editorEle.style.left = `${Math.abs(position.left)}px`;\n  editorEle.style.top = `${position.top}px`;\n}\nconst EditorPropTypes = {\n  row: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),\n  column: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),\n  onRowChange: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func)\n};\nfunction textColumnFinalVal(columnVal, column) {\n  if (columnVal === '') {\n    columnVal = null;\n  } else if (!column.is_array) {\n    if (columnVal === '\\'\\'' || columnVal === '\"\"') {\n      columnVal = '';\n    } else if (columnVal === '\\\\\\'\\\\\\'') {\n      columnVal = '\\'\\'';\n    } else if (columnVal === '\\\\\"\\\\\"') {\n      columnVal = '\"\"';\n    }\n  }\n  return columnVal;\n}\nfunction suppressEnterKey(e) {\n  if (e.keyCode == 13) {\n    e.stopPropagation();\n  }\n}\nfunction TextEditor(_ref3) {\n  let {\n    row,\n    column,\n    onRowChange,\n    onClose\n  } = _ref3;\n  const value = row[column.key] ?? '';\n  const [localVal, setLocalVal] = react__WEBPACK_IMPORTED_MODULE_3___default().useState(value);\n  const pgAdmin = (0,_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_9__.usePgAdmin)();\n  const onChange = react__WEBPACK_IMPORTED_MODULE_3___default().useCallback(e => {\n    setLocalVal(e.target.value);\n  }, []);\n  const onOK = () => {\n    if (column.is_array && !isValidArray(localVal)) {\n      pgAdmin.Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Arrays must start with \"{\" and end with \"}\"'));\n    } else {\n      if (value == localVal) {\n        onClose(false);\n        return;\n      }\n      let columnVal = textColumnFinalVal(localVal, column);\n      onRowChange(_objectSpread(_objectSpread({}, row), {}, {\n        [column.key]: columnVal\n      }), true);\n      onClose();\n    }\n  };\n  const onkeydown = e => {\n    // If only the Enter key is pressed, then save the changes.\n    if (e.keyCode == 13 && !e.shiftKey) {\n      onOK();\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    container: document.body\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ResizableDiv, {\n    columnIndex: column.idx,\n    className: \"Editors-textEditor\",\n    \"data-label\": \"pg-editor\",\n    onKeyDown: suppressEnterKey\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"textarea\", {\n    ref: autoFocusAndSelect,\n    className: \"Editors-textarea\",\n    value: localVal,\n    onChange: onChange,\n    onKeyDown: onkeydown\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.DefaultButton, {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null),\n    onClick: () => onClose(false),\n    size: \"small\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Cancel')), column.can_edit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PrimaryButton, {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null),\n    onClick: onOK,\n    size: \"small\",\n    className: \"Editors-buttonMargin\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('OK')))));\n}\nTextEditor.propTypes = EditorPropTypes;\nfunction NumberEditor(_ref4) {\n  let {\n    row,\n    column,\n    onRowChange,\n    onClose\n  } = _ref4;\n  const pgAdmin = (0,_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_9__.usePgAdmin)();\n  const value = row[column.key] ?? '';\n  const isValidData = () => {\n    if (!column.is_array && isNaN(value)) {\n      pgAdmin.Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Please enter a valid number'));\n      return false;\n    } else if (column.is_array) {\n      if (!isValidArray(value)) {\n        pgAdmin.Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Arrays must start with \"{\" and end with \"}\"'));\n        return false;\n      }\n      let checkVal = value.trim().slice(1, -1);\n      if (checkVal == '') {\n        checkVal = [];\n      } else {\n        checkVal = checkVal.split(',');\n      }\n      for (const val of checkVal) {\n        if (isNaN(val)) {\n          pgAdmin.Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Arrays must start with \"{\" and end with \"}\"'));\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  const onBlur = () => {\n    if (isValidData()) {\n      onClose(column.can_edit);\n      return true;\n    }\n    return false;\n  };\n  const onKeyDown = e => {\n    if (e.code === 'Tab' || e.code === 'Enter') {\n      e.preventDefault();\n      if (!onBlur()) {\n        e.stopPropagation();\n      }\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(StyledEditorDiv, {\n    height: '100%'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"input\", {\n    className: \"Editors-input\",\n    ref: autoFocusAndSelect,\n    value: value,\n    onChange: e => {\n      if (column.can_edit) {\n        onRowChange(_objectSpread(_objectSpread({}, row), {}, {\n          [column.key]: e.target.value == '' ? null : e.target.value\n        }));\n      }\n    },\n    onBlur: onBlur,\n    onKeyDown: onKeyDown\n  }));\n}\nNumberEditor.propTypes = EditorPropTypes;\nfunction CheckboxEditor(_ref5) {\n  let {\n    row,\n    column,\n    onRowChange,\n    onClose\n  } = _ref5;\n  const value = row[column.key] ?? null;\n  const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  const changeValue = () => {\n    if (!column.can_edit) {\n      return;\n    }\n    let newVal = true;\n    if (value) {\n      newVal = false;\n    } else if (value != null && !value) {\n      newVal = null;\n    }\n    onRowChange(_objectSpread(_objectSpread({}, row), {}, {\n      [column.key]: newVal\n    }));\n  };\n  const onBlur = () => {\n    onClose(true);\n  };\n  let className = 'checked';\n  if (!value && value != null) {\n    className = 'unchecked';\n  } else if (value == null) {\n    className = 'intermediate';\n  }\n  const onSpaceHit = e => {\n    if (e.code === 'Space') {\n      e.preventDefault();\n      e.stopPropagation();\n      changeValue();\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n    containerRef.current.focus();\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(StyledEditorDiv, {\n    ref: containerRef,\n    onClick: changeValue,\n    onKeyDown: onSpaceHit,\n    tabIndex: \"0\",\n    onBlur: onBlur,\n    \"data-label\": \"pg-checkbox-editor\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", {\n    className: ['Editors-check', className].join(' ')\n  }));\n}\nCheckboxEditor.propTypes = EditorPropTypes;\nfunction JsonTextEditor(_ref6) {\n  let {\n    row,\n    column,\n    onRowChange,\n    onClose\n  } = _ref6;\n  const pgAdmin = (0,_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_9__.usePgAdmin)();\n  const value = react__WEBPACK_IMPORTED_MODULE_3___default().useMemo(() => {\n    let newVal = row[column.key] ?? null;\n    /* If jsonb or array */\n    if (column.column_type_internal === 'jsonb' && !Array.isArray(newVal) && newVal != null) {\n      newVal = json_bignumber__WEBPACK_IMPORTED_MODULE_6___default().stringify(json_bignumber__WEBPACK_IMPORTED_MODULE_6___default().parse(newVal), null, 2);\n    } else if (Array.isArray(newVal)) {\n      let temp = newVal.map(ele => {\n        if (typeof ele === 'object') {\n          return json_bignumber__WEBPACK_IMPORTED_MODULE_6___default().stringify(ele, null, 2);\n        }\n        return ele;\n      });\n      newVal = '[' + temp.join() + ']';\n    }\n    /* set editor content to empty if value is null*/\n    if (_.isNull(newVal)) {\n      newVal = '';\n    }\n    return newVal;\n  });\n  const [localVal, setLocalVal] = react__WEBPACK_IMPORTED_MODULE_3___default().useState(value);\n  const [hasError, setHasError] = react__WEBPACK_IMPORTED_MODULE_3___default().useState(false);\n  const onChange = react__WEBPACK_IMPORTED_MODULE_3___default().useCallback(newVal => {\n    setLocalVal(newVal);\n  }, []);\n  const onOK = () => {\n    if (value == localVal) {\n      onClose(false);\n      return;\n    }\n    if (hasError) {\n      pgAdmin.Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Invalid JSON input'));\n      return;\n    }\n    onRowChange(_objectSpread(_objectSpread({}, row), {}, {\n      [column.key]: localVal\n    }), true);\n    onClose();\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    container: document.body\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ResizableDiv, {\n    columnIndex: column.idx,\n    className: \"Editors-jsonEditor\",\n    \"data-label\": \"pg-editor\",\n    onKeyDown: suppressEnterKey\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_static_js_components_JsonEditor__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    value: localVal,\n    options: {\n      onChange: onChange,\n      onValidationError: errors => {\n        setHasError(Boolean(errors.length));\n      }\n    },\n    className: 'jsoneditor-div'\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    marginTop: \"0.25rem\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.DefaultButton, {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_15__[\"default\"], null),\n    onClick: () => onClose(false),\n    size: \"small\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Cancel')), column.can_edit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PrimaryButton, {\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_16__[\"default\"], null),\n    onClick: onOK,\n    size: \"small\",\n    className: \"Editors-buttonMargin\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('OK')))));\n}\nJsonTextEditor.propTypes = EditorPropTypes;\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Editors.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Formatters.jsx":
/*!***************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Formatters.jsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryFormatter: () => (/* binding */ BinaryFormatter),\n/* harmony export */   NumberFormatter: () => (/* binding */ NumberFormatter),\n/* harmony export */   TextFormatter: () => (/* binding */ TextFormatter)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/custom_prop_types */ \"./pgadmin/static/js/custom_prop_types.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\nconst StyledNullAndDefaultFormatter = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(NullAndDefaultFormatter)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .Formatters-disabledCell': {\n      opacity: theme.palette.action.disabledOpacity\n    }\n  };\n});\nfunction NullAndDefaultFormatter(_ref2) {\n  let {\n    value,\n    column,\n    children,\n    style\n  } = _ref2;\n  if (lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(value) && column.has_default_val) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"Formatters-disabledCell\",\n      style: style\n    }, \"[default]\");\n  } else if (lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(value) && column.not_null || lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(value) || lodash__WEBPACK_IMPORTED_MODULE_1___default().isNull(value)) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"Formatters-disabledCell\",\n      style: style\n    }, \"[null]\");\n  }\n  return children;\n}\nNullAndDefaultFormatter.propTypes = {\n  value: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().any),\n  column: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),\n  children: _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_2__[\"default\"].children,\n  style: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object)\n};\nconst FormatterPropTypes = {\n  row: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),\n  column: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object)\n};\nfunction TextFormatter(_ref3) {\n  let {\n    row,\n    column\n  } = _ref3;\n  let value = row[column.key];\n  if (!lodash__WEBPACK_IMPORTED_MODULE_1___default().isNull(value) && !lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(value)) {\n    value = value.toString();\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NullAndDefaultFormatter, {\n    value: value,\n    column: column\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, value));\n}\nTextFormatter.propTypes = FormatterPropTypes;\nfunction NumberFormatter(_ref4) {\n  let {\n    row,\n    column\n  } = _ref4;\n  let value = row[column.key];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NullAndDefaultFormatter, {\n    value: value,\n    column: column,\n    style: {\n      textAlign: 'right'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    style: {\n      textAlign: 'right'\n    }\n  }, value));\n}\nNumberFormatter.propTypes = FormatterPropTypes;\nfunction BinaryFormatter(_ref5) {\n  let {\n    row,\n    column\n  } = _ref5;\n  let value = row[column.key];\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(StyledNullAndDefaultFormatter, {\n    value: value,\n    column: column\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"Formatters-disabledCell\"\n  }, \"[\", value, \"]\"));\n}\nBinaryFormatter.propTypes = FormatterPropTypes;\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Formatters.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/index.jsx":
/*!**********************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/index.jsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataGridExtrasContext: () => (/* binding */ DataGridExtrasContext),\n/* harmony export */   GRID_ROW_SELECT_KEY: () => (/* binding */ GRID_ROW_SELECT_KEY),\n/* harmony export */   ROWNUM_KEY: () => (/* binding */ ROWNUM_KEY),\n/* harmony export */   RowInfoContext: () => (/* binding */ RowInfoContext),\n/* harmony export */   \"default\": () => (/* binding */ QueryToolDataGrid)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_data_grid__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-data-grid */ \"./node_modules/react-data-grid/lib/bundle.js\");\n/* harmony import */ var _mui_icons_material_Lock__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/Lock */ \"./node_modules/@mui/icons-material/esm/Lock.js\");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/Edit */ \"./node_modules/@mui/icons-material/esm/Edit.js\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _Editors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Editors */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Editors.jsx\");\n/* harmony import */ var _Formatters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Formatters */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Formatters.jsx\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_Map__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/Map */ \"./node_modules/@mui/icons-material/esm/Map.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _static_js_components_PgReactDataGrid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../static/js/components/PgReactDataGrid */ \"./pgadmin/static/js/components/PgReactDataGrid.jsx\");\n/* harmony import */ var _static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../static/js/keyboard_shortcuts */ \"./pgadmin/static/js/keyboard_shortcuts.js\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n\n\n\nconst _excluded = [\"columns\", \"rows\", \"totalRowCount\", \"dataChangeStore\", \"onSelectedCellChange\", \"selectedColumns\", \"onSelectedColumnsChange\", \"columnWidthBy\", \"startRowNum\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ROWNUM_KEY = '$_pgadmin_rownum_key_$';\nconst GRID_ROW_SELECT_KEY = '$_pgadmin_gridrowselect_key_$';\nconst StyledPgReactDataGrid = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(_static_js_components_PgReactDataGrid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_ref => {\n  let {\n    stripedRows,\n    theme\n  } = _ref;\n  return _objectSpread(_objectSpread({\n    '& .QueryTool-columnHeader': {\n      padding: '3px 6px',\n      height: '100%',\n      display: 'flex',\n      lineHeight: '16px',\n      alignItems: 'center',\n      fontWeight: 'normal',\n      '& .QueryTool-columnName': {\n        fontWeight: 'bold'\n      },\n      backgroundColor: theme.palette.grey[600]\n    },\n    '& .QueryTool-editedCell': {\n      fontWeight: 'bold'\n    },\n    '& .QueryTool-deletedRow': {\n      '&:before': {\n        content: '\" \"',\n        position: 'absolute',\n        top: '50%',\n        left: 0,\n        borderTop: '1px solid ' + theme.palette.error.main,\n        width: '100%'\n      }\n    },\n    '& .QueryTool-rowNumCell': {\n      padding: '0px 8px',\n      color: 'inherit'\n    },\n    '& .QueryTool-colHeaderSelected': {\n      outlineColor: theme.palette.primary.main,\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n    '& .QueryTool-colSelected': {\n      outlineColor: theme.palette.primary.main,\n      backgroundColor: theme.palette.primary.light,\n      color: theme.otherVars.qtDatagridSelectFg,\n      '&.rdg-cell-copied[aria-selected=false][role=\"gridcell\"]': {\n        backgroundColor: theme.palette.primary.light + '!important'\n      }\n    }\n  }, stripedRows && {\n    '& .rdg-row.rdg-row-even': {\n      backgroundColor: theme.palette.grey[400]\n    }\n  }), {}, {\n    '& .rdg-row': {\n      '& .rdg-cell:nth-of-type(1)': {\n        backgroundColor: theme.palette.grey[600] + '!important'\n      },\n      '&[aria-selected=\"true\"] .rdg-cell:nth-of-type(1)': {\n        backgroundColor: theme.palette.primary.main + '!important',\n        color: theme.palette.primary.contrastText\n      }\n    },\n    '& .rdg-header-row': {\n      '& .rdg-cell:nth-of-type(1)': {\n        backgroundColor: theme.palette.grey[600]\n      }\n    }\n  });\n});\nconst RowInfoContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createContext();\nconst DataGridExtrasContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createContext();\nfunction CustomRow(props) {\n  const rowRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n  const dataGridExtras = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(DataGridExtrasContext);\n  const rowInfoValue = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => ({\n    getCellElement: colIdx => {\n      return rowRef.current?.querySelector(`.rdg-cell[aria-colindex=\"${colIdx + 1}\"]`);\n    }\n  }), [props.rowIdx]);\n  if (!props.isRowSelected && props.selectedCellIdx > 0) {\n    dataGridExtras.onSelectedCellChange?.([props.row, props.viewportColumns?.find(columns => columns.idx === props.selectedCellIdx)]);\n  } else if (props.selectedCellIdx == 0) {\n    dataGridExtras.onSelectedCellChange?.(null);\n  }\n  const handleKeyDown = e => {\n    dataGridExtras.handleShortcuts(e);\n    if (e.code === 'Enter' && !props.isRowSelected && props.selectedCellIdx > 0) {\n      props.selectCell(props.row, props.viewportColumns?.find(columns => columns.idx === props.selectedCellIdx), true);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(RowInfoContext.Provider, {\n    value: rowInfoValue\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(react_data_grid__WEBPACK_IMPORTED_MODULE_15__.Row, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    ref: rowRef,\n    onKeyDown: handleKeyDown\n  }, props)));\n}\nCustomRow.propTypes = {\n  rowIdx: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),\n  isRowSelected: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool),\n  selectedCellIdx: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),\n  row: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),\n  viewportColumns: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().array),\n  selectCell: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func)\n};\nfunction SelectAllHeaderRenderer(_ref2) {\n  let {\n    isCellSelected\n  } = _ref2;\n  const {\n    isRowSelected,\n    onRowSelectionChange\n  } = (0,react_data_grid__WEBPACK_IMPORTED_MODULE_15__.useHeaderRowSelection)();\n  const cellRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_9__.QueryToolEventsContext);\n  const dataGridExtras = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(DataGridExtrasContext);\n  const onClick = () => {\n    onRowSelectionChange({\n      type: 'HEADER',\n      checked: !isRowSelected\n    });\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__.QUERY_TOOL_EVENTS.ALL_PAGE_ROWS_SELECTED, !isRowSelected);\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(() => {\n    if (!isCellSelected) return;\n    cellRef.current?.focus({\n      preventScroll: true\n    });\n  }, [isCellSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n    const unregClear = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__.QUERY_TOOL_EVENTS.CLEAR_ROWS_SELECTED, () => {\n      onRowSelectionChange({\n        type: 'HEADER',\n        checked: false\n      });\n    });\n    return () => {\n      unregClear();\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n    const unregSelect = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__.QUERY_TOOL_EVENTS.TRIGGER_SELECT_ALL, () => !isRowSelected && onClick());\n    return unregSelect;\n  }, [isRowSelected]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    ref: cellRef,\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    onClick: onClick,\n    tabIndex: \"0\",\n    onKeyDown: e => dataGridExtras.handleShortcuts(e, true)\n  });\n}\nSelectAllHeaderRenderer.propTypes = {\n  isCellSelected: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool)\n};\nfunction SelectableHeaderRenderer(_ref3) {\n  let {\n    column,\n    selectedColumns,\n    onSelectedColumnsChange,\n    isCellSelected\n  } = _ref3;\n  const cellRef = (0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)();\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_9__.QueryToolEventsContext);\n  const dataGridExtras = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(DataGridExtrasContext);\n  if (isCellSelected) {\n    dataGridExtras.onSelectedCellChange?.(null);\n  }\n  const onClick = () => {\n    const newSelectedCols = new Set(selectedColumns);\n    if (newSelectedCols.has(column.idx)) {\n      newSelectedCols.delete(column.idx);\n    } else {\n      newSelectedCols.add(column.idx);\n    }\n    onSelectedColumnsChange(newSelectedCols);\n  };\n  const isSelected = selectedColumns.has(column.idx);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useLayoutEffect)(() => {\n    if (!isCellSelected) return;\n    cellRef.current?.focus({\n      preventScroll: true\n    });\n  }, [isCellSelected]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    ref: cellRef,\n    className: 'QueryTool-columnHeader ' + (isSelected ? 'QueryTool-colHeaderSelected' : null),\n    onClick: onClick,\n    tabIndex: \"0\",\n    onKeyDown: e => dataGridExtras.handleShortcuts(e, true),\n    \"data-column-key\": column.key\n  }, (column.column_type_internal == 'geometry' || column.column_type_internal == 'geography') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_8__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_10___default()('View all geometries in this column'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_Map__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n      \"data-label\": \"MapIcon\"\n    }),\n    size: \"small\",\n    style: {\n      marginRight: '0.25rem'\n    },\n    onClick: e => {\n      e.stopPropagation();\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__.QUERY_TOOL_EVENTS.TRIGGER_RENDER_GEOMETRIES, column);\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    marginRight: \"auto\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: \"QueryTool-columnName\"\n  }, column.display_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", null, column.display_type)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    marginLeft: \"4px\"\n  }, column.can_edit ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n    fontSize: \"small\",\n    style: {\n      fontSize: '0.875rem'\n    },\n    \"data-label\": \"EditIcon\"\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_Lock__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n    fontSize: \"small\",\n    style: {\n      fontSize: '0.875rem'\n    },\n    \"data-label\": \"LockIcon\"\n  })));\n}\nSelectableHeaderRenderer.propTypes = {\n  column: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),\n  selectedColumns: prop_types__WEBPACK_IMPORTED_MODULE_16___default().objectOf(Set),\n  onSelectedColumnsChange: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),\n  isCellSelected: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool)\n};\nfunction setEditorFormatter(col) {\n  // If grid is editable then add editor else make it readonly\n  if (col.cell == 'oid' && col.name == 'oid') {\n    col.renderEditCell = null;\n    col.renderCell = _Formatters__WEBPACK_IMPORTED_MODULE_7__.TextFormatter;\n  } else if (col.cell == 'Json') {\n    col.renderEditCell = _Editors__WEBPACK_IMPORTED_MODULE_6__.JsonTextEditor;\n    col.renderCell = _Formatters__WEBPACK_IMPORTED_MODULE_7__.TextFormatter;\n  } else if (['number', 'oid'].indexOf(col.cell) != -1 || ['xid', 'real'].indexOf(col.type) != -1) {\n    col.renderCell = _Formatters__WEBPACK_IMPORTED_MODULE_7__.NumberFormatter;\n    col.renderEditCell = _Editors__WEBPACK_IMPORTED_MODULE_6__.NumberEditor;\n  } else if (col.cell == 'boolean') {\n    col.renderEditCell = _Editors__WEBPACK_IMPORTED_MODULE_6__.CheckboxEditor;\n    col.renderCell = _Formatters__WEBPACK_IMPORTED_MODULE_7__.TextFormatter;\n  } else if (col.cell == 'binary') {\n    // We do not support editing binary data in SQL editor and data grid.\n    col.renderEditCell = null;\n    col.renderCell = _Formatters__WEBPACK_IMPORTED_MODULE_7__.BinaryFormatter;\n  } else {\n    col.renderEditCell = _Editors__WEBPACK_IMPORTED_MODULE_6__.TextEditor;\n    col.renderCell = _Formatters__WEBPACK_IMPORTED_MODULE_7__.TextFormatter;\n  }\n}\nfunction cellClassGetter(col, isSelected, dataChangeStore, rowKeyGetter) {\n  return row => {\n    let cellClasses = [];\n    if (dataChangeStore && rowKeyGetter) {\n      if (rowKeyGetter(row) in (dataChangeStore?.updated || {}) && !lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(dataChangeStore?.updated[rowKeyGetter(row)]?.data[col.key]) || rowKeyGetter(row) in (dataChangeStore?.added || {})) {\n        cellClasses.push('QueryTool-editedCell');\n      }\n      if (rowKeyGetter(row) in (dataChangeStore?.deleted || {})) {\n        cellClasses.push('QueryTool-deletedRow');\n      }\n    }\n    if (isSelected) {\n      cellClasses.push('QueryTool-colSelected');\n    }\n    return cellClasses.join(' ');\n  };\n}\nfunction initialiseColumns(columns, rows, totalRowCount, columnWidthBy) {\n  let retColumns = [...columns];\n  const canvas = document.createElement('canvas');\n  const canvasContext = canvas.getContext('2d');\n  canvasContext.font = '12px Roboto';\n  for (const col of retColumns) {\n    col.width = getColumnWidth(col, rows, canvasContext, columnWidthBy);\n    col.resizable = true;\n    col.editorOptions = {\n      commitOnOutsideClick: false\n    };\n    setEditorFormatter(col);\n  }\n  let rowNumWidth = canvasContext.measureText((totalRowCount || '').toString()).width;\n  /* padding 8 on both sides*/\n  rowNumWidth += 16;\n  let rowNumCol = {\n    key: ROWNUM_KEY,\n    name: '',\n    frozen: true,\n    enableResizing: false,\n    minWidth: 45,\n    width: rowNumWidth\n  };\n  rowNumCol.cellClass = cellClassGetter(rowNumCol);\n  retColumns.unshift(rowNumCol);\n  canvas.remove();\n  return retColumns;\n}\nfunction RowNumColFormatter(_ref4) {\n  let {\n    row,\n    rowKeyGetter,\n    rowIdx,\n    dataChangeStore,\n    onSelectedColumnsChange\n  } = _ref4;\n  const {\n    isRowSelected,\n    onRowSelectionChange\n  } = (0,react_data_grid__WEBPACK_IMPORTED_MODULE_15__.useRowSelection)();\n  const {\n    startRowNum\n  } = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(DataGridExtrasContext);\n  let rowKey = rowKeyGetter(row);\n  let rownum = rowIdx + (startRowNum ?? 1);\n  if (rowKey in (dataChangeStore?.added || {})) {\n    rownum = rownum + '+';\n  } else if (rowKey in (dataChangeStore?.deleted || {})) {\n    rownum = rownum + '-';\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"div\", {\n    className: \"QueryTool-rowNumCell\",\n    onClick: () => {\n      onSelectedColumnsChange(new Set());\n      onRowSelectionChange({\n        type: 'ROW',\n        row: row,\n        checked: !isRowSelected,\n        isShiftClick: false\n      });\n    },\n    onKeyDown: () => {/* already taken care by parent */}\n  }, rownum);\n}\nRowNumColFormatter.propTypes = {\n  row: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),\n  rowKeyGetter: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),\n  rowIdx: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),\n  dataChangeStore: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),\n  onSelectedColumnsChange: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func)\n};\nfunction formatColumns(columns, dataChangeStore, selectedColumns, onSelectedColumnsChange, rowKeyGetter) {\n  let retColumns = [...columns];\n  const HeaderRenderer = props => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(SelectableHeaderRenderer, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, props, {\n      selectedColumns: selectedColumns,\n      onSelectedColumnsChange: onSelectedColumnsChange\n    }));\n  };\n  for (const [idx, col] of retColumns.entries()) {\n    col.renderHeaderCell = HeaderRenderer;\n    col.cellClass = cellClassGetter(col, selectedColumns.has(idx), dataChangeStore, rowKeyGetter);\n  }\n  let rowNumCol = retColumns[0];\n  rowNumCol.renderHeaderCell = SelectAllHeaderRenderer;\n  rowNumCol.renderCell = props => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(RowNumColFormatter, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({}, props, {\n      rowKeyGetter: rowKeyGetter,\n      dataChangeStore: dataChangeStore,\n      onSelectedColumnsChange: onSelectedColumnsChange\n    }));\n  };\n  return retColumns;\n}\nfunction getColumnWidth(column, rows, canvas, columnWidthBy) {\n  const dataWidthReducer = (longest, nextRow) => {\n    let value = nextRow[column.key];\n    if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isNull(value) || lodash__WEBPACK_IMPORTED_MODULE_3___default().isUndefined(value)) {\n      value = '';\n    }\n    value = value.toString();\n    return longest.length > value.length ? longest : value;\n  };\n  let columnHeaderLen = column.display_name.length > column.display_type.length ? (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_13__.measureText)(column.display_name, '12px Roboto').width : (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_13__.measureText)(column.display_type, '12px Roboto').width;\n  /* padding 12,  margin 4, icon-width 15, */\n  columnHeaderLen += 15 + 12 + 4;\n  if (column.column_type_internal == 'geometry' || column.column_type_internal == 'geography') {\n    columnHeaderLen += 40;\n  }\n  let width = columnHeaderLen;\n  if (typeof columnWidthBy == 'number') {\n    /* padding 16, border 1px */\n    width = 16 + (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_13__.measureText)(rows.reduce(dataWidthReducer, ''), '12px Roboto').width + 1;\n    if (width > columnWidthBy && columnWidthBy > 0) {\n      width = columnWidthBy;\n    }\n    if (width < columnHeaderLen) {\n      width = columnHeaderLen;\n    }\n  }\n  return width;\n}\nfunction QueryToolDataGrid(_ref5) {\n  let {\n      columns,\n      rows,\n      totalRowCount,\n      dataChangeStore,\n      onSelectedCellChange,\n      selectedColumns,\n      onSelectedColumnsChange,\n      columnWidthBy,\n      startRowNum\n    } = _ref5,\n    props = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref5, _excluded);\n  const [readyColumns, setReadyColumns] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]);\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_9__.QueryToolEventsContext);\n  const onSelectedColumnsChangeWrapped = arg => {\n    props.onSelectedRowsChange(new Set());\n    onSelectedColumnsChange(arg);\n  };\n  function handleCopy() {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__.QUERY_TOOL_EVENTS.TRIGGER_COPY_DATA);\n  }\n  function handleShortcuts(e) {\n    let withCopy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    // Handle Copy shortcut Cmd/Ctrl + c\n    if ((e.ctrlKey || e.metaKey) && e.key !== 'Control' && e.keyCode == 67 && withCopy) {\n      e.preventDefault();\n      handleCopy();\n    }\n\n    // Handle Select All Cmd + A(mac) / Ctrl + a (others)\n    if (((0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_12__.isMac)() && e.metaKey || !(0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_12__.isMac)() && e.ctrlKey) && e.key === 'a') {\n      e.preventDefault();\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_5__.QUERY_TOOL_EVENTS.TRIGGER_SELECT_ALL);\n    }\n  }\n  const renderCustomRow = (0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((key, props) => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(CustomRow, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      key: key\n    }, props));\n  }, []);\n  const dataGridExtras = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => ({\n    onSelectedCellChange,\n    handleShortcuts,\n    startRowNum\n  }), [onSelectedCellChange]);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n    let initCols = initialiseColumns(columns, rows, totalRowCount, columnWidthBy);\n    setReadyColumns(formatColumns(initCols, dataChangeStore, selectedColumns, onSelectedColumnsChangeWrapped, props.rowKeyGetter));\n  }, [columns]);\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n    setReadyColumns(prevCols => {\n      return formatColumns(prevCols, dataChangeStore, selectedColumns, onSelectedColumnsChangeWrapped, props.rowKeyGetter);\n    });\n  }, [dataChangeStore, selectedColumns]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(DataGridExtrasContext.Provider, {\n    value: dataGridExtras\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(StyledPgReactDataGrid, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n    id: \"datagrid\",\n    columns: readyColumns,\n    rows: rows,\n    headerRowHeight: 40,\n    rowHeight: 25,\n    mincolumnWidthBy: 50,\n    enableCellSelect: true,\n    onCopy: handleCopy,\n    onMultiCopy: handleCopy,\n    renderers: {\n      renderRow: renderCustomRow\n    },\n    enableRangeSelection: true,\n    rangeLeftBoundaryColIdx: 0,\n    onCellKeyDown: (_ref6, e) => {\n      let {\n        column,\n        rowIdx,\n        selectCell,\n        mode\n      } = _ref6;\n      /* Enter should not be propagated to editor and should\r\n      only be used to open the editor */\n      if (mode == 'SELECT' && e.code == 'Enter') {\n        e.preventGridDefault();\n        e.preventDefault();\n        e.stopPropagation();\n        selectCell({\n          idx: column.idx,\n          rowIdx\n        }, true);\n      }\n\n      // This is needed to prevent Codemirror from triggering copy.\n      if (mode == 'SELECT' && (e.ctrlKey || e.metaKey) && e.key !== 'Control' && e.keyCode == 67) {\n        // taken care by handleCopy.\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }, props)));\n}\nQueryToolDataGrid.propTypes = {\n  columns: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().array),\n  rows: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().array),\n  totalRowCount: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),\n  dataChangeStore: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),\n  onSelectedCellChange: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),\n  onSelectedRowsChange: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),\n  selectedColumns: prop_types__WEBPACK_IMPORTED_MODULE_16___default().objectOf(Set),\n  onSelectedColumnsChange: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),\n  rowKeyGetter: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),\n  columnWidthBy: prop_types__WEBPACK_IMPORTED_MODULE_16___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_16___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number)]),\n  startRowNum: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/index.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/CloseRunningDialog.jsx":
/*!*************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/CloseRunningDialog.jsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CloseRunningDialog)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../static/js/components/ModalContent */ \"./pgadmin/static/js/components/ModalContent.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/CloseRounded */ \"./node_modules/@mui/icons-material/esm/CloseRounded.js\");\n/* harmony import */ var _mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/CheckRounded */ \"./node_modules/@mui/icons-material/esm/CheckRounded.js\");\n/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! html-react-parser */ \"./node_modules/html-react-parser/esm/index.mjs\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nfunction CloseRunningDialog(_ref) {\n  let {\n    closeModal,\n    text,\n    onYes\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_1__.ModalContent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    flexGrow: \"1\",\n    p: 2\n  }, typeof text == 'string' ? (0,html_react_parser__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(text) : text), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_1__.ModalFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.DefaultButton, {\n    \"data-test\": \"no\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null),\n    onClick: () => {\n      closeModal();\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('No')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.PrimaryButton, {\n    \"data-test\": \"yes\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null),\n    onClick: () => {\n      onYes?.();\n      closeModal();\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Yes'))));\n}\nCloseRunningDialog.propTypes = {\n  closeModal: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func),\n  text: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().string),\n  onYes: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/CloseRunningDialog.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmExecuteQueryContent.jsx":
/*!*********************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmExecuteQueryContent.jsx ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConfirmExecuteQueryContent)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/icons-material/CloseRounded */ \"./node_modules/@mui/icons-material/esm/CloseRounded.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/icons-material/CheckRounded */ \"./node_modules/@mui/icons-material/esm/CheckRounded.js\");\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var _static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../static/js/components/ReactCodeMirror */ \"./pgadmin/static/js/components/ReactCodeMirror/index.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\nconst StyledEditor = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__[\"default\"])('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: '1rem',\n    '& .textarea': _objectSpread(_objectSpread({}, theme.mixins.panelBorder?.all), {}, {\n      outline: 0,\n      resize: 'both',\n      maxHeight: '500px',\n      overflowY: 'scroll'\n    })\n  };\n});\nconst StyledFooter = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__[\"default\"])('div')(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return _objectSpread(_objectSpread({\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '0.5rem'\n  }, theme.mixins.panelBorder?.top), {}, {\n    '& .margin': {\n      marginLeft: '0.25rem'\n    }\n  });\n});\nfunction ConfirmExecuteQueryContent(_ref3) {\n  let {\n    onContinue,\n    onClose,\n    closeModal,\n    text\n  } = _ref3;\n  const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    save_user_choice: false\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledEditor, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null, \"Do you want to run this query -\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n    value: text || '',\n    className: 'textarea',\n    readonly: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_4__.InputCheckbox, {\n    controlProps: {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Don\\'t ask again')\n    },\n    value: formData['save_user_choice'],\n    onChange: e => setFormData(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      'save_user_choice': e.target.checked\n    }))\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.DefaultButton, {\n    \"data-test\": \"close\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null),\n    onClick: () => {\n      onClose?.();\n      closeModal();\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.PrimaryButton, {\n    \"data-test\": \"Continue\",\n    className: 'margin',\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null),\n    onClick: () => {\n      let postFormData = new FormData();\n      postFormData.append('pref_data', JSON.stringify([{\n        'name': 'underlined_query_execute_warning',\n        'value': !formData.save_user_choice,\n        'module': 'sqleditor'\n      }]));\n      onContinue?.(postFormData);\n      closeModal();\n    },\n    autoFocus: true\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Continue')))));\n}\nConfirmExecuteQueryContent.propTypes = {\n  closeModal: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().func),\n  text: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().string),\n  onContinue: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().func),\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmExecuteQueryContent.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmPromotionContent.jsx":
/*!******************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmPromotionContent.jsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConfirmPromotionContent)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/ModalContent */ \"./pgadmin/static/js/components/ModalContent.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/icons-material/CloseRounded */ \"./node_modules/@mui/icons-material/esm/CloseRounded.js\");\n/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! html-react-parser */ \"./node_modules/html-react-parser/esm/index.mjs\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/icons-material/CheckRounded */ \"./node_modules/@mui/icons-material/esm/CheckRounded.js\");\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\nconst StyledFooter = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_7__[\"default\"])('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return _objectSpread(_objectSpread({\n    display: 'flex',\n    justifyContent: 'space-between',\n    padding: '0.5rem'\n  }, theme.mixins.panelBorder?.top), {}, {\n    '& .margin': {\n      marginLeft: '0.25rem'\n    }\n  });\n});\nfunction ConfirmPromotionContent(_ref2) {\n  let {\n    onContinue,\n    onClose,\n    closeModal,\n    text\n  } = _ref2;\n  const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    save_user_choice: false\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_2__.ModalContent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    flexGrow: \"1\",\n    p: 2\n  }, typeof text == 'string' ? (0,html_react_parser__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(text) : text), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_6__.InputCheckbox, {\n    controlProps: {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Don\\'t ask again')\n    },\n    value: formData['save_user_choice'],\n    onChange: e => setFormData(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      'save_user_choice': e.target.checked\n    }))\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.DefaultButton, {\n    \"data-test\": \"close\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null),\n    onClick: () => {\n      onClose?.();\n      closeModal();\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_4__.PrimaryButton, {\n    \"data-test\": \"Continue\",\n    className: 'margin',\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null),\n    onClick: () => {\n      let postFormData = new FormData();\n      postFormData.append('pref_data', JSON.stringify([{\n        'name': 'view_edit_promotion_warning',\n        'value': !formData.save_user_choice,\n        'module': 'sqleditor'\n      }]));\n      onContinue?.(postFormData);\n      closeModal();\n    },\n    autoFocus: true\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Continue')))));\n}\nConfirmPromotionContent.propTypes = {\n  closeModal: (prop_types__WEBPACK_IMPORTED_MODULE_11___default().func),\n  text: (prop_types__WEBPACK_IMPORTED_MODULE_11___default().string),\n  onContinue: (prop_types__WEBPACK_IMPORTED_MODULE_11___default().func),\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_11___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmPromotionContent.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmTransactionContent.jsx":
/*!********************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmTransactionContent.jsx ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConfirmTransactionContent)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../static/js/components/ModalContent */ \"./pgadmin/static/js/components/ModalContent.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/icons-material/CloseRounded */ \"./node_modules/@mui/icons-material/esm/CloseRounded.js\");\n/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! html-react-parser */ \"./node_modules/html-react-parser/esm/index.mjs\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nfunction ConfirmTransactionContent(_ref) {\n  let {\n    closeModal,\n    text,\n    onRollback,\n    onCommit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_1__.ModalContent, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    flexGrow: \"1\",\n    p: 2\n  }, typeof text == 'string' ? (0,html_react_parser__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(text) : text), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ModalContent__WEBPACK_IMPORTED_MODULE_1__.ModalFooter, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.DefaultButton, {\n    \"data-test\": \"cancel\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_CloseRounded__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null),\n    onClick: () => {\n      closeModal();\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Cancel')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.PrimaryButton, {\n    \"data-test\": \"rollback\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_5__.RollbackIcon, null),\n    onClick: () => {\n      onRollback?.();\n      closeModal();\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Rollback')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_3__.PrimaryButton, {\n    \"data-test\": \"commit\",\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_5__.CommitIcon, null),\n    onClick: () => {\n      onCommit?.();\n      closeModal();\n    },\n    autoFocus: true\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Commit'))));\n}\nConfirmTransactionContent.propTypes = {\n  closeModal: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func),\n  text: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().string),\n  onRollback: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func),\n  onCommit: (prop_types__WEBPACK_IMPORTED_MODULE_8___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmTransactionContent.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/FilterDialog.jsx":
/*!*******************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/FilterDialog.jsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FilterDialog)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n\nconst _excluded = [\"column_list\"];\n\n\n\n\n\n\n\nclass SortingCollection extends _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor(columnOptions) {\n    super({\n      name: undefined,\n      order: 'asc'\n    });\n    this.columnOptions = columnOptions;\n    this.reloadColOptions = 0;\n  }\n  setColumnOptions(columnOptions) {\n    this.columnOptions = columnOptions;\n    this.reloadColOptions = this.reloadColOptions + 1;\n  }\n  get baseFields() {\n    return [{\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Column'),\n      cell: 'select',\n      controlProps: {\n        allowClear: false\n      },\n      noEmpty: true,\n      options: this.columnOptions,\n      optionsReloadBasis: this.reloadColOptions,\n      width: 300\n    }, {\n      id: 'order',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Order'),\n      cell: 'select',\n      controlProps: {\n        allowClear: false\n      },\n      options: [{\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('ASC'),\n        value: 'asc'\n      }, {\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('DESC'),\n        value: 'desc'\n      }],\n      width: 150\n    }, {\n      id: 'order_null',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('NULLs'),\n      cell: 'select',\n      controlProps: {\n        allowClear: true\n      },\n      options: [{\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('FIRST'),\n        value: 'nulls first'\n      }, {\n        label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('LAST'),\n        value: 'nulls last'\n      }],\n      width: 150\n    }];\n  }\n}\nclass FilterSchema extends _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor(columnOptions) {\n    super({\n      sql: null,\n      data_sorting: []\n    });\n    this.sortingCollObj = new SortingCollection(columnOptions);\n  }\n  setColumnOptions(columnOptions) {\n    this.sortingCollObj.setColumnOptions(columnOptions);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'sql',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('SQL Filter'),\n      type: 'sql',\n      controlProps: {\n        options: {\n          lineWrapping: true\n        },\n        autocompleteOnKeyPress: true,\n        autocompleteProvider: (context, onAvailable) => {\n          return new Promise(resolve => {\n            const word = context.matchBefore(/\\w*/);\n            const fullSql = context.state.doc.toString();\n            onAvailable();\n            resolve({\n              from: word.from,\n              options: (this.sortingCollObj.columnOptions ?? []).map(col => ({\n                label: col.label,\n                type: 'property'\n              })),\n              validFor: (text, from) => {\n                return text.startsWith(fullSql.slice(from));\n              }\n            });\n          });\n        }\n      }\n    }, {\n      id: 'data_sorting',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Data Sorting'),\n      type: 'collection',\n      schema: obj.sortingCollObj,\n      group: 'temp',\n      uniqueCol: ['name'],\n      canAdd: true,\n      canEdit: false,\n      canDelete: true\n    }];\n  }\n}\nfunction FilterDialog(_ref) {\n  let {\n    onClose,\n    onSave\n  } = _ref;\n  const queryToolCtx = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolContext);\n  const filterSchemaObj = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(() => new FilterSchema([]));\n  const getInitData = () => {\n    return new Promise((resolve, reject) => {\n      const getFilterData = async () => {\n        try {\n          let {\n            data: respData\n          } = await queryToolCtx.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.get_filter_data', {\n            'trans_id': queryToolCtx.params.trans_id\n          }));\n          let _respData$data$result = respData.data.result,\n            {\n              column_list: columns\n            } = _respData$data$result,\n            filterData = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_respData$data$result, _excluded);\n          filterSchemaObj.setColumnOptions((columns || []).map(c => ({\n            label: c,\n            value: c\n          })));\n          resolve(filterData);\n        } catch (error) {\n          reject(error instanceof Error ? error : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Something went wrong')));\n        }\n      };\n      getFilterData();\n    });\n  };\n  const onSaveClick = (_isNew, changeData) => {\n    return new Promise((resolve, reject) => {\n      const setFilterData = async () => {\n        try {\n          let {\n            data: respData\n          } = await queryToolCtx.api.put(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.set_filter_data', {\n            'trans_id': queryToolCtx.params.trans_id\n          }), changeData);\n          if (respData.data.status) {\n            resolve();\n            onSave();\n          } else {\n            reject(new Error(respData.data.result));\n          }\n        } catch (error) {\n          reject(error instanceof Error ? error : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Something went wrong')));\n        }\n      };\n      setFilterData();\n    });\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_SchemaView__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    formType: 'dialog',\n    getInitData: getInitData,\n    schema: filterSchemaObj,\n    viewHelperProps: {\n      mode: 'create'\n    },\n    onSave: onSaveClick,\n    onClose: onClose,\n    hasSQL: false,\n    disableSqlHelp: true,\n    disableDialogHelp: true,\n    isTabView: false,\n    checkDirtyOnEnableSave: true\n  });\n}\nFilterDialog.propTypes = {\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func),\n  onSave: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/FilterDialog.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/MacrosDialog.jsx":
/*!*******************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/MacrosDialog.jsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MacrosDialog)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(() => ({\n  height: '100%',\n  '& .MacrosDialog-root': {\n    padding: 0 + ' !important'\n  }\n}));\nclass MacrosCollection extends _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor(keyOptions) {\n    super();\n    this.keyOptions = keyOptions;\n  }\n  get idAttribute() {\n    return 'id';\n  }\n\n  /* Returns the new data row for the schema based on defaults and input */\n  getNewData() {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const current_macros = this?.top?.sessData.macro;\n    let newRow = {};\n    this.fields.forEach(field => {\n      newRow[field.id] = this.defaults[field.id];\n    });\n    newRow = _objectSpread(_objectSpread({}, newRow), data);\n    if (current_macros) {\n      // Extract an array of existing names from the 'macro' collection\n      const existingNames = current_macros.map(macro => macro.name);\n      const newName = (0,_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.getRandomName)(existingNames);\n      newRow.name = newName;\n    }\n    return newRow;\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'mid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Key'),\n      cell: 'select',\n      noEmpty: false,\n      width: 100,\n      options: obj.keyOptions,\n      optionsReloadBasis: obj.keyOptions.length,\n      controlProps: {\n        allowClear: true\n      }\n    }, {\n      id: 'name',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Name'),\n      cell: 'text',\n      noEmpty: true,\n      width: 100\n    }, {\n      id: 'sql',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('SQL'),\n      cell: 'sql',\n      noEmpty: true,\n      width: 300,\n      controlProps: {\n        options: {\n          foldGutter: false,\n          lineNumbers: false,\n          gutters: [],\n          readOnly: true,\n          lineWrapping: true\n        }\n      }\n    }];\n  }\n}\nclass MacrosSchema extends _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n  constructor(keyOptions) {\n    super();\n    this.macrosCollObj = new MacrosCollection(keyOptions);\n  }\n  get baseFields() {\n    let obj = this;\n    return [{\n      id: 'macro',\n      label: '',\n      type: 'collection',\n      schema: obj.macrosCollObj,\n      canAdd: true,\n      canDelete: true,\n      isFullTab: true,\n      group: 'temp'\n    }];\n  }\n  validate(state, setError) {\n    let allKeys = state.macro.map(m => m.mid ? m.mid.toString() : null).filter(key => key !== null);\n    let allNames = state.macro.map(m => m.name ? m.name.toLowerCase() : null);\n    if (allKeys.length != new Set(allKeys).size) {\n      setError('macro', sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Key must be unique.'));\n      return true;\n    } else if (allNames.length != new Set(allNames).size) {\n      setError('macro', sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Name must be unique.'));\n      return true;\n    }\n    return false;\n  }\n}\nfunction getChangedMacros(userMacrosData, changeData) {\n  /* For backend, added, removed is changed. Convert all added, removed to changed. */\n  let changed = [];\n  for (const m of changeData.macro.changed || []) {\n    let newM = _objectSpread({}, m);\n    if ('id' in m) {\n      let em = lodash__WEBPACK_IMPORTED_MODULE_7___default().find(userMacrosData, d => d.id == m.id);\n      newM = _objectSpread({\n        name: m.name ? m.name : em.name,\n        sql: m.sql ? m.sql : em.sql,\n        mid: m.mid ? m.mid : em.mid\n      }, m);\n    } else {\n      newM.id = m.mid;\n    }\n    changed.push(newM);\n  }\n  for (const m of changeData.macro.deleted || []) {\n    changed.push({\n      id: m.id,\n      name: null,\n      sql: null\n    });\n  }\n  for (const m of changeData.macro.added || []) {\n    if (m.id && m.id !== 0) {\n      m.mid = m.id;\n      delete m.id;\n    }\n    changed.push(m);\n  }\n  return changed;\n}\nfunction MacrosDialog(_ref) {\n  let {\n    onClose,\n    onSave\n  } = _ref;\n  const queryToolCtx = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolContext);\n  const [macrosData, setMacrosData] = react__WEBPACK_IMPORTED_MODULE_1___default().useState([]);\n  const [userMacrosData, setUserMacrosData] = react__WEBPACK_IMPORTED_MODULE_1___default().useState([]);\n  const [macrosErr, setMacrosErr] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(null);\n  const fetchMacrosData = async () => {\n    try {\n      // Fetch user macros data\n      let {\n        data: userMacroRespData\n      } = await queryToolCtx.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.get_user_macros'));\n      let {\n        data: respData\n      } = await queryToolCtx.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.get_macros', {\n        'trans_id': queryToolCtx.params.trans_id\n      }));\n      setUserMacrosData(userMacroRespData);\n      /* Copying id to mid to track key id changes */\n      setMacrosData(respData.macro.map(m => _objectSpread(_objectSpread({}, m), {}, {\n        mid: m.id\n      })));\n    } catch (error) {\n      setMacrosErr(error);\n    }\n  };\n  react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {\n    fetchMacrosData();\n  }, []);\n  const onSaveClick = (_isNew, changeData) => {\n    return new Promise((resolve, reject) => {\n      const setMacros = async () => {\n        try {\n          let changed = getChangedMacros(userMacrosData, changeData);\n          let {\n            data: respData\n          } = await queryToolCtx.api.put(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.set_macros', {\n            'trans_id': queryToolCtx.params.trans_id\n          }), {\n            changed: changed\n          });\n          resolve();\n          onSave(respData.filter(m => Boolean(m.name)));\n          onClose();\n        } catch (error) {\n          reject(error instanceof Error ? error : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_4___default()('Something went wrong')));\n        }\n      };\n      setMacros();\n    });\n  };\n  const keyOptions = macrosData.map(m => ({\n    label: m.key_label,\n    value: m.id\n  }));\n  const schema = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  if (keyOptions.length <= 0) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n  }\n  if (!schema.current) schema.current = new MacrosSchema(keyOptions);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_SchemaView__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    formType: 'dialog',\n    getInitData: () => {\n      if (macrosErr) {\n        return Promise.reject(new Error(macrosErr));\n      }\n      return Promise.resolve({\n        macro: userMacrosData.filter(m => Boolean(m.name))\n      });\n    },\n    schema: schema.current,\n    viewHelperProps: {\n      mode: 'edit'\n    },\n    onSave: onSaveClick,\n    onClose: onClose,\n    hasSQL: false,\n    disableSqlHelp: true,\n    disableDialogHelp: true,\n    isTabView: false,\n    formClassName: \"MacrosDialog-root\"\n  }));\n}\nMacrosDialog.propTypes = {\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().func),\n  onSave: (prop_types__WEBPACK_IMPORTED_MODULE_10___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/MacrosDialog.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/dialogs/NewConnectionDialog.jsx":
/*!**************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/dialogs/NewConnectionDialog.jsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NewConnectionDialog)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView/base_schema.ui */ \"./pgadmin/static/js/SchemaView/base_schema.ui.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _static_js_Dialogs_ConnectServerContent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/Dialogs/ConnectServerContent */ \"./pgadmin/static/js/Dialogs/ConnectServerContent.jsx\");\n/* harmony import */ var _static_js_SchemaView__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../static/js/SchemaView */ \"./pgadmin/static/js/SchemaView/index.jsx\");\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\nclass NewConnectionSchema extends _static_js_SchemaView_base_schema_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(api, params, connectServer) {\n    super({\n      sid: null,\n      did: null,\n      user: null,\n      role: null,\n      server_name: null,\n      database_name: null,\n      connected: false\n    });\n    // Regenerate the fields on every render.\n    this._dynamicFields = true;\n    this.flatServers = [];\n    this.groupedServers = [];\n    this.dbs = [];\n    this.params = params;\n    this.api = api;\n    this.warningText = sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('By changing the connection you will lose all your unsaved data for the current connection. <br> Do you want to continue?');\n    this.connectServer = connectServer;\n  }\n  setServerConnected(sid, icon) {\n    for (const group of this.groupedServers) {\n      for (const opt of group.options) {\n        if (opt.value == sid) {\n          opt.connected = true;\n          opt.image = icon || 'icon-pg';\n          break;\n        }\n      }\n    }\n  }\n  isServerConnected(sid) {\n    return lodash__WEBPACK_IMPORTED_MODULE_6___default().find(this.flatServers, s => s.value == sid)?.connected;\n  }\n  getServerList() {\n    let obj = this;\n    if (this.groupedServers?.length != 0) {\n      return Promise.resolve(this.groupedServers);\n    }\n    return new Promise((resolve, reject) => {\n      this.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.get_new_connection_servers')).then(_ref => {\n        let {\n          data: respData\n        } = _ref;\n        let groupedOptions = [];\n        lodash__WEBPACK_IMPORTED_MODULE_6___default().forIn(respData.data.result.server_list, (v, k) => {\n          if (v.length == 0) {\n            return;\n          }\n          /* initial selection */\n          let foundServer = lodash__WEBPACK_IMPORTED_MODULE_6___default().find(v, o => o.value == obj.params.sid);\n          foundServer && (foundServer.selected = true);\n          groupedOptions.push({\n            label: k,\n            options: v\n          });\n        });\n        /* Will be re-used for changing icon when connected */\n        this.groupedServers = groupedOptions.map(group => {\n          return {\n            label: group.label,\n            options: group.options.map(o => _objectSpread(_objectSpread({}, o), {}, {\n              selected: false\n            }))\n          };\n        });\n        resolve(groupedOptions);\n      }).catch(error => {\n        reject(error instanceof Error ? error : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Something went wrong')));\n      });\n    });\n  }\n  getOtherOptions(sid, type) {\n    if (!sid) {\n      return [];\n    }\n    if (!this.isServerConnected(sid)) {\n      return [];\n    }\n    return new Promise((resolve, reject) => {\n      this.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()(`sqleditor.${type}`, {\n        'sid': sid,\n        'sgid': 0\n      })).then(_ref2 => {\n        let {\n          data: respData\n        } = _ref2;\n        resolve(respData.data.result.data);\n      }).catch(error => {\n        reject(error instanceof Error ? error : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Something went wrong')));\n      });\n    });\n  }\n  get baseFields() {\n    let self = this;\n    return [{\n      id: 'sid',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Server'),\n      deps: ['connected'],\n      noEmpty: true,\n      controlProps: {\n        allowClear: false\n      },\n      type: () => ({\n        type: 'select',\n        options: () => self.getServerList(),\n        optionsLoaded: res => self.flatServers = (0,_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_7__.flattenSelectOptions)(res),\n        optionsReloadBasis: self.flatServers.map(s => s.connected).join('')\n      }),\n      depChange: state => {\n        /* Once the option is selected get the name */\n        /* Force sid to null, and set only if connected */\n        let selectedServer = lodash__WEBPACK_IMPORTED_MODULE_6___default().find(self.flatServers, s => s.value == state.sid);\n        return {\n          server_name: selectedServer?.label,\n          did: null,\n          user: null,\n          role: null,\n          sid: state.sid,\n          fgcolor: selectedServer?.fgcolor,\n          bgcolor: selectedServer?.bgcolor,\n          connected: selectedServer?.connected\n        };\n      },\n      deferredDepChange: (state, source, topState, actionObj) => {\n        return new Promise(resolve => {\n          let sid = actionObj.value;\n          if (!lodash__WEBPACK_IMPORTED_MODULE_6___default().find(self.flatServers, s => s.value == sid)?.connected) {\n            this.connectServer(sid, state.user, null, data => {\n              self.setServerConnected(sid, data.icon);\n              resolve(() => ({\n                sid: sid,\n                connected: true\n              }));\n            });\n          } else {\n            resolve(() => ({\n              sid: sid,\n              connected: true\n            }));\n          }\n        });\n      }\n    }, {\n      id: 'did',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Database'),\n      deps: ['sid', 'connected'],\n      noEmpty: true,\n      controlProps: {\n        allowClear: false\n      },\n      type: state => {\n        return {\n          type: 'select',\n          options: () => this.getOtherOptions(state.sid, 'get_new_connection_database'),\n          optionsReloadBasis: `${state.sid} ${this.isServerConnected(state.sid)}`\n        };\n      },\n      optionsLoaded: res => this.dbs = res,\n      depChange: state => {\n        /* Once the option is selected get the name */\n        return {\n          database_name: lodash__WEBPACK_IMPORTED_MODULE_6___default().find(this.dbs, s => s.value == state.did)?.label\n        };\n      }\n    }, {\n      id: 'user',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('User'),\n      deps: ['sid', 'connected'],\n      noEmpty: true,\n      type: state => ({\n        type: 'select',\n        controlProps: {\n          allowClear: false\n        },\n        options: () => this.getOtherOptions(state.sid, 'get_new_connection_user'),\n        optionsReloadBasis: `${state.sid} ${this.isServerConnected(state.sid)}`\n      })\n    }, {\n      id: 'role',\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Role'),\n      deps: ['sid', 'connected'],\n      type: state => ({\n        type: 'select',\n        controlProps: {\n          allowClear: false\n        },\n        options: () => this.getOtherOptions(state.sid, 'get_new_connection_role'),\n        optionsReloadBasis: `${state.sid} ${this.isServerConnected(state.sid)}`\n      })\n    }, {\n      id: 'server_name',\n      label: '',\n      type: 'text',\n      visible: false\n    }, {\n      id: 'database_name',\n      label: '',\n      type: 'text',\n      visible: false\n    }, {\n      id: 'bgcolor',\n      label: '',\n      type: 'text',\n      visible: false\n    }, {\n      id: 'fgcolor',\n      label: '',\n      type: 'text',\n      visible: false\n    }, {\n      id: 'connected',\n      label: '',\n      type: 'text',\n      visible: false\n    }];\n  }\n}\nfunction NewConnectionDialog(_ref3) {\n  let {\n    onClose,\n    onSave\n  } = _ref3;\n  const [connecting, setConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const queryToolCtx = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_4__.QueryToolContext);\n  const pgAdmin = (0,_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_10__.usePgAdmin)();\n  const connectServer = async (sid, user, formData, connectCallback) => {\n    setConnecting(true);\n    try {\n      let {\n        data: respData\n      } = await queryToolCtx.api({\n        method: 'POST',\n        url: sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.connect_server', _objectSpread({\n          'sid': sid\n        }, user ? {\n          'usr': user\n        } : {})),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        data: formData\n      });\n      setConnecting(false);\n      connectCallback?.(respData.data);\n    } catch (error) {\n      if (!error.response) {\n        pgAdmin.Browser.notifier.pgNotifier('error', error, 'Connection error', sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Connection to pgAdmin server has been lost.'));\n      } else {\n        queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Connect to server'), closeModal => {\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_Dialogs_ConnectServerContent__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n            closeModal: () => {\n              setConnecting(false);\n              closeModal();\n            },\n            data: error.response?.data?.result,\n            onOK: formData => {\n              connectServer(sid, null, formData, connectCallback);\n            }\n          });\n        });\n      }\n    }\n  };\n  const schema = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  if (!schema.current) schema.current = new NewConnectionSchema(queryToolCtx.api, {\n    sid: queryToolCtx.params.sid,\n    sgid: 0\n  }, connectServer);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, schema.current && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_SchemaView__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    formType: 'dialog',\n    getInitData: () => Promise.resolve({}),\n    schema: schema.current,\n    viewHelperProps: {\n      mode: 'create'\n    },\n    loadingText: connecting ? 'Connecting...' : '',\n    onSave: onSave,\n    onClose: onClose,\n    hasSQL: false,\n    disableSqlHelp: true,\n    disableDialogHelp: true,\n    isTabView: false,\n    Notifier: queryToolCtx.modal\n  }));\n}\nNewConnectionDialog.propTypes = {\n  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_11___default().func),\n  onSave: (prop_types__WEBPACK_IMPORTED_MODULE_11___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/dialogs/NewConnectionDialog.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/ConnectionBar.jsx":
/*!*********************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/ConnectionBar.jsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConnectionBar: () => (/* binding */ ConnectionBar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/CircularProgress/CircularProgress.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Tooltip/Tooltip.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/KeyboardArrowDown */ \"./node_modules/@mui/icons-material/esm/KeyboardArrowDown.js\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _mui_icons_material_HourglassEmptyRounded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/icons-material/HourglassEmptyRounded */ \"./node_modules/@mui/icons-material/esm/HourglassEmptyRounded.js\");\n/* harmony import */ var _mui_icons_material_QueryBuilderRounded__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/icons-material/QueryBuilderRounded */ \"./node_modules/@mui/icons-material/esm/QueryBuilderRounded.js\");\n/* harmony import */ var _mui_icons_material_ErrorOutlineRounded__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/icons-material/ErrorOutlineRounded */ \"./node_modules/@mui/icons-material/esm/ErrorOutlineRounded.js\");\n/* harmony import */ var _mui_icons_material_ReportProblemRounded__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/ReportProblemRounded */ \"./node_modules/@mui/icons-material/esm/ReportProblemRounded.js\");\n/* harmony import */ var _static_js_components_Menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../static/js/components/Menu */ \"./pgadmin/static/js/components/Menu.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _mui_icons_material_RotateLeftRounded__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/RotateLeftRounded */ \"./node_modules/@mui/icons-material/esm/RotateLeftRounded.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n/* harmony import */ var _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/custom_prop_types */ \"./pgadmin/static/js/custom_prop_types.js\");\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Root = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_9__[\"default\"])('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '.ConnectionBar-root': {\n      padding: '2px 4px',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '4px',\n      backgroundColor: theme.otherVars.editorToolbarBg,\n      '& .ConnectionBar-connectionButton': {\n        display: 'flex',\n        width: '450px',\n        backgroundColor: theme.palette.default.main,\n        color: theme.palette.default.contrastText,\n        border: '1px solid ' + theme.palette.default.borderColor,\n        justifyContent: 'flex-start'\n      }\n    },\n    '.ConnectionBar-menu': {\n      '& .szh-menu': {\n        minWidth: '450px'\n      }\n    }\n  };\n});\nfunction ConnectionStatusIcon(_ref2) {\n  let {\n    connected,\n    connecting,\n    status\n  } = _ref2;\n  if (connecting) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n      style: {\n        height: '18px',\n        width: '18px'\n      }\n    });\n  } else if (connected) {\n    switch (status) {\n      case _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_ACTIVE:\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_HourglassEmptyRounded__WEBPACK_IMPORTED_MODULE_11__[\"default\"], null);\n      case _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_INTRANS:\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_QueryBuilderRounded__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null);\n      case _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_INERROR:\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_ErrorOutlineRounded__WEBPACK_IMPORTED_MODULE_13__[\"default\"], null);\n      case _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_UNKNOWN:\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_ReportProblemRounded__WEBPACK_IMPORTED_MODULE_14__[\"default\"], null);\n      default:\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_2__.ConnectedIcon, null);\n    }\n  } else {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_2__.DisconnectedIcon, null);\n  }\n}\nConnectionStatusIcon.propTypes = {\n  connected: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool),\n  connecting: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool),\n  status: prop_types__WEBPACK_IMPORTED_MODULE_15___default().oneOf(Object.values(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS))\n};\nfunction ConnectionBar(_ref3) {\n  let {\n    connected,\n    connecting,\n    connectionStatus,\n    connectionStatusMsg,\n    connectionList,\n    onConnectionChange,\n    onNewConnClick,\n    onNewQueryToolClick,\n    onResetLayout,\n    containerRef\n  } = _ref3;\n  const connMenuRef = react__WEBPACK_IMPORTED_MODULE_0___default().useRef();\n  const [connDropdownOpen, setConnDropdownOpen] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(false);\n  const queryToolCtx = react__WEBPACK_IMPORTED_MODULE_0___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_3__.QueryToolContext);\n  const onConnItemClick = e => {\n    if (!e.value.is_selected) {\n      onConnectionChange(e.value);\n    }\n    e.keepOpen = false;\n  };\n  (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_7__.useKeyboardShortcuts)([{\n    shortcut: queryToolCtx.preferences?.browser?.sub_menu_query_tool,\n    options: {\n      callback: onNewQueryToolClick\n    }\n  }], containerRef);\n  const connTitle = react__WEBPACK_IMPORTED_MODULE_0___default().useMemo(() => _.find(connectionList, c => c.is_selected)?.conn_title, [connectionList]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Root, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    className: \"ConnectionBar-root\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__.PgButtonGroup, {\n    size: \"small\"\n  }, queryToolCtx.preferences?.sqleditor?.connection_status && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__.PgIconButton, {\n    title: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS_MESSAGE[connected ? connectionStatus : -1] ?? connectionStatusMsg,\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ConnectionStatusIcon, {\n      connecting: connecting,\n      status: connectionStatus,\n      connected: connected\n    })\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__.DefaultButton, {\n    className: \"ConnectionBar-connectionButton\",\n    ref: connMenuRef,\n    onClick: queryToolCtx.params.is_query_tool ? () => setConnDropdownOpen(true) : undefined,\n    style: {\n      backgroundColor: queryToolCtx.params.bgcolor,\n      color: queryToolCtx.params.fgcolor\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    title: queryToolCtx.params.is_query_tool ? '' : connTitle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    display: \"flex\",\n    width: \"100%\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n    marginRight: \"auto\"\n  }, connecting && sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('(Obtaining connection)'), connTitle), queryToolCtx.params.is_query_tool && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n    display: \"flex\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('New query tool for current connection'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_2__.QueryToolIcon, null),\n    shortcut: queryToolCtx.preferences?.browser?.sub_menu_query_tool,\n    onClick: onNewQueryToolClick\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__.PgButtonGroup, {\n    size: \"small\",\n    variant: \"text\",\n    style: {\n      marginLeft: 'auto'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_1__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Reset layout'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_icons_material_RotateLeftRounded__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    onClick: onResetLayout\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_5__.PgMenu, {\n    anchorRef: connMenuRef,\n    open: connDropdownOpen,\n    onClose: () => {\n      setConnDropdownOpen(false);\n    },\n    className: \"ConnectionBar-menu\"\n  }, (connectionList || []).map((conn, i) => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_5__.PgMenuItem, {\n      key: i + conn.conn_title,\n      hasCheck: true,\n      checked: conn.is_selected,\n      value: conn,\n      onClick: onConnItemClick\n    }, conn.conn_title);\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_5__.PgMenuItem, {\n    onClick: onNewConnClick\n  }, `< ${sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('New Connection...')} >`)));\n}\nConnectionBar.propTypes = {\n  connected: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool),\n  connecting: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool),\n  connectionStatus: prop_types__WEBPACK_IMPORTED_MODULE_15___default().oneOf(Object.values(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS)),\n  connectionStatusMsg: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().string),\n  connectionList: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().array),\n  onConnectionChange: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().func),\n  onNewConnClick: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().func),\n  onNewQueryToolClick: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().func),\n  onResetLayout: (prop_types__WEBPACK_IMPORTED_MODULE_15___default().func),\n  containerRef: _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_8__[\"default\"].ref\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/ConnectionBar.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/GeometryViewer.jsx":
/*!**********************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/GeometryViewer.jsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeometryViewer: () => (/* binding */ GeometryViewer)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom/server */ \"./node_modules/react-dom/server.browser.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-leaflet */ \"./node_modules/react-leaflet/lib/hooks.js\");\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-leaflet */ \"./node_modules/react-leaflet/lib/GeoJSON.js\");\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-leaflet */ \"./node_modules/react-leaflet/lib/LayersControl.js\");\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-leaflet */ \"./node_modules/react-leaflet/lib/TileLayer.js\");\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! react-leaflet */ \"./node_modules/react-leaflet/lib/MapContainer.js\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! leaflet */ \"./node_modules/leaflet/dist/leaflet-src.js\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var wkx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! wkx */ \"./node_modules/wkx/lib/wkx.js\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! buffer */ \"./node_modules/buffer/index.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var sources_Theme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sources/Theme */ \"./pgadmin/static/js/Theme/index.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .GeometryViewer-mapContainer': {\n      backgroundColor: theme.palette.background.default,\n      height: '100%',\n      width: '100%',\n      '& .leaflet-popup-content': {\n        overflow: 'auto',\n        margin: '8px',\n        '& .GeometryViewer-table': _objectSpread(_objectSpread({\n          borderSpacing: 0,\n          width: '100%'\n        }, theme.mixins.panelBorder), {}, {\n          '& .GeometryViewer-tableCellHead': {\n            fontWeight: 'bold'\n          },\n          '& .GeometryViewer-tableCell': _objectSpread(_objectSpread(_objectSpread({\n            margin: 0,\n            padding: theme.spacing(0.5)\n          }, theme.mixins.panelBorder.bottom), theme.mixins.panelBorder.right), {}, {\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n          })\n        })\n      }\n    }\n  };\n});\nfunction parseEwkbData(rows, column) {\n  let key = column.key;\n  const maxRenderByteLength = 20 * 1024 * 1024; //render geometry data up to 20MB\n  const maxRenderGeometries = 100000; // render geometries up to 100000\n\n  let geometries3D = [],\n    supportedGeometries = [],\n    unsupportedRows = [],\n    geometryItemMap = new Map(),\n    geometryTotalByteLength = 0,\n    tooLargeDataSize = false,\n    tooManyGeometries = false,\n    infoList = [];\n  lodash__WEBPACK_IMPORTED_MODULE_3___default().every(rows, function (item) {\n    try {\n      let value = item[key];\n      let buffer = buffer__WEBPACK_IMPORTED_MODULE_6__.Buffer.from(value, 'hex');\n      let geometry = wkx__WEBPACK_IMPORTED_MODULE_5__.Geometry.parse(buffer);\n      if ((isNaN(geometry.x) || isNaN(geometry.y)) && !(lodash__WEBPACK_IMPORTED_MODULE_3___default().isNil(geometry.x) && lodash__WEBPACK_IMPORTED_MODULE_3___default().isNil(geometry.y))) {\n        unsupportedRows.push(item);\n        return true;\n      }\n      if (geometry.hasZ) {\n        geometries3D.push(geometry);\n        return true;\n      }\n      geometryTotalByteLength += buffer.byteLength;\n      if (geometryTotalByteLength > maxRenderByteLength) {\n        tooLargeDataSize = true;\n        return false;\n      }\n      if (supportedGeometries.length >= maxRenderGeometries) {\n        tooManyGeometries = true;\n        return false;\n      }\n      if (!geometry.srid) {\n        geometry.srid = 0;\n      }\n      supportedGeometries.push(geometry);\n      geometryItemMap.set(geometry, item);\n    } catch {\n      unsupportedRows.push(item);\n    }\n    return true;\n  });\n\n  // generate map info content\n  if (tooLargeDataSize || tooManyGeometries) {\n    infoList.push(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('%s of %s geometries rendered.', supportedGeometries.length, rows.length));\n  }\n  if (geometries3D.length > 0) {\n    infoList.push(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('3D geometries not rendered.'));\n  }\n  if (unsupportedRows.length > 0) {\n    infoList.push(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Unsupported geometries not rendered.'));\n  }\n  return [supportedGeometries, geometryItemMap, infoList];\n}\nfunction parseData(rows, columns, column) {\n  if (rows.length === 0) {\n    return {\n      'geoJSONs': [],\n      'selectedSRID': 0,\n      'getPopupContent': undefined,\n      'infoList': [sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Empty row.')]\n    };\n  }\n  let mixedSRID = false;\n  // parse ewkb data\n  let [supportedGeometries, geometryItemMap, infoList] = parseEwkbData(rows, column);\n  if (supportedGeometries.length === 0) {\n    return {\n      'geoJSONs': [],\n      'selectedSRID': 0,\n      'getPopupContent': undefined,\n      'infoList': infoList\n    };\n  }\n\n  // group geometries by SRID\n  let geometriesGroupBySRID = lodash__WEBPACK_IMPORTED_MODULE_3___default().groupBy(supportedGeometries, 'srid');\n  let SRIDGeometriesPairs = lodash__WEBPACK_IMPORTED_MODULE_3___default().toPairs(geometriesGroupBySRID);\n  if (SRIDGeometriesPairs.length > 1) {\n    mixedSRID = true;\n  }\n  // select the largest group\n  let selectedPair = lodash__WEBPACK_IMPORTED_MODULE_3___default().max(SRIDGeometriesPairs, function (pair) {\n    return pair[1].length;\n  });\n  let selectedSRID = parseInt(selectedPair[0]);\n  let selectedGeometries = selectedPair[1];\n  let geoJSONs = lodash__WEBPACK_IMPORTED_MODULE_3___default().map(selectedGeometries, function (geometry) {\n    return geometry.toGeoJSON();\n  });\n  let getPopupContent;\n  if (columns.length >= 2) {\n    // add popup when geometry has properties\n    getPopupContent = function (geojson) {\n      let geometry = selectedGeometries[geoJSONs.indexOf(geojson)];\n      let row = geometryItemMap.get(geometry);\n      let retVal = [];\n      for (const col of columns) {\n        if (col.key === column.key) {\n          continue;\n        }\n        retVal.push({\n          'column': col.display_name,\n          'value': row[col.key]\n        });\n      }\n      return retVal;\n    };\n  }\n  if (mixedSRID) {\n    infoList.push(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Geometries with non-SRID %s not rendered.', selectedSRID));\n  }\n  return {\n    'geoJSONs': geoJSONs,\n    'selectedSRID': selectedSRID,\n    'getPopupContent': getPopupContent,\n    'infoList': infoList\n  };\n}\nfunction PopupTable(_ref2) {\n  let {\n    data\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"table\", {\n    className: \"GeometryViewer-table\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"tbody\", null, data.map(row => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"tr\", {\n      key: row.column\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", {\n      className: 'GeometryViewer-tableCell ' + 'GeometryViewer-tableCellHead'\n    }, row.column), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", {\n      className: \"GeometryViewer-tableCell\"\n    }, `${row.value}`));\n  })));\n}\nPopupTable.propTypes = {\n  data: prop_types__WEBPACK_IMPORTED_MODULE_13___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({\n    column: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),\n    value: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().any)\n  }))\n};\nfunction GeoJsonLayer(_ref3) {\n  let {\n    data,\n    setHomeCoordinates\n  } = _ref3;\n  const vectorLayerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  const mapObj = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_14__.useMap)();\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!vectorLayerRef.current) return;\n    if (data.geoJSONs.length <= 0) return;\n    let bounds = vectorLayerRef.current.getBounds().pad(0.1);\n    let maxLength = Math.max(bounds.getNorth() - bounds.getSouth(), bounds.getEast() - bounds.getWest());\n    let minZoom = 0;\n    if (data.selectedSRID !== 4326) {\n      if (maxLength >= 180) {\n        // calculate the min zoom level to enable the map to fit the whole geometry.\n        minZoom = Math.floor(Math.log2(360 / maxLength)) - 2;\n      }\n    }\n    mapObj.setMinZoom(minZoom);\n    if (maxLength > 0) {\n      mapObj.fitBounds(bounds);\n    } else {\n      mapObj.setView(bounds.getCenter(), mapObj.getZoom());\n    }\n    setHomeCoordinates({\n      bounds,\n      maxLength\n    });\n  }, [data]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_15__.GeoJSON, {\n    ref: vectorLayerRef,\n    pointToLayer: (_feature, latlng) => {\n      return leaflet__WEBPACK_IMPORTED_MODULE_4___default().circleMarker(latlng, {\n        radius: 4,\n        weight: 3\n      });\n    },\n    style: {\n      weight: 2\n    },\n    onEachFeature: (feature, layer) => {\n      if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isFunction(data.getPopupContent)) {\n        layer.bindPopup(l => {\n          const popupContentNode = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(sources_Theme__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PopupTable, {\n            data: data.getPopupContent(l.feature.geometry)\n          }));\n          return react_dom_server__WEBPACK_IMPORTED_MODULE_2__.renderToString(popupContentNode);\n        }, {\n          closeButton: false,\n          minWidth: 260,\n          maxWidth: 300,\n          maxHeight: 300\n        });\n      }\n    },\n    data: data.geoJSONs\n  });\n}\nGeoJsonLayer.propTypes = {\n  data: prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({\n    geoJSONs: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().array),\n    selectedSRID: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),\n    getPopupContent: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),\n    infoList: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().array)\n  }),\n  setHomeCoordinates: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func)\n};\nfunction TheMap(_ref4) {\n  let {\n    data\n  } = _ref4;\n  const mapObj = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_14__.useMap)();\n  const infoControl = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  const resetLayersKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n  const zoomControlWithHome = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  const homeCoordinates = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    infoControl.current = leaflet__WEBPACK_IMPORTED_MODULE_4___default().control({\n      position: 'topright'\n    });\n    infoControl.current.onAdd = function () {\n      let ele = leaflet__WEBPACK_IMPORTED_MODULE_4___default().DomUtil.create('div', 'geometry-viewer-info-control');\n      ele.innerHTML = data.infoList.join('<br />');\n      return ele;\n    };\n    if (data.infoList.length > 0) {\n      infoControl.current.addTo(mapObj);\n    }\n    resetLayersKey.current++;\n    zoomControlWithHome.current = leaflet__WEBPACK_IMPORTED_MODULE_4___default().control.zoom({\n      zoomHomeIcon: 'home',\n      zoomHomeTitle: 'Home',\n      homeCoordinates: null,\n      homeZoom: null,\n      maxLength: null\n    });\n    zoomControlWithHome.current._zoomHome = function () {\n      let obj = this;\n      if (obj.options.maxLength > 0) {\n        obj._map.fitBounds(obj.options.homeCoordinates);\n      } else {\n        obj.options.homeCoordinates && obj._map.setView(obj.options.homeCoordinates.getCenter(), obj.options.homeZoom);\n      }\n    };\n    zoomControlWithHome.current.onAdd = function (map) {\n      let obj = this;\n      let controlName = 'leaflet-control-zoom',\n        container = leaflet__WEBPACK_IMPORTED_MODULE_4___default().DomUtil.create('div', controlName + ' leaflet-bar'),\n        options = obj.options;\n      if (options.homeCoordinates === null) {\n        options.homeCoordinates = homeCoordinates.current?.bounds;\n      }\n      if (options.homeZoom === null) {\n        options.homeZoom = homeCoordinates.current?.bounds ? map.getBoundsZoom(homeCoordinates.current?.bounds) : 0;\n      }\n      if (options.maxLength === null) {\n        options.maxLength = homeCoordinates.current?.maxLength;\n      }\n      let zoomHomeText = `<i class=\"fa fa-${options.zoomHomeIcon}\"></i>`;\n      obj._zoomInButton = obj._createButton(options.zoomInText, options.zoomInTitle, controlName + '-in', container, obj._zoomIn.bind(this));\n      obj._createButton(zoomHomeText, options.zoomHomeTitle, controlName + '-home', container, obj._zoomHome.bind(this));\n      obj._zoomOutButton = obj._createButton(options.zoomOutText, options.zoomOutTitle, controlName + '-out', container, obj._zoomOut.bind(this));\n      obj._updateDisabled();\n      map.on('zoomend zoomlevelschange', obj._updateDisabled, this);\n      return container;\n    };\n    zoomControlWithHome.current.addTo(mapObj);\n    return () => {\n      infoControl.current?.remove();\n      zoomControlWithHome.current?.remove();\n    };\n  }, [data]);\n  const setHomeCoordinates = data => {\n    homeCoordinates.current = data;\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, data.selectedSRID === 4326 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl, {\n    position: \"topright\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl.BaseLayer, {\n    checked: true,\n    name: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Empty')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.TileLayer, {\n    url: \"\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl.BaseLayer, {\n    checked: true,\n    name: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Street')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.TileLayer, {\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    maxZoom: 19,\n    attribution: \"\\xA9 <a href=\\\"http://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\">OpenStreetMap</a>\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl.BaseLayer, {\n    name: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Topography')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.TileLayer, {\n    url: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",\n    maxZoom: 17,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a>,' + ' &copy; <a href=\"http://viewfinderpanoramas.org\" target=\"_blank\">SRTM</a>,' + ' &copy; <a href=\"https://opentopomap.org\" target=\"_blank\">OpenTopoMap</a>'\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl.BaseLayer, {\n    name: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Gray Style')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.TileLayer, {\n    url: \"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}{r}.png\",\n    maxZoom: 19,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a>,' + ' &copy; <a href=\"http://cartodb.com/attributions\" target=\"_blank\">CartoDB</a>',\n    subdomains: \"abcd\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl.BaseLayer, {\n    name: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Light Color')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.TileLayer, {\n    url: \"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}{r}.pn\",\n    maxZoom: 19,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a>,' + ' &copy; <a href=\"http://cartodb.com/attributions\" target=\"_blank\">CartoDB</a>',\n    subdomains: \"abcd\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_16__.LayersControl.BaseLayer, {\n    name: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Dark Matter')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_17__.TileLayer, {\n    url: \"https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}{r}.png\",\n    maxZoom: 19,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a>,' + ' &copy; <a href=\"http://cartodb.com/attributions\" target=\"_blank\">CartoDB</a>',\n    subdomains: \"abcd\"\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(GeoJsonLayer, {\n    key: resetLayersKey.current,\n    data: data,\n    setHomeCoordinates: setHomeCoordinates\n  }));\n}\nTheMap.propTypes = {\n  data: prop_types__WEBPACK_IMPORTED_MODULE_13___default().shape({\n    geoJSONs: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().array),\n    selectedSRID: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),\n    getPopupContent: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),\n    infoList: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().array)\n  })\n};\nfunction GeometryViewer(_ref5) {\n  let {\n    rows,\n    columns,\n    column\n  } = _ref5;\n  const mapRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef();\n  const contentRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef();\n  const data = parseData(rows, columns, column);\n  const queryToolCtx = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_10__.QueryToolContext);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    let timeoutId;\n    const contentResizeObserver = new ResizeObserver(() => {\n      clearTimeout(timeoutId);\n      if (queryToolCtx.docker.isTabVisible(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_9__.PANELS.GEOMETRY)) {\n        timeoutId = setTimeout(function () {\n          mapRef.current?.invalidateSize();\n        }, 100);\n      }\n    });\n    contentResizeObserver.observe(contentRef.current);\n  }, []);\n\n  // Dyanmic CRS is not supported. Use srid as key and recreate the map on change\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, {\n    ref: contentRef,\n    width: \"100%\",\n    height: \"100%\",\n    key: data.selectedSRID\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_leaflet__WEBPACK_IMPORTED_MODULE_18__.MapContainer, {\n    crs: data.selectedSRID === 4326 ? leaflet__WEBPACK_IMPORTED_MODULE_4__.CRS.EPSG3857 : leaflet__WEBPACK_IMPORTED_MODULE_4__.CRS.Simple,\n    zoom: 2,\n    center: [20, 100],\n    zoomControl: false,\n    preferCanvas: true,\n    className: \"GeometryViewer-mapContainer\",\n    ref: mapRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TheMap, {\n    data: data\n  })));\n}\nGeometryViewer.propTypes = {\n  rows: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().array),\n  columns: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().array),\n  column: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/GeometryViewer.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/GraphVisualiser.jsx":
/*!***********************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/GraphVisualiser.jsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GraphVisualiser: () => (/* binding */ GraphVisualiser)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var sources_components_Loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/components/Loader */ \"./pgadmin/static/js/components/Loader.jsx\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/styles/useTheme.js\");\n/* harmony import */ var _mui_icons_material_ShowChartRounded__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/ShowChartRounded */ \"./node_modules/@mui/icons-material/esm/ShowChartRounded.js\");\n/* harmony import */ var _mui_icons_material_ZoomOutMap__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/ZoomOutMap */ \"./node_modules/@mui/icons-material/esm/ZoomOutMap.js\");\n/* harmony import */ var _mui_icons_material_SaveAlt__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/SaveAlt */ \"./node_modules/@mui/icons-material/esm/SaveAlt.js\");\n/* harmony import */ var _mui_icons_material_ExpandLessRounded__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/ExpandLessRounded */ \"./node_modules/@mui/icons-material/esm/ExpandLessRounded.js\");\n/* harmony import */ var _mui_icons_material_ExpandMoreRounded__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/ExpandMoreRounded */ \"./node_modules/@mui/icons-material/esm/ExpandMoreRounded.js\");\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var sources_chartjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! sources/chartjs */ \"./pgadmin/static/js/chartjs/index.jsx\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n\n\n\nconst _excluded = [\"graphType\", \"graphData\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    width: '100%',\n    height: '100%',\n    overflowY: 'scroll',\n    display: 'flex',\n    flexDirection: 'column',\n    '& .GraphVisualiser-topContainer': _objectSpread(_objectSpread({\n      alignItems: 'flex-start',\n      padding: '4px',\n      backgroundColor: theme.otherVars.editorToolbarBg,\n      flexWrap: 'wrap'\n    }, theme.mixins.panelBorder.bottom), {}, {\n      '& .GraphVisualiser-displayFlex': {\n        display: 'flex',\n        '& .GraphVisualiser-spanLabel': {\n          alignSelf: 'center',\n          minWidth: '6%',\n          whiteSpace: 'nowrap',\n          '& .GraphVisualiser-axisSelectCtrl': {\n            minWidth: '200px',\n            marginTop: '2px'\n          },\n          '& .GraphVisualiser-selectCtrl': {\n            minWidth: '200px'\n          }\n        }\n      }\n    }),\n    '& .GraphVisualiser-graphContainer': {\n      padding: '8px',\n      flexGrow: 1,\n      overflow: 'hidden'\n    }\n  };\n});\n\n// Numeric data type used to separate out the options for Y axis.\nconst NUMERIC_TYPES = ['oid', 'smallint', 'integer', 'bigint', 'decimal', 'numeric', 'real', 'double precision', 'smallserial', 'serial', 'bigserial'];\n\n// This function is used to generate the appropriate graph based on the graphType.\nfunction GenerateGraph(_ref2) {\n  let {\n      graphType,\n      graphData\n    } = _ref2,\n    props = (0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_ref2, _excluded);\n  const queryToolCtx = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_11__.QueryToolContext);\n  let showDataPoints = queryToolCtx.preferences.graphs['graph_data_points'];\n  let useDiffPointStyle = queryToolCtx.preferences.graphs['use_diff_point_style'];\n  let showToolTip = queryToolCtx.preferences.graphs['graph_mouse_track'];\n  let lineBorderWidth = queryToolCtx.preferences.graphs['graph_line_border_width'];\n\n  // Below options are used by chartjs while rendering the graph\n  const defaultOptions = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => ({\n    plugins: {\n      legend: {\n        display: true,\n        labels: {\n          usePointStyle: false\n        }\n      },\n      tooltip: {\n        enabled: showToolTip\n      },\n      zoom: {\n        pan: {\n          enabled: true\n        },\n        zoom: {\n          drag: {\n            enabled: true\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        display: true,\n        stacked: false,\n        offset: true,\n        ticks: {\n          display: true\n        }\n      },\n      y: {\n        stacked: false,\n        beginAtZero: true\n      }\n    }\n  }));\n  const lineChartOptions = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => ({\n    elements: {\n      point: {\n        radius: showDataPoints ? sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.DATA_POINT_SIZE : 0\n      },\n      line: {\n        borderWidth: lineBorderWidth,\n        fill: '-1'\n      }\n    },\n    plugins: {\n      legend: {\n        labels: {\n          usePointStyle: showDataPoints && useDiffPointStyle\n        }\n      }\n    },\n    scales: {\n      x: {\n        offset: false\n      }\n    }\n  }));\n  if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isEmpty(graphData.datasets)) return null;\n  if (graphType == 'L' || graphType == 'SL') {\n    let options = lodash__WEBPACK_IMPORTED_MODULE_3___default().merge(defaultOptions, lineChartOptions);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.LineChart, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      options: options,\n      data: graphData,\n      stacked: graphType == 'SL'\n    }, props));\n  } else if (graphType == 'B' || graphType == 'SB') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.BarChart, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      options: defaultOptions,\n      data: graphData,\n      stacked: graphType == 'SB'\n    }, props));\n  } else if (graphType == 'P') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.PieChart, (0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      data: graphData\n    }, props));\n  } else {\n    return null;\n  }\n}\nGenerateGraph.propTypes = {\n  graphType: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().string),\n  graphData: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object)\n};\n\n// This function is used to get the dataset for Line Chart and Stacked Line Chart.\nfunction getLineChartData(graphType, rows, colName, colPosition, color, styleIndex, queryToolCtx) {\n  return {\n    label: colName,\n    data: rows.map(r => r[colPosition]),\n    backgroundColor: graphType == 'SL' ? (0,sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.LightenDarkenColor)(color, 135) : color,\n    borderColor: color,\n    pointHitRadius: sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.DATA_POINT_SIZE,\n    pointHoverRadius: 5,\n    pointStyle: queryToolCtx.preferences.graphs['use_diff_point_style'] ? sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.DATA_POINT_STYLE[styleIndex] : 'circle',\n    fill: graphType == 'L' ? false : 'origin'\n  };\n}\n\n// This function is used to get the dataset for Bar Chart and Stacked Bar Chart.\nfunction getBarChartData(rows, colName, colPosition, color) {\n  return {\n    label: colName,\n    data: rows.map(r => r[colPosition]),\n    backgroundColor: color,\n    borderColor: color\n  };\n}\n\n// This function is used to get the dataset for Pie Chart.\nfunction getPieChartData(rows, colName, colPosition, theme) {\n  return {\n    label: colName,\n    data: rows.map(r => r[colPosition]),\n    backgroundColor: rows.map((_v, i) => {\n      return (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_13__.getChartColor)(i, theme);\n    })\n  };\n}\n\n// This function is used to get the graph data set for the X axis and Y axis\nfunction getGraphDataSet(graphType, rows, columns, xaxis, yaxis, queryToolCtx, theme) {\n  // Function is used to the find the position of the column\n  function getColumnPosition(colName) {\n    return lodash__WEBPACK_IMPORTED_MODULE_3___default().find(columns, c => c.name == colName)?.pos;\n  }\n  let styleIndex = -1;\n  return {\n    'labels': rows.map((r, index) => {\n      let colPosition = getColumnPosition(xaxis);\n      // If row number are selected then label should be the index + 1.\n      if (xaxis === '<Row Number>') {\n        return index + 1;\n      }\n      return r[colPosition];\n    }),\n    'datasets': yaxis.map((colName, i) => {\n      let color = (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_13__.getChartColor)(i, theme);\n      let colPosition = getColumnPosition(colName);\n\n      // Loop is used to set the index for DATA_POINT_STYLE array\n      if (styleIndex >= sources_chartjs__WEBPACK_IMPORTED_MODULE_10__.DATA_POINT_STYLE.length - 1) {\n        styleIndex = -1;\n      }\n      styleIndex = styleIndex + 1;\n      if (graphType === 'P') {\n        return getPieChartData(rows, colName, colPosition, theme.name);\n      } else if (graphType === 'B' || graphType === 'SB') {\n        return getBarChartData(rows, colName, colPosition, color);\n      } else if (graphType === 'L' || graphType === 'SL') {\n        return getLineChartData(graphType, rows, colName, colPosition, color, styleIndex, queryToolCtx);\n      }\n    })\n  };\n}\nfunction GraphVisualiser(_ref3) {\n  let {\n    initColumns\n  } = _ref3;\n  const chartObjRef = react__WEBPACK_IMPORTED_MODULE_4___default().useRef();\n  const contentRef = react__WEBPACK_IMPORTED_MODULE_4___default().useRef();\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_11__.QueryToolEventsContext);\n  const queryToolCtx = (0,react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_11__.QueryToolContext);\n  const [graphType, setGraphType] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)('L');\n  const [xAxis, setXAxis] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(null);\n  const [yAxis, setYAxis] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]);\n  const [[graphData, graphDataKey], setGraphData] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([{\n    'datasets': []\n  }, 0]);\n  const [loaderText, setLoaderText] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)('');\n  const [columns, setColumns] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(initColumns);\n  const [graphHeight, setGraphHeight] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)();\n  const [expandedState, setExpandedState] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(true);\n  const theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"])();\n\n  // Create X axis options for drop down.\n  let xAxisOptions = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => {\n    let retVal = [{\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('<Row Number>'),\n      value: '<Row Number>'\n    }];\n    columns.forEach(element => {\n      if (!element.is_array) {\n        retVal.push({\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()(element.name),\n          value: element.name\n        });\n      }\n    });\n    return retVal;\n  }, [columns]);\n\n  // Create Y axis options for drop down which must be of numeric type.\n  let yAxisOptions = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => {\n    let retVal = [];\n    columns.forEach(element => {\n      if (!element.is_array && NUMERIC_TYPES.indexOf(element.type) >= 0) {\n        retVal.push({\n          label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()(element.name),\n          value: element.name\n        });\n      }\n    });\n    return retVal;\n  }, [columns]);\n\n  // optionsReload is required to reset the X axis and Y axis option in InputSelect.\n  let optionsReload = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => {\n    return columns.map(c => c.name).join('');\n  }, [columns]);\n\n  // Use to register/deregister query execution end event. We need to reset graph\n  // when query is changed and the execution of the query is ended.\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n    let timeoutId;\n    const contentResizeObserver = new ResizeObserver(() => {\n      clearTimeout(timeoutId);\n      if (queryToolCtx.docker.isTabVisible(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_12__.PANELS.GRAPH_VISUALISER)) {\n        timeoutId = setTimeout(function () {\n          setGraphHeight(contentRef.current.offsetHeight - 8);\n        }, 300);\n      }\n    });\n    contentResizeObserver.observe(contentRef.current);\n    const resetGraphVisualiser = newColumns => {\n      setGraphData([{\n        'datasets': []\n      }, 0]);\n      // Check the previously selected X axis column is exist in the list of\n      // new columns. If exists then set that as it is.\n      setXAxis(prevXAxis => {\n        if (prevXAxis === '<Row Number>' || newColumns.map(c => c.name).includes(prevXAxis)) {\n          return prevXAxis;\n        }\n        return null;\n      });\n\n      // Check the previously selected Y axis columns are exist in the list of\n      // new columns. If exists then set all those columns as it is.\n      setYAxis(prevYAxis => {\n        return newColumns.map(c => c.name).filter(colName => {\n          return prevYAxis.includes(colName);\n        });\n      });\n      setColumns(newColumns);\n    };\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_12__.QUERY_TOOL_EVENTS.RESET_GRAPH_VISUALISER, resetGraphVisualiser);\n    return () => {\n      eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_12__.QUERY_TOOL_EVENTS.RESET_GRAPH_VISUALISER, resetGraphVisualiser);\n    };\n  }, []);\n\n  // Reset the Y axis if graph type is Pie Chart.\n  (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(() => {\n    if (graphType === 'P') {\n      setYAxis('');\n    }\n  }, [graphType, theme]);\n  const graphBackgroundColor = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => {\n    return theme.palette.background.default;\n  }, [theme]);\n  const beforeDrawFunc = chart => {\n    const ctx = chart.canvas.getContext('2d');\n    ctx.save();\n    ctx.globalCompositeOperation = 'destination-over';\n    ctx.fillStyle = graphBackgroundColor;\n    ctx.fillRect(0, 0, chart.width, chart.height);\n    ctx.restore();\n  };\n\n  // Generate button callback\n  const onGenerate = async () => {\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Fetching all the records...'));\n    if (graphData?.datasets?.length > 0) {\n      onResetZoom();\n    }\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.fetch_all_from_start', {\n      'trans_id': queryToolCtx.params.trans_id,\n      'limit': queryToolCtx.preferences.sqleditor.row_limit\n    });\n    let res = await queryToolCtx.api.get(url);\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Rendering data points...'));\n    // Set the Graph Data\n    setGraphData(prev => [getGraphDataSet(graphType, res.data.data.result, columns, xAxis, lodash__WEBPACK_IMPORTED_MODULE_3___default().isArray(yAxis) ? yAxis : [yAxis], queryToolCtx, theme.name), prev[1] + 1]);\n    setLoaderText('');\n  };\n\n  // Reset the zoom to normal\n  const onResetZoom = () => {\n    chartObjRef?.current?.resetZoom();\n  };\n\n  // Download button callback\n  const onDownloadGraph = async () => {\n    let downloadUrl = chartObjRef.current.toBase64Image(),\n      fileName = 'graph_visualiser-' + new Date().getTime() + '.png';\n    (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_13__.downloadUrlData)(downloadUrl, fileName);\n  };\n\n  // This plugin is used to set the background color of the canvas. Very useful\n  // when downloading the graph.\n  const plugin = {\n    beforeDraw: chart => {\n      beforeDrawFunc(chart);\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(StyledBox, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(sources_components_Loader__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    message: loaderText\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    className: \"GraphVisualiser-topContainer\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    className: \"GraphVisualiser-displayFlex\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: \"GraphVisualiser-spanLabel\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Graph Type')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_8__.InputSelect, {\n    className: \"GraphVisualiser-selectCtrl\",\n    controlProps: {\n      allowClear: false\n    },\n    options: [{\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Line Chart'),\n      value: 'L'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Stacked Line Chart'),\n      value: 'SL'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Bar Chart'),\n      value: 'B'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Stacked Bar Chart'),\n      value: 'SB'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Pie Chart'),\n      value: 'P'\n    }],\n    onChange: v => {\n      setGraphType(v);\n      if (graphType === 'P' || v === 'P') {\n        setExpandedState(true);\n      }\n    },\n    value: graphType\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_9__.DefaultButton, {\n    style: {\n      marginLeft: 'auto'\n    },\n    onClick: onGenerate,\n    startIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_ShowChartRounded__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null),\n    disabled: lodash__WEBPACK_IMPORTED_MODULE_3___default().isEmpty(xAxis) || yAxis.length <= 0\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Generate')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_9__.PgIconButton, {\n    title: expandedState ? sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Collapse') : sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Expand'),\n    icon: expandedState ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_ExpandLessRounded__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n      style: {\n        height: '1.2rem'\n      }\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_ExpandMoreRounded__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n      style: {\n        height: '1.2rem'\n      }\n    }),\n    onClick: () => {\n      setExpandedState(!expandedState);\n    }\n  })), expandedState && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement((react__WEBPACK_IMPORTED_MODULE_4___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    className: \"GraphVisualiser-displayFlex\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: \"GraphVisualiser-spanLabel\"\n  }, graphType != 'P' ? sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('X Axis') : sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Label')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_8__.InputSelect, {\n    className: \"GraphVisualiser-axisSelectCtrl\",\n    options: xAxisOptions,\n    onChange: v => setXAxis(v),\n    value: xAxis,\n    optionsReloadBasis: optionsReload\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    className: \"GraphVisualiser-displayFlex\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(\"span\", {\n    className: \"GraphVisualiser-spanLabel\"\n  }, graphType != 'P' ? sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Y Axis') : sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Value')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_8__.InputSelect, {\n    className: \"GraphVisualiser-axisSelectCtrl\",\n    controlProps: {\n      'multiple': graphType != 'P',\n      allowSelectAll: graphType != 'P'\n    },\n    options: yAxisOptions,\n    onChange: v => setYAxis(v),\n    value: yAxis,\n    optionsReloadBasis: optionsReload\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    display: \"flex\",\n    marginLeft: \"3px\",\n    marginTop: \"3px\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_9__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_9__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Zoom to original'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_ZoomOutMap__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n      style: {\n        height: '1.2rem'\n      }\n    }),\n    onClick: () => onResetZoom(),\n    disabled: graphData.datasets.length <= 0\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_9__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_5___default()('Download'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_icons_material_SaveAlt__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n      style: {\n        height: '1.2rem'\n      }\n    }),\n    onClick: onDownloadGraph,\n    disabled: graphData.datasets.length <= 0\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    ref: contentRef,\n    className: \"GraphVisualiser-graphContainer\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    style: {\n      height: `${graphHeight}px`\n    }\n  }, (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default().createElement(GenerateGraph, {\n    graphType: graphType,\n    graphData: graphData,\n    onInit: chartObj => {\n      chartObjRef.current = chartObj;\n    },\n    plugins: [plugin]\n  }), [graphDataKey]))));\n}\nGraphVisualiser.propTypes = {\n  initColumns: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().array)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/GraphVisualiser.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/MainToolBar.jsx":
/*!*******************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/MainToolBar.jsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MainToolBar: () => (/* binding */ MainToolBar)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_FolderRounded__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/FolderRounded */ \"./node_modules/@mui/icons-material/esm/FolderRounded.js\");\n/* harmony import */ var _mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/KeyboardArrowDown */ \"./node_modules/@mui/icons-material/esm/KeyboardArrowDown.js\");\n/* harmony import */ var _mui_icons_material_SaveRounded__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/SaveRounded */ \"./node_modules/@mui/icons-material/esm/SaveRounded.js\");\n/* harmony import */ var _mui_icons_material_StopRounded__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/StopRounded */ \"./node_modules/@mui/icons-material/esm/StopRounded.js\");\n/* harmony import */ var _mui_icons_material_PlayArrowRounded__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/icons-material/PlayArrowRounded */ \"./node_modules/@mui/icons-material/esm/PlayArrowRounded.js\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/* harmony import */ var _mui_icons_material_EditRounded__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/EditRounded */ \"./node_modules/@mui/icons-material/esm/EditRounded.js\");\n/* harmony import */ var _mui_icons_material_AssessmentRounded__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/icons-material/AssessmentRounded */ \"./node_modules/@mui/icons-material/esm/AssessmentRounded.js\");\n/* harmony import */ var _mui_icons_material_ExplicitRounded__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/icons-material/ExplicitRounded */ \"./node_modules/@mui/icons-material/esm/ExplicitRounded.js\");\n/* harmony import */ var _mui_icons_material_FormatListNumberedRounded__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/icons-material/FormatListNumberedRounded */ \"./node_modules/@mui/icons-material/esm/FormatListNumberedRounded.js\");\n/* harmony import */ var _mui_icons_material_HelpRounded__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/icons-material/HelpRounded */ \"./node_modules/@mui/icons-material/esm/HelpRounded.js\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../static/js/components/Menu */ \"./pgadmin/static/js/components/Menu.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../static/js/custom_prop_types */ \"./pgadmin/static/js/custom_prop_types.js\");\n/* harmony import */ var _dialogs_ConfirmTransactionContent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../dialogs/ConfirmTransactionContent */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmTransactionContent.jsx\");\n/* harmony import */ var _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../static/js/helpers/Layout */ \"./pgadmin/static/js/helpers/Layout/index.jsx\");\n/* harmony import */ var _dialogs_CloseRunningDialog__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../dialogs/CloseRunningDialog */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/CloseRunningDialog.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return _objectSpread({\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '4px',\n    backgroundColor: theme.otherVars.editorToolbarBg,\n    flexWrap: 'wrap'\n  }, theme.mixins.panelBorder.bottom);\n});\nfunction autoCommitRollback(type, api, transId, value) {\n  let url = sources_url_for__WEBPACK_IMPORTED_MODULE_9___default()(`sqleditor.${type}`, {\n    'trans_id': transId\n  });\n  return api.post(url, JSON.stringify(value));\n}\nfunction MainToolBar(_ref2) {\n  let {\n    containerRef,\n    onFilterClick,\n    onManageMacros,\n    onAddToMacros\n  } = _ref2;\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolEventsContext);\n  const queryToolCtx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolContext);\n  const queryToolConnCtx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolConnectionContext);\n  const modalId = _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.MODAL_DIALOGS.QT_CONFIRMATIONS;\n  const [highlightFilter, setHighlightFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [limit, setLimit] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('-1');\n  const [buttonsDisabled, setButtonsDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    'save': true,\n    'cancel': true,\n    'save-data': true,\n    'delete-rows': true,\n    'commit': true,\n    'rollback': true,\n    'filter': true,\n    'limit': false,\n    'execute-options': !queryToolCtx.params.is_query_tool\n  });\n  const {\n    openMenuName,\n    toggleMenu,\n    onMenuClose\n  } = (0,_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.usePgMenuGroup)();\n  const [checkedMenuItems, setCheckedMenuItems] = react__WEBPACK_IMPORTED_MODULE_1___default().useState({});\n  /* Menu button refs */\n  const saveAsMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const openInNewTabMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const editMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const autoCommitMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const explainMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const macrosMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const filterMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const queryToolPref = queryToolCtx.preferences.sqleditor;\n  const setDisableButton = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (name) {\n    let disable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    setButtonsDisabled(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: disable\n    }));\n  }, []);\n  const executeCursor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (!queryToolCtx.preferences.sqleditor.underline_query_cursor && queryToolCtx.preferences.sqleditor.underlined_query_execute_warning) {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTE_CURSOR_WARNING);\n    } else {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION, null, '', true);\n    }\n  }, [queryToolCtx.preferences.sqleditor]);\n  const executeScript = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION);\n  }, []);\n  const cancelQuery = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_STOP_EXECUTION);\n  }, []);\n  const explain = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    let analyze = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION, {\n      format: 'json',\n      analyze: analyze,\n      verbose: Boolean(checkedMenuItems['explain_verbose']),\n      costs: Boolean(checkedMenuItems['explain_costs']),\n      buffers: analyze ? Boolean(checkedMenuItems['explain_buffers']) : false,\n      timing: analyze ? Boolean(checkedMenuItems['explain_timing']) : false,\n      summary: Boolean(checkedMenuItems['explain_summary']),\n      settings: Boolean(checkedMenuItems['explain_settings']),\n      wal: analyze ? Boolean(checkedMenuItems['explain_wal']) : false\n    });\n  }, [checkedMenuItems]);\n  const explainAnalyse = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    explain(true);\n  }, [explain]);\n  const checkMenuClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    setCheckedMenuItems(prev => {\n      let newVal = !prev[e.value];\n      if (e.value === 'auto_commit' || e.value === 'auto_rollback') {\n        autoCommitRollback(e.value, queryToolCtx.api, queryToolCtx.params.trans_id, newVal).catch(error => {\n          newVal = prev[e.value];\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, error, {\n            checkTransaction: true\n          });\n        });\n      }\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [e.value]: newVal\n      });\n    });\n  }, []);\n  const openFile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    confirmDiscard(() => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_LOAD_FILE, Boolean(checkedMenuItems['open_in_new_tab']));\n    }, true);\n  }, [buttonsDisabled['save'], checkedMenuItems]);\n  const saveFile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    let saveAs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_FILE, saveAs);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, () => {\n      setDisableButton('execute', true);\n      setDisableButton('cancel', false);\n      setDisableButton('explain', true);\n      setDisableButton('explain_analyse', true);\n      setDisableButton('limit', true);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END, () => {\n      setDisableButton('execute', false);\n      setDisableButton('cancel', true);\n      setDisableButton('explain', false);\n      setDisableButton('explain_analyse', false);\n      setDisableButton('limit', false);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_RESULTS, () => {\n      setDisableButton('execute', true);\n      setDisableButton('explain', true);\n      setDisableButton('explain_analyse', true);\n      setDisableButton('limit', true);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_RESULTS_END, () => {\n      setDisableButton('execute', false);\n      setDisableButton('explain', false);\n      setDisableButton('explain_analyse', false);\n      setDisableButton('limit', false);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.QUERY_CHANGED, isDirty => {\n      setDisableButton('save', !isDirty);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.LOAD_FILE_DONE, () => {\n      setDisableButton('save', true);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SAVE_FILE_DONE, () => {\n      setDisableButton('save', true);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.DATAGRID_CHANGED, isDirty => {\n      setDisableButton('save-data', !isDirty);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SELECTED_ROWS_COLS_CELL_CHANGED, rows => {\n      setDisableButton('delete-rows', !rows);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_FILTER_INFO, (canFilter, filterApplied) => {\n      setDisableButton('filter', !canFilter);\n      setHighlightFilter(filterApplied);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_LIMIT_VALUE, l => {\n      setLimit(l);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PROMOTE_TO_QUERY_TOOL, () => {\n      setDisableButton('filter', true);\n      setHighlightFilter(false);\n      setDisableButton('limit', true);\n      setDisableButton('execute', false);\n      setDisableButton('execute-options', false);\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setDisableButton('execute', queryToolConnCtx.obtainingConn);\n    setDisableButton('explain', queryToolConnCtx.obtainingConn);\n    setDisableButton('explain_analyse', queryToolConnCtx.obtainingConn);\n  }, [queryToolConnCtx.obtainingConn]);\n  const isInTxn = () => queryToolConnCtx.connectionStatus == _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_INTRANS || queryToolConnCtx.connectionStatus == _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_INERROR;\n  const onExecutionDone = () => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END, success => {\n      if (success) {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FORCE_CLOSE_PANEL);\n      }\n    }, true);\n  };\n  const warnTxnClose = () => {\n    if (!isInTxn() || !queryToolCtx.preferences?.sqleditor.prompt_commit_transaction) {\n      /* This will show Close query tool dialog if there is any query running and transaction is active i.e queryToolConnCtx.connectionStatus is 1 */\n      if (queryToolConnCtx.connectionStatus == _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_ACTIVE) {\n        queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Close query tool?'), closeModal => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dialogs_CloseRunningDialog__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n          closeModal: closeModal,\n          text: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('There is an active query running currently. Are you sure you want to close?'),\n          onYes: () => {\n            eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FORCE_CLOSE_PANEL);\n          }\n        }), {\n          id: modalId\n        });\n        return;\n      } else {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FORCE_CLOSE_PANEL);\n        return;\n      }\n    }\n    queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Commit transaction?'), closeModal => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_dialogs_ConfirmTransactionContent__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n      closeModal: closeModal,\n      text: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('The current transaction is not committed to the database. ' + 'Do you want to commit or rollback the transaction?'),\n      onRollback: () => {\n        onExecutionDone();\n        onRollbackClick();\n      },\n      onCommit: () => {\n        onExecutionDone();\n        onCommitClick();\n      }\n    }), {\n      id: modalId\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (isInTxn()) {\n      setDisableButton('commit', false);\n      setDisableButton('rollback', false);\n      setDisableButton('execute-options', true);\n    } else {\n      setDisableButton('commit', true);\n      setDisableButton('rollback', true);\n      setDisableButton('execute-options', !queryToolCtx.params.is_query_tool);\n    }\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_TXN_CLOSE, warnTxnClose);\n    return () => {\n      eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_TXN_CLOSE, warnTxnClose);\n    };\n  }, [queryToolConnCtx.connectionStatus]);\n  const onCommitClick = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, 'COMMIT;', {\n      external: true\n    });\n  };\n  const onRollbackClick = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, 'ROLLBACK;', {\n      external: true\n    });\n  };\n  const executeMacro = m => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION, null, m.sql);\n  };\n  const onLimitChange = e => {\n    setLimit(e.target.value);\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SET_LIMIT, e.target.value);\n  };\n  const formatSQL = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_FORMAT_SQL);\n  };\n  const toggleCase = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EDITOR_TOGGLE_CASE);\n  };\n  const clearQuery = () => {\n    confirmDiscard(() => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EDITOR_SET_SQL, '');\n    });\n  };\n  const onHelpClick = () => {\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_9___default()('help.static', {\n      'filename': queryToolCtx.params.is_query_tool ? 'query_tool.html' : 'editgrid.html'\n    });\n    window.open(url, 'pgadmin_help');\n  };\n  const confirmDiscard = function (callback) {\n    let checkSaved = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (checkSaved && buttonsDisabled['save']) {\n      /* No need to check  */\n      callback();\n      return;\n    }\n    queryToolCtx.modal.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Unsaved changes'), sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Are you sure you wish to discard the current changes?'), function () {\n      callback();\n    }, function () {\n      return true;\n    });\n  };\n  const executeCmd = cmd => eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EDITOR_EXEC_CMD, cmd);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (queryToolPref) {\n      /* Get the prefs first time */\n      if (lodash__WEBPACK_IMPORTED_MODULE_10___default().isUndefined(checkedMenuItems.auto_commit)) {\n        setCheckedMenuItems({\n          auto_commit: queryToolPref.auto_commit,\n          auto_rollback: queryToolPref.auto_rollback,\n          explain_verbose: queryToolPref.explain_verbose,\n          explain_costs: queryToolPref.explain_costs,\n          explain_buffers: queryToolPref.explain_buffers,\n          explain_timing: queryToolPref.explain_timing,\n          explain_summary: queryToolPref.explain_summary,\n          explain_settings: queryToolPref.explain_settings,\n          explain_wal: queryToolPref.explain_wal,\n          open_in_new_tab: queryToolPref.open_in_new_tab\n        });\n      }\n    }\n  }, [queryToolPref]);\n\n  /* Button shortcuts */\n  (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_8__.useKeyboardShortcuts)([{\n    shortcut: queryToolPref.btn_open_file,\n    options: {\n      callback: () => {\n        openFile();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_save_file,\n    options: {\n      callback: () => {\n        !buttonsDisabled['save'] && saveFile(false);\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_edit_options,\n    options: {\n      callback: () => {\n        queryToolCtx.params.is_query_tool && toggleMenu({\n          currentTarget: {\n            name: 'menu-edit'\n          }\n        });\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_filter_dialog,\n    options: {\n      callback: () => {\n        !buttonsDisabled['filter'] && onFilterClick();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_filter_options,\n    options: {\n      callback: () => {\n        !buttonsDisabled['filter'] && toggleMenu({\n          currentTarget: {\n            name: 'menu-filter'\n          }\n        });\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_cancel_query,\n    options: {\n      callback: () => {\n        !buttonsDisabled['cancel'] && cancelQuery();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_execute_options,\n    options: {\n      callback: () => {\n        !buttonsDisabled['execute-options'] && toggleMenu({\n          currentTarget: {\n            name: 'menu-autocommit'\n          }\n        });\n      }\n    }\n  }, {\n    shortcut: queryToolPref.execute_script,\n    options: {\n      callback: () => {\n        !buttonsDisabled['execute'] && executeScript();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.execute_cursor,\n    options: {\n      callback: () => {\n        !buttonsDisabled['execute'] && executeCursor();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.explain_query,\n    options: {\n      callback: e => {\n        e.preventDefault();\n        !buttonsDisabled['explain'] && explain();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.explain_analyze_query,\n    options: {\n      callback: () => {\n        !buttonsDisabled['explain_analyse'] && explainAnalyse();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.commit_transaction,\n    options: {\n      callback: () => {\n        onCommitClick();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.rollback_transaction,\n    options: {\n      callback: () => {\n        onRollbackClick();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.toggle_case,\n    options: {\n      callback: () => {\n        toggleCase();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.clear_query,\n    options: {\n      callback: () => {\n        clearQuery();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.format_sql,\n    options: {\n      callback: () => {\n        formatSQL();\n      }\n    }\n  }], containerRef);\n\n  /* Macro shortcuts */\n  (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_8__.useKeyboardShortcuts)(queryToolCtx.params?.macros?.map(m => {\n    return {\n      shortcut: _objectSpread(_objectSpread({}, m), {}, {\n        'key': {\n          'key_code': m.key_code,\n          'char': m.key\n        }\n      }),\n      options: {\n        callback: () => {\n          executeMacro(m);\n        }\n      }\n    };\n  }) || [], containerRef);\n\n  /* Panel shortcuts */\n  (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_8__.useKeyboardShortcuts)([{\n    shortcut: queryToolPref.move_previous,\n    options: {\n      callback: () => {\n        _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_14__.LayoutDocker.moveTo('left');\n      }\n    }\n  }, {\n    shortcut: queryToolPref.move_next,\n    options: {\n      callback: () => {\n        _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_14__.LayoutDocker.moveTo('right');\n      }\n    }\n  }, {\n    shortcut: queryToolPref.switch_panel,\n    options: {\n      callback: () => {\n        _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_14__.LayoutDocker.switchPanel(queryToolCtx.docker);\n      }\n    }\n  }], containerRef);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Open File'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FolderRounded__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null),\n    disabled: !queryToolCtx.params.is_query_tool,\n    shortcut: queryToolPref.btn_open_file,\n    onClick: openFile\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Open in a new tab'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    splitButton: true,\n    disabled: !queryToolCtx.params.is_query_tool,\n    name: \"menu-openfileintab\",\n    ref: openInNewTabMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Save File'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_SaveRounded__WEBPACK_IMPORTED_MODULE_20__[\"default\"], null),\n    shortcut: queryToolPref.btn_save_file,\n    disabled: buttonsDisabled['save'] || !queryToolCtx.params.is_query_tool,\n    onClick: () => {\n      saveFile(false);\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('File'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    splitButton: true,\n    disabled: !queryToolCtx.params.is_query_tool,\n    name: \"menu-saveas\",\n    ref: saveAsMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Edit'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_EditRounded__WEBPACK_IMPORTED_MODULE_21__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n      style: {\n        marginLeft: '-10px'\n      }\n    })),\n    disabled: !queryToolCtx.params.is_query_tool,\n    shortcut: queryToolPref.btn_edit_options,\n    name: \"menu-edit\",\n    ref: editMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Sort/Filter'),\n    color: highlightFilter ? 'primary' : 'default',\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.FilterIcon, null),\n    onClick: onFilterClick,\n    disabled: buttonsDisabled['filter'],\n    shortcut: queryToolPref.btn_filter_dialog\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Filter options'),\n    color: highlightFilter ? 'primary' : 'default',\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    splitButton: true,\n    disabled: buttonsDisabled['filter'],\n    name: \"menu-filter\",\n    ref: filterMenuRef,\n    shortcut: queryToolPref.btn_filter_options,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_11__.InputSelectNonSearch, {\n    options: [{\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('No limit'),\n      value: '-1'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('1000 rows'),\n      value: '1000'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('500 rows'),\n      value: '500'\n    }, {\n      label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('100 rows'),\n      value: '100'\n    }],\n    value: limit,\n    onChange: onLimitChange,\n    disabled: buttonsDisabled['limit'] || queryToolCtx.params.is_query_tool\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Cancel query'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_StopRounded__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n      style: {\n        height: 'unset'\n      }\n    }),\n    onClick: cancelQuery,\n    disabled: buttonsDisabled['cancel'],\n    shortcut: queryToolPref.btn_cancel_query\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Execute script'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_PlayArrowRounded__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n      style: {\n        height: 'unset'\n      }\n    }),\n    onClick: executeScript,\n    disabled: buttonsDisabled['execute'],\n    shortcut: queryToolPref.execute_script\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Execute query'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.ExecuteQueryIcon, {\n      style: {\n        padding: '2px 5px'\n      }\n    }),\n    onClick: executeCursor,\n    disabled: buttonsDisabled['execute'] || !queryToolCtx.params.is_query_tool,\n    shortcut: queryToolPref.execute_cursor\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Execute options'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    splitButton: true,\n    name: \"menu-autocommit\",\n    ref: autoCommitMenuRef,\n    shortcut: queryToolPref.btn_execute_options,\n    onClick: toggleMenu,\n    disabled: buttonsDisabled['execute-options']\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Explain'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_ExplicitRounded__WEBPACK_IMPORTED_MODULE_24__[\"default\"], null),\n    onClick: () => {\n      explain();\n    },\n    disabled: buttonsDisabled['explain'] || !queryToolCtx.params.is_query_tool,\n    shortcut: queryToolPref.explain_query\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Explain Analyze'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_AssessmentRounded__WEBPACK_IMPORTED_MODULE_25__[\"default\"], null),\n    onClick: () => {\n      explainAnalyse();\n    },\n    disabled: buttonsDisabled['explain_analyse'] || !queryToolCtx.params.is_query_tool,\n    shortcut: queryToolPref.explain_analyze_query\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Explain Settings'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null),\n    splitButton: true,\n    disabled: !queryToolCtx.params.is_query_tool,\n    name: \"menu-explain\",\n    ref: explainMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Commit'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.CommitIcon, null),\n    onClick: onCommitClick,\n    disabled: buttonsDisabled['commit'],\n    shortcut: queryToolPref.commit_transaction\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Rollback'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.RollbackIcon, null),\n    onClick: onRollbackClick,\n    disabled: buttonsDisabled['rollback'],\n    shortcut: queryToolPref.rollback_transaction\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Macros'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FormatListNumberedRounded__WEBPACK_IMPORTED_MODULE_26__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n      style: {\n        marginLeft: '-10px'\n      }\n    })),\n    disabled: !queryToolCtx.params.is_query_tool,\n    name: \"menu-macros\",\n    ref: macrosMenuRef,\n    onClick: toggleMenu\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Help'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_HelpRounded__WEBPACK_IMPORTED_MODULE_27__[\"default\"], null),\n    onClick: onHelpClick\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: openInNewTabMenuRef,\n    open: openMenuName == 'menu-openfileintab',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Open file Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"open_in_new_tab\",\n    checked: checkedMenuItems['open_in_new_tab'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Open in a new tab?'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: saveAsMenuRef,\n    open: openMenuName == 'menu-saveas',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Save As')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    onClick: () => {\n      saveFile(true);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Save As'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: editMenuRef,\n    open: openMenuName == 'menu-edit',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Edit Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.find,\n    onClick: () => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EDITOR_FIND_REPLACE, false);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Find')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.replace,\n    onClick: () => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EDITOR_FIND_REPLACE, true);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Replace')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.gotolinecol,\n    onClick: () => {\n      executeCmd('gotoLineCol');\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Go to Line/Column')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuDivider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.indent,\n    onClick: () => {\n      executeCmd('indentMore');\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Indent Selection')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.unindent,\n    onClick: () => {\n      executeCmd('indentLess');\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Unindent Selection')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.comment,\n    onClick: () => {\n      executeCmd('toggleComment');\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Toggle Comment')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.toggle_case,\n    onClick: toggleCase\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Toggle Case Of Selected Text')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.clear_query,\n    onClick: clearQuery\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Clear Query')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuDivider, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    shortcut: queryToolPref.format_sql,\n    onClick: formatSQL\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Format SQL'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: filterMenuRef,\n    open: openMenuName == 'menu-filter',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Filter Options Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    onClick: () => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_INCLUDE_EXCLUDE_FILTER, true);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Filter by Selection')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    onClick: () => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_INCLUDE_EXCLUDE_FILTER, false);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Exclude by Selection')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    onClick: () => {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_REMOVE_FILTER);\n    }\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Remove Sort/Filter'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: autoCommitMenuRef,\n    open: openMenuName == 'menu-autocommit',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Execute Options Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"auto_commit\",\n    checked: checkedMenuItems['auto_commit'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Auto commit?')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"auto_rollback\",\n    checked: checkedMenuItems['auto_rollback'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Auto rollback on error?'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: explainMenuRef,\n    open: openMenuName == 'menu-explain',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Explain Options Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_verbose\",\n    checked: checkedMenuItems['explain_verbose'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Verbose')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_costs\",\n    checked: checkedMenuItems['explain_costs'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Costs')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_buffers\",\n    checked: checkedMenuItems['explain_buffers'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Buffers')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_timing\",\n    checked: checkedMenuItems['explain_timing'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Timing')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_summary\",\n    checked: checkedMenuItems['explain_summary'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Summary')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_settings\",\n    checked: checkedMenuItems['explain_settings'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Settings')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"explain_wal\",\n    checked: checkedMenuItems['explain_wal'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Wal'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: macrosMenuRef,\n    open: openMenuName == 'menu-macros',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Macros Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    onClick: onManageMacros\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Manage macros')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    onClick: onAddToMacros\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Add to macros')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuDivider, null), queryToolCtx.params?.macros?.map(m => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n      shortcut: _objectSpread(_objectSpread({}, m), {}, {\n        'key': {\n          'key_code': m.key_code,\n          'char': m.key\n        }\n      }),\n      onClick: () => executeMacro(m),\n      key: m.name\n    }, m.name);\n  })));\n}\nMainToolBar.propTypes = {\n  containerRef: _static_js_custom_prop_types__WEBPACK_IMPORTED_MODULE_12__[\"default\"].ref,\n  onFilterClick: (prop_types__WEBPACK_IMPORTED_MODULE_28___default().func),\n  onManageMacros: (prop_types__WEBPACK_IMPORTED_MODULE_28___default().func),\n  onAddToMacros: (prop_types__WEBPACK_IMPORTED_MODULE_28___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/MainToolBar.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/Messages.jsx":
/*!****************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/Messages.jsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Messages: () => (/* binding */ Messages)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\nconst StyledDiv = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return _objectSpread({\n    whiteSpace: 'pre-wrap',\n    fontFamily: '\"Source Code Pro\", SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace',\n    padding: '5px 10px',\n    overflow: 'auto',\n    height: '100%',\n    fontSize: '12px',\n    userSelect: 'text',\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.primary\n  }, theme.mixins.fontSourceCode);\n});\nfunction Messages() {\n  const [messageText, setMessageText] = react__WEBPACK_IMPORTED_MODULE_1___default().useState('');\n  const eventBus = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_2__.QueryToolEventsContext);\n  react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.SET_MESSAGE, function (text) {\n      let append = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      setMessageText(prev => {\n        if (append) {\n          return prev + text;\n        }\n        return text;\n      });\n    });\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledDiv, {\n    tabIndex: \"0\"\n  }, messageText);\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/Messages.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/Notifications.jsx":
/*!*********************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/Notifications.jsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Notifications: () => (/* binding */ Notifications)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _static_js_components_Table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../static/js/components/Table */ \"./pgadmin/static/js/components/Table.jsx\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\nfunction Notifications() {\n  const [notices, setNotices] = react__WEBPACK_IMPORTED_MODULE_0___default().useState([]);\n  const eventBus = react__WEBPACK_IMPORTED_MODULE_0___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_4__.QueryToolEventsContext);\n  react__WEBPACK_IMPORTED_MODULE_0___default().useEffect(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_1__.QUERY_TOOL_EVENTS.PUSH_NOTICE, notice => {\n      if (lodash__WEBPACK_IMPORTED_MODULE_3___default().isArray(notice)) {\n        setNotices(prev => [...prev, ...notice]);\n      } else {\n        setNotices(prev => [...prev, notice]);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_Table__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Recorded time')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Event')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Process ID')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"th\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_2___default()('Payload')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tbody\", null, notices.map(notice => {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"tr\", {\n      key: notice.pid\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n      \"data-label\": \"recorded_time\"\n    }, notice.recorded_time), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n      \"data-label\": \"channel\"\n    }, notice.channel), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n      \"data-label\": \"pid\"\n    }, notice.pid), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"td\", {\n      \"data-label\": \"payload\"\n    }, notice.payload));\n  })));\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/Notifications.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/Query.jsx":
/*!*************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/Query.jsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Query)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sql_formatter__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! sql-formatter */ \"./node_modules/sql-formatter/dist/index.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/ReactCodeMirror */ \"./pgadmin/static/js/components/ReactCodeMirror/index.jsx\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../../static/js/helpers/Layout */ \"./pgadmin/static/js/helpers/Layout/index.jsx\");\n/* harmony import */ var _static_js_Dialogs_ConfirmSaveContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../static/js/Dialogs/ConfirmSaveContent */ \"./pgadmin/static/js/Dialogs/ConfirmSaveContent.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/keyboard_shortcuts */ \"./pgadmin/static/js/keyboard_shortcuts.js\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var _static_js_api_instance__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../static/js/api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n/* harmony import */ var _dialogs_ConfirmPromotionContent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../dialogs/ConfirmPromotionContent */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmPromotionContent.jsx\");\n/* harmony import */ var _dialogs_ConfirmExecuteQueryContent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../dialogs/ConfirmExecuteQueryContent */ \"./pgadmin/tools/sqleditor/static/js/components/dialogs/ConfirmExecuteQueryContent.jsx\");\n/* harmony import */ var _preferences_static_js_store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../../preferences/static/js/store */ \"./pgadmin/preferences/static/js/store.js\");\n/* harmony import */ var _sqleditor_title__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../sqleditor_title */ \"./pgadmin/tools/sqleditor/static/js/sqleditor_title.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_17__);\n/* provided dependency */ var _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nasync function registerAutocomplete(editor, api, transId) {\n  editor.registerAutocomplete((context, onAvailable) => {\n    return new Promise((resolve, reject) => {\n      const url = sources_url_for__WEBPACK_IMPORTED_MODULE_4___default()('sqleditor.autocomplete', {\n        'trans_id': transId\n      });\n      const word = context.matchBefore(/\\w*/);\n      const fullSql = context.state.doc.toString();\n      const sqlTillCur = context.state.sliceDoc(0, context.state.selection.main.head);\n      api.post(url, JSON.stringify([fullSql, sqlTillCur])).then(res => {\n        onAvailable();\n        resolve({\n          from: word.from,\n          options: Object.keys(res.data.data.result).map(key => ({\n            label: key,\n            type: res.data.data.result[key].object_type\n          })),\n          validFor: (text, from) => {\n            return text.startsWith(fullSql.slice(from));\n          }\n        });\n      }).catch(err => {\n        onAvailable();\n        reject(err instanceof Error ? err : Error(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Something went wrong')));\n      });\n    });\n  });\n}\nfunction Query(_ref) {\n  let {\n    onTextSelect,\n    setQtStatePartial\n  } = _ref;\n  const editor = react__WEBPACK_IMPORTED_MODULE_0___default().useRef();\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_1__.QueryToolEventsContext);\n  const queryToolCtx = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_1__.QueryToolContext);\n  const layoutDocker = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_5__.LayoutDockerContext);\n  const lastCursorPos = react__WEBPACK_IMPORTED_MODULE_0___default().useRef();\n  const pgAdmin = (0,_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_11__.usePgAdmin)();\n  const preferencesStore = (0,_preferences_static_js_store__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\n  const queryToolPref = queryToolCtx.preferences.sqleditor;\n  const modalId = _QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.MODAL_DIALOGS.QT_CONFIRMATIONS;\n  const highlightError = (cmObj, _ref2, executeCursor) => {\n    let {\n      errormsg: result,\n      data\n    } = _ref2;\n    let errorLineNo = 0,\n      startMarker = 0,\n      endMarker = 0,\n      selectedLineNo = 1,\n      origQueryLen = cmObj.getValue().length;\n    cmObj.removeErrorMark();\n\n    // In case of selection we need to find the actual line no\n    if (cmObj.getSelection().length > 0 || executeCursor) {\n      selectedLineNo = cmObj.getCurrentLineNo();\n      origQueryLen = cmObj.getLine(selectedLineNo).length;\n    }\n\n    // Fetch the LINE string using regex from the result\n    let line = /LINE (\\d+)/.exec(result),\n      // Fetch the Character string using regex from the result\n      char = /Character: (\\d+)/.exec(result);\n\n    // If line and character is null then no need to mark\n    if (line != null && char != null) {\n      errorLineNo = parseInt(line[1]) + selectedLineNo - 1;\n      let errorCharNo = parseInt(char[1]) - 1;\n\n      /* If explain query has been run we need to\r\n        calculate the character number.\r\n      */\n      if (data.explain_query_length) {\n        let explainQueryLen = data.explain_query_length - parseInt(char[1]);\n        errorCharNo = origQueryLen - explainQueryLen - 1;\n      }\n\n      /* We need to loop through each line till the error line and\r\n        * count the total no of character to figure out the actual\r\n        * starting/ending marker point for the individual line. We\r\n        * have also added 1 per line for the \"\\n\" character.\r\n        */\n      let prevLineChars = 0;\n      for (let i = selectedLineNo; i < errorLineNo; i++) prevLineChars += cmObj.getLine(i).length;\n\n      /* Marker starting point for the individual line is\r\n        * equal to error character index minus total no of\r\n        * character till the error line starts.\r\n        */\n      startMarker = errorCharNo - prevLineChars;\n\n      // Find the next space from the character or end of line\n      let errorLine = cmObj.getLine(errorLineNo);\n      if (_.isUndefined(errorLine)) return;\n      endMarker = errorLine.indexOf(' ', startMarker);\n      if (endMarker < 0) endMarker = errorLine.length;\n\n      // Mark the error text\n      cmObj.setErrorMark({\n        line: errorLineNo,\n        pos: startMarker\n      }, {\n        line: errorLineNo,\n        pos: endMarker\n      });\n      cmObj.focus();\n      cmObj.setCursor(errorLineNo, endMarker);\n    }\n  };\n  const triggerExecution = function (explainObject, macroSQL) {\n    let executeCursor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (queryToolCtx.params.is_query_tool) {\n      let external = null;\n      let query = editor.current?.getSelection();\n      if (!_.isEmpty(macroSQL)) {\n        const regex = /\\$SELECTION\\$/gi;\n        query = macroSQL.replace(regex, query);\n        external = true;\n      } else if (executeCursor) {\n        /* Execute query at cursor position */\n        query = query || editor.current?.getQueryAt(editor.current?.state.selection.head).value || '';\n      } else {\n        /* Normal execution */\n        query = query || editor.current?.getValue() || '';\n      }\n      if (query) {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EXECUTION_START, query, {\n          explainObject,\n          macroSQL,\n          external,\n          executeCursor\n        });\n      }\n    } else {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EXECUTION_START, null, {});\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    layoutDocker.eventBus.registerListener(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_5__.LAYOUT_EVENTS.ACTIVE, currentTabId => {\n      currentTabId == _QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.PANELS.QUERY && editor.current.focus();\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION, triggerExecution);\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EXECUTE_CURSOR_WARNING, checkUnderlineQueryCursorWarning);\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.HIGHLIGHT_ERROR, (result, executeCursor) => {\n      if (result) {\n        highlightError(editor.current, result, executeCursor);\n      } else {\n        editor.current.removeErrorMark();\n      }\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.LOAD_FILE, (fileName, storage) => {\n      queryToolCtx.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_4___default()('sqleditor.load_file'), {\n        'file_name': decodeURI(fileName),\n        'storage': storage\n      }, {\n        transformResponse: [(data, headers) => {\n          if (headers['content-type'].includes('application/json')) {\n            return JSON.parse(data);\n          }\n          return data;\n        }]\n      }).then(res => {\n        editor.current.setValue(res.data);\n        //Check the file content for Trojan Source\n        (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_9__.checkTrojanSource)(res.data);\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.LOAD_FILE_DONE, fileName, true);\n        // Detect line separator from content and editor's EOL.\n        const lineSep = editor.current?.detectEOL(res.data);\n        // Update the EOL if it differs from the current editor EOL\n        setQtStatePartial({\n          eol: lineSep\n        });\n        // Mark the editor content as clean\n        editor.current?.markClean();\n      }).catch(err => {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.LOAD_FILE_DONE, null, false);\n        pgAdmin.Browser.notifier.error((0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_10__.parseApiError)(err));\n      });\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.SAVE_FILE, fileName => {\n      queryToolCtx.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_4___default()('sqleditor.save_file'), {\n        'file_name': decodeURI(fileName),\n        'file_content': editor.current.getValue(false, true)\n      }).then(() => {\n        editor.current.markClean();\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.SAVE_FILE_DONE, fileName, true);\n        pgAdmin.Browser.notifier.success(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('File saved successfully.'));\n      }).catch(err => {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.SAVE_FILE_DONE, null, false);\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, err);\n      });\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EDITOR_EXEC_CMD, function () {\n      let cmd = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      if (cmd == 'gotoLineCol') {\n        editor.current?.focus();\n        let key = {\n          keyCode: 76,\n          metaKey: false,\n          ctrlKey: true,\n          shiftKey: false,\n          altKey: false\n        };\n        if ((0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_8__.isMac)()) {\n          key.metaKey = true;\n          key.ctrlKey = false;\n          key.shiftKey = false;\n          key.altKey = false;\n        }\n        editor.current?.fireDOMEvent(new KeyboardEvent('keydown', key));\n      } else {\n        editor.current?.execCommand(cmd);\n      }\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.COPY_TO_EDITOR, text => {\n      editor.current?.setValue(text);\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.PANELS.QUERY);\n      setTimeout(() => {\n        editor.current?.focus();\n        editor.current?.setCursor(editor.current.lineCount(), 0);\n      }, 250);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EDITOR_FIND_REPLACE, function () {\n      let replace = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      editor.current?.focus();\n      let key = {\n        keyCode: 70,\n        metaKey: false,\n        ctrlKey: true,\n        shiftKey: false,\n        altKey: replace\n      };\n      if ((0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_8__.isMac)()) {\n        key.metaKey = true;\n        key.ctrlKey = false;\n        key.shiftKey = false;\n        key.altKey = replace;\n      }\n      editor.current?.fireDOMEvent(new KeyboardEvent('keydown', key));\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EDITOR_SET_SQL, function (value) {\n      let focus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      focus && editor.current?.focus();\n      editor.current?.setValue(value, !queryToolCtx.params.is_query_tool);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_QUERY_CHANGE, () => {\n      change();\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_FORMAT_SQL, () => {\n      let selection = true,\n        sql = editor.current?.getSelection();\n      let sqlEditorPref = preferencesStore.getPreferencesForModule('sqleditor');\n      /* New library does not support capitalize casing\r\n        so if a user has set capitalize casing we will\r\n        use preserve casing which is default for the library.\r\n      */\n      let formatPrefs = {\n        language: 'postgresql',\n        keywordCase: sqlEditorPref.keyword_case === 'capitalize' ? 'preserve' : sqlEditorPref.keyword_case,\n        identifierCase: sqlEditorPref.identifier_case === 'capitalize' ? 'preserve' : sqlEditorPref.identifier_case,\n        dataTypeCase: sqlEditorPref.data_type_case,\n        functionCase: sqlEditorPref.function_case,\n        logicalOperatorNewline: sqlEditorPref.logical_operator_new_line,\n        expressionWidth: sqlEditorPref.expression_width,\n        linesBetweenQueries: sqlEditorPref.lines_between_queries,\n        tabWidth: sqlEditorPref.tab_size,\n        useTabs: !sqlEditorPref.use_spaces,\n        denseOperators: !sqlEditorPref.spaces_around_operators,\n        newlineBeforeSemicolon: sqlEditorPref.new_line_before_semicolon\n      };\n      if (sql == '') {\n        sql = editor.current.getValue();\n        selection = false;\n      }\n      let formattedSql = (0,sql_formatter__WEBPACK_IMPORTED_MODULE_16__.format)(sql, formatPrefs);\n      if (selection) {\n        editor.current.replaceSelection(formattedSql, 'around');\n      } else {\n        editor.current.setValue(formattedSql);\n      }\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.CHANGE_EOL, lineSep => {\n      // Set the new EOL character in the editor.\n      editor.current?.setEOL(lineSep);\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.QUERY_CHANGED, editor.current?.isDirty());\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EDITOR_TOGGLE_CASE, () => {\n      let selectedText = editor.current?.getSelection();\n      if (!selectedText) return;\n      if (selectedText === selectedText.toUpperCase()) {\n        editor.current.replaceSelection(selectedText.toLowerCase());\n      } else {\n        editor.current.replaceSelection(selectedText.toUpperCase());\n      }\n    });\n    const lastFocus = () => {\n      editor.current.focus();\n      if (lastCursorPos.current) {\n        editor.current.setCursor(lastCursorPos.current.line, lastCursorPos.current.ch);\n      }\n    };\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EDITOR_LAST_FOCUS, lastFocus);\n    setTimeout(() => {\n      (queryToolCtx.params.is_query_tool || queryToolCtx.preferences.view_edit_promotion_warning) && editor.current.focus();\n    }, 250);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const warnSaveTextClose = () => {\n      if (!editor.current.isDirty() || !queryToolCtx.preferences?.sqleditor.prompt_save_query_changes) {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.WARN_TXN_CLOSE);\n        return;\n      }\n      queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Save query changes?'), closeModal => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_Dialogs_ConfirmSaveContent__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        closeModal: closeModal,\n        text: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('The query text has changed. Do you want to save changes?'),\n        onDontSave: () => {\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.WARN_TXN_CLOSE);\n        },\n        onSave: () => {\n          eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.SAVE_FILE_DONE, (_f, success) => {\n            if (success) {\n              eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.WARN_TXN_CLOSE);\n            }\n          }, true);\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_FILE);\n        }\n      }), {\n        id: modalId\n      });\n    };\n    const formatSQL = () => {\n      let selection = true,\n        sql = editor.current?.getSelection();\n      /* New library does not support capitalize casing\r\n        so if a user has set capitalize casing we will\r\n        use preserve casing which is default for the library.\r\n      */\n      let formatPrefs = {\n        language: 'postgresql',\n        keywordCase: queryToolPref.keyword_case === 'capitalize' ? 'preserve' : queryToolPref.keyword_case,\n        identifierCase: queryToolPref.identifier_case === 'capitalize' ? 'preserve' : queryToolPref.identifier_case,\n        dataTypeCase: queryToolPref.data_type_case,\n        functionCase: queryToolPref.function_case,\n        logicalOperatorNewline: queryToolPref.logical_operator_new_line,\n        expressionWidth: queryToolPref.expression_width,\n        linesBetweenQueries: queryToolPref.lines_between_queries,\n        tabWidth: queryToolPref.tab_size,\n        useTabs: !queryToolPref.use_spaces,\n        denseOperators: !queryToolPref.spaces_around_operators,\n        newlineBeforeSemicolon: queryToolPref.new_line_before_semicolon\n      };\n      if (sql == '') {\n        sql = editor.current.getValue();\n        selection = false;\n      }\n      let formattedSql = (0,sql_formatter__WEBPACK_IMPORTED_MODULE_16__.format)(sql, formatPrefs);\n      if (selection) {\n        editor.current.replaceSelection(formattedSql, 'around');\n      } else {\n        editor.current.setValue(formattedSql);\n      }\n    };\n    const unregisterFormatSQL = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_FORMAT_SQL, formatSQL);\n    const unregisterWarn = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.WARN_SAVE_TEXT_CLOSE, warnSaveTextClose);\n    return () => {\n      unregisterFormatSQL();\n      unregisterWarn();\n    };\n  }, [queryToolCtx.preferences]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    registerAutocomplete(editor.current, queryToolCtx.api, queryToolCtx.params.trans_id);\n  }, [queryToolCtx.params.trans_id]);\n  const cursorActivity = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(_.debounce(cursor => {\n    if (queryToolCtx.preferences.sqleditor.underline_query_cursor) {\n      let {\n        from,\n        to\n      } = editor.current.getQueryAt(editor.current?.state.selection.head);\n      editor.current.setQueryHighlightMark(from, to);\n    }\n    lastCursorPos.current = cursor;\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.CURSOR_ACTIVITY, [lastCursorPos.current.line, lastCursorPos.current.ch + 1]);\n  }, 100), []);\n  const change = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.QUERY_CHANGED, editor.current.isDirty());\n    if (!queryToolCtx.params.is_query_tool && editor.current.isDirty()) {\n      if (queryToolCtx.preferences.sqleditor.view_edit_promotion_warning) {\n        checkViewEditDataPromotion();\n      } else {\n        promoteToQueryTool();\n      }\n    }\n  }, []);\n  const closePromotionWarning = closeModal => {\n    if (editor.current.isDirty()) {\n      editor.current.execCommand('undo');\n      closeModal?.();\n    }\n  };\n  const checkViewEditDataPromotion = () => {\n    queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Promote to Query Tool'), closeModal => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dialogs_ConfirmPromotionContent__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        closeModal: closeModal,\n        text: 'Manually editing the query will cause this View/Edit Data tab to be converted to a Query Tool tab. You will be able to edit the query text freely, but no longer be able to use the toolbar buttons for sorting and filtering data. </br> Do you wish to continue?',\n        onContinue: formData => {\n          promoteToQueryTool();\n          let cursor = editor.current.getCursor();\n          editor.current.setValue(editor.current.getValue());\n          editor.current.setCursor(cursor.line, cursor.ch);\n          editor.current.focus();\n          let title = (0,_sqleditor_title__WEBPACK_IMPORTED_MODULE_15__.getTitle)(pgAdmin, queryToolCtx.preferences.browser, null, null, queryToolCtx.params.server_name, queryToolCtx.params.dbname, queryToolCtx.params.user);\n          queryToolCtx.updateTitle(title);\n          preferencesStore.setPreference(formData);\n          return true;\n        },\n        onClose: () => {\n          closePromotionWarning(closeModal);\n        }\n      });\n    }, {\n      onClose: () => {\n        closePromotionWarning();\n      }\n    });\n  };\n  const checkUnderlineQueryCursorWarning = () => {\n    let query = editor.current?.getSelection();\n    query = query || editor.current?.getQueryAt(editor.current?.state.selection.head).value || '';\n    query && queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Execute query'), closeModal => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_dialogs_ConfirmExecuteQueryContent__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n        closeModal: closeModal,\n        text: query,\n        onContinue: formData => {\n          preferencesStore.setPreference(formData);\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION, null, '', true);\n        },\n        onClose: () => {\n          closeModal?.();\n        }\n      });\n    }, {\n      onClose: closeModal => {\n        closeModal?.();\n      }\n    });\n  };\n  const promoteToQueryTool = () => {\n    if (!queryToolCtx.params.is_query_tool) {\n      queryToolCtx.toggleQueryTool();\n      queryToolCtx.params.is_query_tool = true;\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.PROMOTE_TO_QUERY_TOOL);\n    }\n  };\n  const shortcutOverrideKeys = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    // omit CM internal shortcuts\n    const queryToolPref = _.omit(queryToolCtx.preferences.sqleditor, ['indent', 'unindent', 'comment']);\n    const queryToolShortcuts = Object.values(queryToolPref).filter(p => (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_9__.isShortcutValue)(p)).map(p => (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_9__.parseShortcutValue)(p));\n    return [{\n      any: (_v, e) => {\n        const eventStr = (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_9__.parseKeyEventValue)(e);\n        if (queryToolShortcuts.includes(eventStr)) {\n          if ((0,_static_js_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_8__.isMac)() && eventStr == 'meta+k' || eventStr == 'ctrl+k') {\n            eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TRIGGER_FORMAT_SQL);\n          } else {\n            queryToolCtx.mainContainerRef?.current?.dispatchEvent(new KeyboardEvent('keydown', {\n              which: e.which,\n              keyCode: e.keyCode,\n              altKey: e.altKey,\n              shiftKey: e.shiftKey,\n              ctrlKey: e.ctrlKey,\n              metaKey: e.metaKey\n            }));\n          }\n          e.preventDefault();\n          e.stopPropagation();\n          return true;\n        }\n        return false;\n      }\n    }];\n  }, [queryToolCtx.preferences]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n    currEditor: obj => {\n      editor.current = obj;\n    },\n    value: '',\n    onCursorActivity: cursorActivity,\n    onChange: change,\n    autocomplete: true,\n    customKeyMap: shortcutOverrideKeys,\n    onTextSelect: onTextSelect,\n    disabled: queryToolCtx.editor_disabled\n  });\n}\nQuery.propTypes = {\n  onTextSelect: (prop_types__WEBPACK_IMPORTED_MODULE_17___default().func),\n  setQtStatePartial: (prop_types__WEBPACK_IMPORTED_MODULE_17___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/Query.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/QueryHistory.jsx":
/*!********************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/QueryHistory.jsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryHistory: () => (/* binding */ QueryHistory),\n/* harmony export */   QuerySources: () => (/* binding */ QuerySources)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/ListItemButton/ListItemButton.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Grid/Grid.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/List/List.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/ListItem/ListItem.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/ListSubheader/ListSubheader.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! moment */ \"./node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _mui_icons_material_PlayArrowRounded__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/PlayArrowRounded */ \"./node_modules/@mui/icons-material/esm/PlayArrowRounded.js\");\n/* harmony import */ var _mui_icons_material_AssessmentRounded__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/AssessmentRounded */ \"./node_modules/@mui/icons-material/esm/AssessmentRounded.js\");\n/* harmony import */ var _mui_icons_material_ExplicitRounded__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/ExplicitRounded */ \"./node_modules/@mui/icons-material/esm/ExplicitRounded.js\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var _static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../static/js/components/ReactCodeMirror */ \"./pgadmin/static/js/components/ReactCodeMirror/index.jsx\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n/* harmony import */ var sources_components_Loader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! sources/components/Loader */ \"./pgadmin/static/js/components/Loader.jsx\");\n/* harmony import */ var _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../static/js/helpers/Layout */ \"./pgadmin/static/js/helpers/Layout/index.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _static_js_api_instance__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../static/js/api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var _static_js_clipboard__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../static/js/clipboard */ \"./pgadmin/static/js/clipboard.js\");\n/* harmony import */ var _static_js_components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../../static/js/components/EmptyPanelMessage */ \"./pgadmin/static/js/components/EmptyPanelMessage.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Root = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_19__[\"default\"])('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    display: 'flex',\n    height: '100%',\n    '.QuerySources-leftRoot': _objectSpread(_objectSpread({\n      flexBasis: '50%',\n      maxWidth: '50%',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: theme.otherVars.editorToolbarBg\n    }, theme.mixins.panelBorder.right), {}, {\n      '& .QuerySources-header': {\n        padding: '0.25rem',\n        display: 'flex',\n        flexWrap: 'wrap',\n        '& .QuerySources-removeBtnMargin': {\n          marginLeft: '0.25rem'\n        }\n      },\n      '& .QuerySources-listRoot': _objectSpread(_objectSpread({}, theme.mixins.panelBorder.top), {}, {\n        '& .QuerySources-removePadding': {\n          padding: 0,\n          '& .QuerySources-listSubheader': _objectSpread(_objectSpread({\n            padding: '0.25rem',\n            lineHeight: 'unset',\n            color: theme.palette.text.muted,\n            backgroundColor: theme.palette.background.default\n          }, theme.mixins.panelBorder.bottom), theme.mixins.fontSourceCode),\n          '& .QuerySources-fontSourceCode': _objectSpread(_objectSpread({}, theme.mixins.fontSourceCode), {}, {\n            userSelect: 'text'\n          }),\n          '& .QuerySources-itemError': {\n            backgroundColor: theme.palette.error.light,\n            '&.Mui-selected': {\n              backgroundColor: theme.palette.error.light,\n              '&:hover': {\n                backgroundColor: theme.palette.error.light\n              }\n            }\n          }\n        }\n      })\n    }),\n    '& .QuerySources-detailsQuery': _objectSpread(_objectSpread({\n      marginTop: '0.5rem'\n    }, theme.mixins.panelBorder.all), {}, {\n      '& .QuerySources-copyBtn': {\n        borderRadius: 0,\n        paddingLeft: '8px',\n        paddingRight: '8px',\n        borderTop: 'none',\n        borderLeft: 'none',\n        borderColor: theme.otherVars.borderColor,\n        fontSize: '13px'\n      },\n      '& .QuerySources-queryMargin': {\n        marginTop: '12px'\n      }\n    }),\n    '& .QuerySources-infoHeader': {\n      fontSize: '13px',\n      padding: '0.5rem',\n      backgroundColor: theme.otherVars.editorToolbarBg\n    }\n  };\n});\nconst QuerySources = {\n  EXECUTE: {\n    ICON_CSS_CLASS: 'fa fa-play'\n  },\n  EXPLAIN: {\n    ICON_CSS_CLASS: 'fa fa-hand-pointer'\n  },\n  EXPLAIN_ANALYZE: {\n    ICON_CSS_CLASS: 'fa fa-list-alt'\n  },\n  COMMIT: {\n    ICON_CSS_CLASS: 'pg-font-icon icon-commit'\n  },\n  ROLLBACK: {\n    ICON_CSS_CLASS: 'pg-font-icon icon-rollback'\n  },\n  SAVE_DATA: {\n    ICON_CSS_CLASS: 'pg-font-icon icon-save_data_changes'\n  },\n  VIEW_DATA: {\n    ICON_CSS_CLASS: 'pg-font-icon icon-view_data'\n  }\n};\nfunction getDateFormatted(date) {\n  if ((sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().pgadmin_server_locale) !== '') return date.toLocaleDateString((sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().pgadmin_server_locale));\n  return date.toLocaleDateString();\n}\nfunction getTimeFormatted(time) {\n  if ((sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().pgadmin_server_locale) !== '') return time.toLocaleTimeString((sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().pgadmin_server_locale));\n  return time.toLocaleTimeString();\n}\nclass QueryHistoryUtils {\n  constructor() {\n    this._entries = [];\n    this.showInternal = true;\n  }\n  dateAsGroupKey(date) {\n    return moment__WEBPACK_IMPORTED_MODULE_8___default()(date).format('YYYY MM DD');\n  }\n  getItemKey(entry) {\n    return this.dateAsGroupKey(entry.start_time) + this.formatEntryDate(entry.start_time) + (entry.subKey ?? '');\n  }\n  formatEntryDate(date) {\n    return moment__WEBPACK_IMPORTED_MODULE_8___default()(date).format('HH:mm:ss');\n  }\n  isDaysBefore(date, before) {\n    return getDateFormatted(date) === getDateFormatted(moment__WEBPACK_IMPORTED_MODULE_8___default()().subtract(before, 'days').toDate());\n  }\n  getDatePrefix(date) {\n    let prefix = '';\n    if (this.isDaysBefore(date, 0)) {\n      prefix = sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Today - ');\n    } else if (this.isDaysBefore(date, 1)) {\n      prefix = sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Yesterday - ');\n    }\n    return prefix;\n  }\n  addEntry(entry) {\n    entry.groupKey = this.dateAsGroupKey(entry.start_time);\n    entry.itemKey = this.getItemKey(entry);\n    let existEntry = lodash__WEBPACK_IMPORTED_MODULE_5___default().find(this._entries, e => e.itemKey == entry.itemKey);\n    if (existEntry) {\n      entry.itemKey = this.getItemKey(entry) + lodash__WEBPACK_IMPORTED_MODULE_5___default().uniqueId();\n    }\n    let insertIndex = lodash__WEBPACK_IMPORTED_MODULE_5___default().sortedIndexBy(this._entries, entry, e => e.itemKey);\n    this._entries = [...this._entries.slice(0, insertIndex), entry, ...this._entries.slice(insertIndex)];\n  }\n  getEntries() {\n    if (!this.showInternal) {\n      return this._entries.filter(e => !e.is_pgadmin_query);\n    }\n    return this._entries;\n  }\n  getEntry(itemKey) {\n    return lodash__WEBPACK_IMPORTED_MODULE_5___default().find(this.getEntries(), e => e.itemKey == itemKey);\n  }\n  getGroupHeader(entry) {\n    return this.getDatePrefix(entry.start_time) + getDateFormatted(entry.start_time);\n  }\n  getGroups() {\n    return lodash__WEBPACK_IMPORTED_MODULE_5___default().sortedUniqBy(this.getEntries().map(e => [e.groupKey, this.getGroupHeader(e)]), g => g[0]).reverse();\n  }\n  getGroupEntries(groupKey) {\n    return this.getEntries().filter(e => e.groupKey == groupKey).reverse();\n  }\n  getNextItemKey(currKey) {\n    let nextIndex = this.getEntries().length - 1;\n    if (currKey) {\n      let currIndex = lodash__WEBPACK_IMPORTED_MODULE_5___default().findIndex(this.getEntries(), e => e.itemKey == currKey);\n      if (currIndex == 0) {\n        nextIndex = currIndex;\n      } else {\n        nextIndex = currIndex - 1;\n      }\n    }\n    return this.getEntries()[nextIndex]?.itemKey;\n  }\n  getPrevItemKey(currKey) {\n    let nextIndex = this.getEntries().length - 1;\n    if (currKey) {\n      let currIndex = lodash__WEBPACK_IMPORTED_MODULE_5___default().findIndex(this.getEntries(), e => e.itemKey == currKey);\n      if (currIndex == this.getEntries().length - 1) {\n        nextIndex = currIndex;\n      } else {\n        nextIndex = currIndex + 1;\n      }\n    }\n    return this.getEntries()[nextIndex]?.itemKey;\n  }\n  clear(itemKey) {\n    if (itemKey) {\n      let nextKey = this.getNextItemKey(itemKey);\n      let removeIdx = lodash__WEBPACK_IMPORTED_MODULE_5___default().findIndex(this._entries, e => e.itemKey == itemKey);\n      this._entries.splice(removeIdx, 1);\n      return nextKey;\n    } else {\n      this._entries = [];\n    }\n  }\n  size() {\n    return this._entries.length;\n  }\n}\nfunction QuerySourceIcon(_ref2) {\n  let {\n    source\n  } = _ref2;\n  switch (JSON.stringify(source)) {\n    case JSON.stringify(QuerySources.EXECUTE):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_PlayArrowRounded__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n        style: {\n          marginLeft: '-4px'\n        },\n        \"data-label\": \"ExecuteIcon\"\n      });\n    case JSON.stringify(QuerySources.EXPLAIN):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_ExplicitRounded__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n        \"data-label\": \"ExplainIcon\"\n      });\n    case JSON.stringify(QuerySources.EXPLAIN_ANALYZE):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_AssessmentRounded__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n        \"data-label\": \"ExplainAnalyzeIcon\"\n      });\n    case JSON.stringify(QuerySources.COMMIT):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_9__.CommitIcon, {\n        style: {\n          marginLeft: '-4px'\n        }\n      });\n    case JSON.stringify(QuerySources.ROLLBACK):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_9__.RollbackIcon, {\n        style: {\n          marginLeft: '-4px'\n        }\n      });\n    case JSON.stringify(QuerySources.SAVE_DATA):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_9__.SaveDataIcon, {\n        style: {\n          marginLeft: '-4px'\n        }\n      });\n    case JSON.stringify(QuerySources.VIEW_DATA):\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_9__.ViewDataIcon, {\n        style: {\n          marginLeft: '-4px'\n        }\n      });\n    default:\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n  }\n}\nQuerySourceIcon.propTypes = {\n  source: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().object)\n};\nfunction HistoryEntry(_ref3) {\n  let {\n    entry,\n    formatEntryDate,\n    itemKey,\n    selectedItemKey,\n    onClick\n  } = _ref3;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n    component: \"li\",\n    tabIndex: \"0\",\n    \"data-label\": \"history-entry\",\n    \"data-pgadmin\": entry.is_pgadmin_query,\n    ref: ele => {\n      selectedItemKey == itemKey && ele?.scrollIntoView({\n        block: 'center',\n        behavior: 'smooth'\n      });\n    },\n    className: 'QuerySources-fontSourceCode ' + (entry.status ? '' : 'QuerySources-itemError'),\n    selected: selectedItemKey == itemKey,\n    onClick: onClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(QuerySourceIcon, {\n    source: entry.query_source\n  }), entry.query), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    fontSize: \"12px\"\n  }, formatEntryDate(entry.start_time)));\n}\nconst EntryPropType = prop_types__WEBPACK_IMPORTED_MODULE_23___default().shape({\n  info: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),\n  status: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool),\n  start_time: prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(Date),\n  query: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),\n  row_affected: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().number),\n  total_time: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),\n  message: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),\n  query_source: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().object),\n  is_pgadmin_query: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool)\n});\nHistoryEntry.propTypes = {\n  entry: EntryPropType,\n  formatEntryDate: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().func),\n  itemKey: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),\n  selectedItemKey: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),\n  onClick: (prop_types__WEBPACK_IMPORTED_MODULE_23___default().func)\n};\nfunction QueryHistoryDetails(_ref4) {\n  let {\n    entry\n  } = _ref4;\n  const [copyText, setCopyText] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Copy'));\n  const eventBus = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__.QueryToolEventsContext);\n  const revertCopiedText = (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_13__.useDelayedCaller)(() => {\n    setCopyText(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Copy'));\n  });\n  const onCopyClick = react__WEBPACK_IMPORTED_MODULE_1___default().useCallback(() => {\n    _static_js_clipboard__WEBPACK_IMPORTED_MODULE_17__.copyToClipboard(entry.query);\n    setCopyText(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Copied!'));\n    revertCopiedText(1500);\n  }, [entry]);\n  const onCopyToEditor = react__WEBPACK_IMPORTED_MODULE_1___default().useCallback(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__.QUERY_TOOL_EVENTS.COPY_TO_EDITOR, entry.query);\n  }, [entry]);\n  if (!entry) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n      display: \"flex\",\n      height: \"100%\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n      text: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Select an history entry to see details.')\n    }));\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, entry.info && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    className: \"QuerySources-infoHeader\"\n  }, entry.info), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    padding: \"0.5rem\",\n    \"data-label\": \"history-detail\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    container: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    item: true,\n    sm: 4\n  }, getDateFormatted(entry.start_time) + ' ' + getTimeFormatted(entry.start_time)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    item: true,\n    sm: 4\n  }, entry?.row_affected > 0 && entry.row_affected), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    item: true,\n    sm: 4\n  }, entry.total_time)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    container: true\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    item: true,\n    sm: 4\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Date')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    item: true,\n    sm: 4\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Rows affected')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n    item: true,\n    sm: 4\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Duration'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    className: \"QuerySources-detailsQuery\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_12__.DefaultButton, {\n    size: \"xs\",\n    className: \"QuerySources-copyBtn\",\n    onClick: onCopyClick\n  }, copyText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_12__.DefaultButton, {\n    size: \"xs\",\n    className: \"QuerySources-copyBtn\",\n    onClick: onCopyToEditor\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Copy to Query Editor')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    value: entry.query,\n    readonly: true,\n    options: {\n      foldGutter: false,\n      lineNumbers: false,\n      gutters: []\n    },\n    className: \"QuerySources-queryMargin\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    marginTop: \"0.5rem\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], null, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Messages')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    className: \"QuerySources-fontSourceCode\",\n    fontSize: \"13px\",\n    whiteSpace: \"pre-wrap\"\n  }, lodash__WEBPACK_IMPORTED_MODULE_5___default().isObject(entry.message) ? JSON.stringify(entry.message) : entry.message))));\n}\nQueryHistoryDetails.propTypes = {\n  entry: EntryPropType\n};\nfunction QueryHistory() {\n  const qhu = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(new QueryHistoryUtils());\n  const queryToolCtx = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__.QueryToolContext);\n  const queryToolConnCtx = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__.QueryToolConnectionContext);\n  const eventBus = react__WEBPACK_IMPORTED_MODULE_1___default().useContext(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__.QueryToolEventsContext);\n  const [selectedItemKey, setSelectedItemKey] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(1);\n  const [showInternal, setShowInternal] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(true);\n  const forceUpdate = (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_13__.useForceUpdate)();\n  const [loaderText, setLoaderText] = react__WEBPACK_IMPORTED_MODULE_1___default().useState('');\n  const selectedEntry = qhu.current.getEntry(selectedItemKey);\n  const layoutDocker = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_15__.LayoutDockerContext);\n  const listRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef();\n  react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {\n    layoutDocker.eventBus.registerListener(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_15__.LAYOUT_EVENTS.ACTIVE, currentTabId => {\n      currentTabId == _QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__.PANELS.HISTORY && listRef.current?.focus();\n    });\n  }, []);\n  const fetchQueryHistory = async () => {\n    if (!queryToolConnCtx.connected) {\n      return;\n    }\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Fetching history...'));\n    try {\n      let {\n        data: respData\n      } = await queryToolCtx.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.get_query_history', {\n        'trans_id': queryToolCtx.params.trans_id\n      }));\n      respData.data.result.forEach(h => {\n        try {\n          h = JSON.parse(h);\n          h.start_time_orig = h.start_time;\n          h.start_time = new Date(h.start_time);\n          qhu.current.addEntry(h);\n        } catch {\n          /* skip the hist record */\n          return;\n        }\n      });\n      setSelectedItemKey(qhu.current.getNextItemKey());\n    } catch (error) {\n      console.error(error);\n      sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Failed to fetch query history.') + (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_16__.parseApiError)(error));\n    }\n    setLoaderText('');\n    const pushHistory = h => {\n      // Do not store query text if max lenght exceeds.\n      if (h?.query?.length > _QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__.MAX_QUERY_LENGTH) {\n        h = _objectSpread(_objectSpread({}, h), {}, {\n          query: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()(`-- Query text not stored as it exceeds maximum length of ${_QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__.MAX_QUERY_LENGTH}`)\n        });\n      }\n      qhu.current.addEntry(h);\n      forceUpdate();\n    };\n    listRef.current?.focus();\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__.QUERY_TOOL_EVENTS.PUSH_HISTORY, pushHistory);\n    return () => eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_2__.QUERY_TOOL_EVENTS.PUSH_HISTORY, pushHistory);\n  };\n  react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {\n    fetchQueryHistory();\n  }, [queryToolConnCtx.connected]);\n  const onRemove = async () => {\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Removing history entry...'));\n    try {\n      await queryToolCtx.api.delete(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.clear_query_history', {\n        'trans_id': queryToolCtx.params.trans_id\n      }), {\n        data: {\n          query: selectedEntry.query,\n          start_time: selectedEntry.start_time\n        }\n      });\n      setSelectedItemKey(qhu.current.clear(selectedItemKey));\n    } catch (error) {\n      console.error(error);\n      sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Failed to remove query history.') + (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_16__.parseApiError)(error));\n    }\n    setLoaderText('');\n  };\n  const onRemoveAll = react__WEBPACK_IMPORTED_MODULE_1___default().useCallback(() => {\n    queryToolCtx.modal.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Clear history'), sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Are you sure you wish to clear the history?') + '</br>' + sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('This will remove all of your query history from this and other sessions for this database.'), async function () {\n      setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Removing history...'));\n      try {\n        await queryToolCtx.api.delete(sources_url_for__WEBPACK_IMPORTED_MODULE_6___default()('sqleditor.clear_query_history', {\n          'trans_id': queryToolCtx.params.trans_id\n        }));\n        qhu.current.clear();\n        setSelectedItemKey(null);\n      } catch (error) {\n        console.error(error);\n        sources_pgadmin__WEBPACK_IMPORTED_MODULE_4___default().Browser.notifier.error(sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Failed to remove query history.') + (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_16__.parseApiError)(error));\n      }\n      setLoaderText('');\n    }, function () {\n      return true;\n    });\n  }, []);\n  const onKeyPressed = e => {\n    if (e.keyCode == '38') {\n      e.preventDefault();\n      setSelectedItemKey(qhu.current.getPrevItemKey(selectedItemKey));\n    } else if (e.keyCode == '40') {\n      e.preventDefault();\n      setSelectedItemKey(qhu.current.getNextItemKey(selectedItemKey));\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Root, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(sources_components_Loader__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    message: loaderText\n  }), react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(() => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, qhu.current.size() == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n    text: sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('No history found')\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    className: \"QuerySources-leftRoot\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    className: \"QuerySources-header\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    marginRight: \"auto\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Show queries generated internally by pgAdmin?'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_10__.InputSwitch, {\n    value: showInternal,\n    onChange: e => {\n      setShowInternal(e.target.checked);\n      qhu.current.showInternal = e.target.checked;\n      setSelectedItemKey(qhu.current.getNextItemKey());\n    }\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_12__.DefaultButton, {\n    size: \"small\",\n    disabled: !selectedItemKey,\n    onClick: onRemove\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Remove')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_12__.DefaultButton, {\n    size: \"small\",\n    disabled: !qhu.current?.getGroups()?.length,\n    className: \"QuerySources-removeBtnMargin\",\n    onClick: onRemoveAll\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_3___default()('Remove All')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    flexGrow: \"1\",\n    overflow: \"auto\",\n    className: \"QuerySources-listRoot\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n    ref: listRef,\n    subheader: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"li\", null),\n    tabIndex: \"0\",\n    onKeyDown: onKeyPressed\n  }, qhu.current.getGroups().map(_ref5 => {\n    let [groupKey, groupHeader] = _ref5;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n      key: `section-${groupKey}`,\n      className: \"QuerySources-removePadding\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n      className: \"QuerySources-removePadding\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n      className: \"QuerySources-listSubheader\"\n    }, groupHeader), qhu.current.getGroupEntries(groupKey).map(entry => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(HistoryEntry, {\n      key: entry.itemKey,\n      entry: entry,\n      formatEntryDate: qhu.current.formatEntryDate,\n      itemKey: entry.itemKey,\n      selectedItemKey: selectedItemKey,\n      onClick: () => {\n        setSelectedItemKey(entry.itemKey);\n      }\n    }))));\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    flexBasis: \"50%\",\n    maxWidth: \"50%\",\n    overflow: \"auto\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(QueryHistoryDetails, {\n    entry: selectedEntry\n  })))), [selectedItemKey, showInternal, qhu.current.size()]));\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/QueryHistory.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/ResultSet.jsx":
/*!*****************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/ResultSet.jsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResultSet: () => (/* binding */ ResultSet),\n/* harmony export */   ResultSetUtils: () => (/* binding */ ResultSetUtils)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _QueryToolDataGrid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../QueryToolDataGrid */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/index.jsx\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sources/url_for */ \"./pgadmin/static/js/url_for.js\");\n/* harmony import */ var sources_url_for__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sources_url_for__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _static_js_api_instance__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../static/js/api_instance */ \"./pgadmin/static/js/api_instance.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var sources_components_Loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sources/components/Loader */ \"./pgadmin/static/js/components/Loader.jsx\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _ResultSetToolbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ResultSetToolbar */ \"./pgadmin/tools/sqleditor/static/js/components/sections/ResultSetToolbar.jsx\");\n/* harmony import */ var _static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../../static/js/helpers/Layout */ \"./pgadmin/static/js/helpers/Layout/index.jsx\");\n/* harmony import */ var _GeometryViewer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./GeometryViewer */ \"./pgadmin/tools/sqleditor/static/js/components/sections/GeometryViewer.jsx\");\n/* harmony import */ var _static_js_Explain__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/Explain */ \"./pgadmin/static/js/Explain/index.jsx\");\n/* harmony import */ var _QueryHistory__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./QueryHistory */ \"./pgadmin/tools/sqleditor/static/js/components/sections/QueryHistory.jsx\");\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n/* harmony import */ var _QueryToolDataGrid_CopyData__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../QueryToolDataGrid/CopyData */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/CopyData.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! moment */ \"./node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _static_js_Dialogs_ConfirmSaveContent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../../static/js/Dialogs/ConfirmSaveContent */ \"./pgadmin/static/js/Dialogs/ConfirmSaveContent.jsx\");\n/* harmony import */ var _static_js_components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../../static/js/components/EmptyPanelMessage */ \"./pgadmin/static/js/components/EmptyPanelMessage.jsx\");\n/* harmony import */ var _GraphVisualiser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./GraphVisualiser */ \"./pgadmin/tools/sqleditor/static/js/components/sections/GraphVisualiser.jsx\");\n/* harmony import */ var _static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../../static/js/PgAdminProvider */ \"./pgadmin/static/js/PgAdminProvider.jsx\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _static_js_Dialogs_ConnectServerContent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../../static/js/Dialogs/ConnectServerContent */ \"./pgadmin/static/js/Dialogs/ConnectServerContent.jsx\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_24__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    display: 'flex',\n    height: '100%',\n    flexDirection: 'column',\n    backgroundColor: theme.otherVars.qtDatagridBg\n  };\n});\nclass ResultSetUtils {\n  constructor(api, queryToolCtx, transId) {\n    let isQueryTool = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    this.api = api;\n    this.transId = transId;\n    this.startTime = new Date();\n    this.clientPK = null;\n    this.isQueryTool = isQueryTool;\n    this.clientPKLastIndex = 0;\n    this.historyQuerySource = null;\n    this.hasQueryCommitted = false;\n    this.queryToolCtx = queryToolCtx;\n  }\n  static generateURLReconnectionFlag(baseUrl, transId, shouldReconnect) {\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()(baseUrl, {\n      'trans_id': transId\n    });\n    if (shouldReconnect) {\n      url += '?connect=1';\n    }\n    return url;\n  }\n  static prepareAnalyzeSql(sqlStatement, analyzeSql) {\n    return {\n      sql: sqlStatement,\n      explain_plan: analyzeSql\n    };\n  }\n  static wasConnectionLostToPythonServer(httpResponse) {\n    return lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(httpResponse) || lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(httpResponse.data);\n  }\n  static wasDatabaseConnectionLost(httpMessage) {\n    return httpMessage.response.status === 503 && httpMessage.response.data.info !== undefined && httpMessage.response.data.info === 'CONNECTION_LOST';\n  }\n  static isCryptKeyMissing(httpMessage) {\n    return httpMessage.response.status === 503 && httpMessage.response.data.info !== undefined && httpMessage.response.data.info === 'CRYPTKEY_MISSING';\n  }\n  static isSqlCorrect(httpMessageData) {\n    return httpMessageData.data.status;\n  }\n  static extractErrorMessage(httpMessage) {\n    let msg = httpMessage.errormsg;\n    if (httpMessage.responseJSON?.errormsg !== undefined) msg = httpMessage.responseJSON.errormsg;\n    return msg;\n  }\n  static isQueryFinished(httpMessage) {\n    return httpMessage.data.data.status === 'Success';\n  }\n  static isQueryStillRunning(httpMessage) {\n    return httpMessage.data.data.status === 'Busy';\n  }\n  static isQueryCancelled(httpMessage) {\n    return httpMessage.data.data.status === 'Cancel';\n  }\n  static isConnectionToServerLostWhilePolling(httpMessage) {\n    return httpMessage.data.data.status === 'NotConnected';\n  }\n  setStartTime(start) {\n    this.startTime = start;\n  }\n  setEndTime(end) {\n    this.endTime = end;\n  }\n  queryRunTime() {\n    let total_ms = moment__WEBPACK_IMPORTED_MODULE_17___default()(this.endTime).diff(this.startTime);\n    let result = '';\n    let secs, mins, hrs;\n\n    /* Extract seconds from millisecs */\n    secs = parseInt(total_ms / 1000);\n    total_ms = total_ms % 1000;\n\n    /* Extract mins from seconds */\n    mins = parseInt(secs / 60);\n    secs = secs % 60;\n\n    /* Extract hrs from mins */\n    hrs = parseInt(mins / 60);\n    mins = mins % 60;\n    result = (hrs > 0 ? hrs + ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('hr') + ' ' : '') + (mins > 0 ? mins + ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('min') + ' ' : '') + (hrs <= 0 && secs > 0 ? secs + ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('secs') + ' ' : '') + (hrs <= 0 && mins <= 0 ? total_ms + ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('msec') + ' ' : '');\n    return result.trim();\n  }\n  setEventBus(eventBus) {\n    this.eventBus = eventBus;\n  }\n  setQtPref(pref) {\n    this.qtPref = pref;\n  }\n  setStartData(data) {\n    this.startData = data;\n  }\n  resetClientPKIndex() {\n    this.clientPKLastIndex = 0;\n  }\n  setClientPK(clientPK) {\n    this.clientPK = clientPK || _QueryToolDataGrid__WEBPACK_IMPORTED_MODULE_3__.GRID_ROW_SELECT_KEY;\n  }\n  hasResultsToDisplay(res) {\n    return res.colinfo != null;\n  }\n  isAtBottom(_ref2) {\n    let {\n      currentTarget\n    } = _ref2;\n    return currentTarget.scrollTop + 10 >= currentTarget.scrollHeight - currentTarget.clientHeight;\n  }\n  postExecutionApi(query, explainObject) {\n    let isQueryTool = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    let reconnect = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    if (isQueryTool) {\n      return this.api.post(ResultSetUtils.generateURLReconnectionFlag('sqleditor.query_tool_start', this.transId, reconnect), JSON.stringify({\n        sql: query,\n        explain_plan: explainObject\n      }));\n    } else {\n      return this.api.get(ResultSetUtils.generateURLReconnectionFlag('sqleditor.view_data_start', this.transId, reconnect));\n    }\n  }\n  connectServerModal(modalData, connectCallback, cancelCallback) {\n    this.queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Connect to server'), closeModal => {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_static_js_Dialogs_ConnectServerContent__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n        closeModal: () => {\n          cancelCallback?.();\n          closeModal();\n        },\n        data: modalData,\n        onOK: formData => {\n          connectCallback(Object.fromEntries(formData));\n          closeModal();\n        }\n      });\n    }, {\n      onClose: cancelCallback\n    });\n  }\n  async connectServer(sid, user, formData, connectCallback) {\n    try {\n      let {\n        data: respData\n      } = await this.api({\n        method: 'POST',\n        url: sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.connect_server', _objectSpread({\n          'sid': sid\n        }, user ? {\n          'usr': user\n        } : {})),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        data: formData\n      });\n      connectCallback?.(respData.data);\n    } catch (error) {\n      this.connectServerModal(error.response?.data?.result, async data => {\n        this.connectServer(sid, user, data, connectCallback);\n      }, () => {\n        /*This is intentional (SonarQube)*/\n      });\n    }\n  }\n  async startExecution(query, explainObject, macroSQL, onIncorrectSQL) {\n    let flags = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      isQueryTool: true,\n      external: false,\n      reconnect: false,\n      executeCursor: false,\n      refreshData: false\n    };\n    let startTime = new Date();\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, '');\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TASK_START, flags.refreshData ? sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Refetching latest results...') : sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Waiting for the query to complete...'), startTime);\n    this.setStartTime(startTime);\n    this.query = query;\n    this.historyQuerySource = flags.isQueryTool ? _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.EXECUTE : _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.VIEW_DATA;\n    if (flags.refreshData) {\n      this.historyQuerySource = null;\n    } else if (explainObject) {\n      if (explainObject.analyze) {\n        this.historyQuerySource = _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.EXPLAIN_ANALYZE;\n      } else {\n        this.historyQuerySource = _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.EXPLAIN;\n      }\n    } else if (query == 'COMMIT;') {\n      this.historyQuerySource = _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.COMMIT;\n    } else if (query == 'ROLLBACK;') {\n      this.historyQuerySource = _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.ROLLBACK;\n    }\n    try {\n      let {\n        data: httpMessageData\n      } = await this.postExecutionApi(query, explainObject, flags.isQueryTool, flags.reconnect);\n      if (ResultSetUtils.isSqlCorrect(httpMessageData)) {\n        this.setStartData(httpMessageData.data);\n        if (!flags.isQueryTool) {\n          this.query = httpMessageData.data.sql;\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_FILTER_INFO, httpMessageData.data.can_filter, httpMessageData.data.filter_applied);\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_LIMIT_VALUE, httpMessageData.data.limit);\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EDITOR_SET_SQL, httpMessageData.data.sql, false);\n        }\n        if (httpMessageData.data.notifies) {\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PUSH_NOTICE, httpMessageData.data.notifies);\n        }\n        return true;\n      } else {\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, httpMessageData.data.result);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.MESSAGES);\n        onIncorrectSQL();\n        this.resetClientPKIndex();\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PUSH_HISTORY, {\n          status: false,\n          start_time: this.startTime,\n          query: this.query,\n          row_affected: null,\n          total_time: null,\n          message: httpMessageData.data.result,\n          query_source: this.historyQuerySource,\n          is_pgadmin_query: false\n        });\n        if (!flags.external) {\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HIGHLIGHT_ERROR, httpMessageData.data.result, flags.executeCursor);\n        }\n      }\n    } catch (e) {\n      if (e?.response?.status == 428) {\n        this.connectServerModal(e.response?.data?.result, async passwordData => {\n          await this.connectServer(this.queryToolCtx.params.sid, this.queryToolCtx.params.user, passwordData, async () => {\n            await this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.REINIT_QT_CONNECTION, '', explainObject, macroSQL, flags.executeCursor, true);\n          });\n        }, () => {\n          /*This is intentional (SonarQube)*/\n        });\n      } else if (e?.response?.data.info == 'CRYPTKEY_MISSING') {\n        let pgBrowser = window.pgAdmin.Browser;\n        pgBrowser.set_master_password('', async passwordData => {\n          await this.connectServer(this.queryToolCtx.params.sid, this.queryToolCtx.params.user, passwordData, async () => {\n            await this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.REINIT_QT_CONNECTION, '', explainObject, macroSQL, flags.executeCursor, true);\n          });\n        }, () => {\n          /*This is intentional (SonarQube)*/\n        });\n        return;\n      } else {\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, e, {\n          connectionLostCallback: () => {\n            this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, query, {\n              explainObject,\n              external: flags.external,\n              reconnect: true,\n              executeCursor: flags.executeCursor\n            });\n          },\n          checkTransaction: true\n        });\n      }\n    }\n    return false;\n  }\n  poll() {\n    let delay = 1;\n    let seconds = parseInt((Date.now() - this.startTime.getTime()) / 1000);\n    // calculate & return fall back polling timeout\n    if (seconds >= 10 && seconds < 30) {\n      delay = 500;\n    } else if (seconds >= 30 && seconds < 60) {\n      delay = 1000;\n    } else if (seconds >= 60 && seconds < 90) {\n      delay = 2000;\n    } else if (seconds >= 90) {\n      delay = 5000;\n    } else {\n      delay = 1;\n    }\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve(this.api.get(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.poll', {\n          'trans_id': this.transId\n        })));\n      }, delay);\n    });\n  }\n  handlePollError(error, explainObject, flags) {\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.MESSAGES);\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_CONNECTION_STATUS, error.response.data.data?.transaction_status);\n    if (!flags.external) {\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HIGHLIGHT_ERROR, (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_6__.parseApiError)(error, true), flags.executeCursor);\n    }\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PUSH_HISTORY, {\n      status: false,\n      start_time: this.startTime,\n      query: this.query,\n      row_affected: null,\n      total_time: this.queryRunTime(),\n      message: (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_6__.parseApiError)(error, false),\n      query_source: this.historyQuerySource,\n      is_pgadmin_query: false\n    });\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, error, {\n      connectionLostCallback: () => {\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, this.query, {\n          explainObject,\n          external: flags.external,\n          reconnect: true,\n          executeCursor: flags.executeCursor\n        });\n      },\n      checkTransaction: true\n    });\n  }\n  async pollForResult(onResultsAvailable, onExplain, onPollError, explainObject, flags) {\n    try {\n      let httpMessage = await this.poll();\n      let msg = '';\n      if (httpMessage.data.data.notifies) {\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PUSH_NOTICE, httpMessage.data.data.notifies);\n      }\n      if (ResultSetUtils.isQueryFinished(httpMessage)) {\n        this.setEndTime(new Date());\n        msg = this.queryFinished(httpMessage, onResultsAvailable, onExplain);\n      } else if (ResultSetUtils.isQueryStillRunning(httpMessage)) {\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_CONNECTION_STATUS, httpMessage.data.data.transaction_status);\n        if (httpMessage.data.data.result) {\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, httpMessage.data.data.result, true);\n        }\n        return Promise.resolve(this.pollForResult(onResultsAvailable, onExplain, onPollError, explainObject, flags));\n      } else if (ResultSetUtils.isConnectionToServerLostWhilePolling(httpMessage)) {\n        this.setEndTime(new Date());\n        msg = httpMessage.data.data.result;\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, msg, true);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TASK_END, sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Connection Error'), this.endTime);\n      } else if (ResultSetUtils.isQueryCancelled(httpMessage)) {\n        this.setEndTime(new Date());\n        msg = httpMessage.data.data.result || sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Execution Cancelled!');\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, httpMessage.data.data.result || sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Execution Cancelled!'), true);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TASK_END, sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Execution Cancelled'), this.endTime);\n      }\n      if (this.qtPref?.query_success_notification) {\n        sources_pgadmin__WEBPACK_IMPORTED_MODULE_22___default().Browser.notifier.success(msg);\n      }\n      if (!ResultSetUtils.isQueryStillRunning(httpMessage) && this.historyQuerySource) {\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PUSH_HISTORY, {\n          status: true,\n          start_time: this.startTime,\n          query: this.query,\n          row_affected: httpMessage.data.data?.rows_affected,\n          total_time: this.queryRunTime(),\n          message: msg,\n          query_source: this.historyQuerySource,\n          is_pgadmin_query: false\n        });\n      }\n    } catch (error) {\n      onPollError();\n      this.handlePollError(error, explainObject, flags);\n    }\n  }\n  getWindowRows(fromRownum, toRownum) {\n    let url = sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.fetch_window', {\n      'trans_id': this.transId,\n      'from_rownum': fromRownum,\n      'to_rownum': toRownum\n    });\n    return this.api.get(url);\n  }\n  stopExecution() {\n    return this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.cancel_transaction', {\n      'trans_id': this.transId\n    }));\n  }\n  saveData(reqData) {\n    return this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.save', {\n      'trans_id': this.transId\n    }), JSON.stringify(reqData)).then(response => {\n      if (response.data?.data?.status) {\n        // Set the commit flag to true if the save was successful\n        this.hasQueryCommitted = true;\n      }\n      return response;\n    }).catch(error => {\n      // Set the commit flag to false if there was an error\n      this.hasQueryCommitted = false;\n      throw error;\n    });\n  }\n  async saveResultsToFile(fileName) {\n    try {\n      let {\n        data: respData\n      } = await this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.query_tool_download', {\n        'trans_id': this.transId\n      }), {\n        filename: fileName,\n        query_commited: this.hasQueryCommitted\n      });\n      if (!lodash__WEBPACK_IMPORTED_MODULE_1___default().isUndefined(respData.data)) {\n        if (!respData.status) {\n          this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, respData.data.result);\n        }\n      } else {\n        this.hasQueryCommitted = false;\n        (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_15__.downloadFile)(respData, fileName, 'text/csv');\n      }\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_RESULTS_END);\n    } catch (error) {\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_RESULTS_END);\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, error);\n    }\n  }\n  includeFilter(reqData) {\n    return this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.inclusive_filter', {\n      'trans_id': this.transId\n    }), JSON.stringify(reqData));\n  }\n  excludeFilter(reqData) {\n    return this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.exclusive_filter', {\n      'trans_id': this.transId\n    }), JSON.stringify(reqData));\n  }\n  removeFilter() {\n    return this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.remove_filter', {\n      'trans_id': this.transId\n    }));\n  }\n  setLimit(limit) {\n    return this.api.post(sources_url_for__WEBPACK_IMPORTED_MODULE_5___default()('sqleditor.set_limit', {\n      'trans_id': this.transId\n    }), JSON.stringify(parseInt(limit)));\n  }\n  getFinalColumn(c, isEditable, isPK, pgTypesOidMap) {\n    let columnTypeInternal = pgTypesOidMap[c.type_code] || 'unknown';\n    let columnType = (isPK ? '[PK] ' : '') + columnTypeInternal;\n    let cellType;\n    if (c.precision && c.precision >= 0 && c.precision != 65535) {\n      columnType += ' (' + c.precision;\n      columnType += c.scale && c.scale != 65535 ? ',' + c.scale + ')' : ')';\n    }\n    // Identify cell type of column.\n    switch (columnTypeInternal) {\n      case 'oid':\n        cellType = 'oid';\n        break;\n      case 'json':\n      case 'json[]':\n      case 'jsonb':\n      case 'jsonb[]':\n        cellType = 'Json';\n        break;\n      case 'smallint':\n      case 'smallint[]':\n      case 'integer':\n      case 'integer[]':\n      case 'bigint':\n      case 'bigint[]':\n      case 'decimal':\n      case 'decimal[]':\n      case 'numeric':\n      case 'numeric[]':\n      case 'real':\n      case 'real[]':\n      case 'double precision':\n      case 'double precision[]':\n        cellType = 'number';\n        break;\n      case 'boolean':\n        cellType = 'boolean';\n        break;\n      case 'character':\n      case 'character[]':\n      case '\"char\"':\n      case '\"char\"[]':\n      case 'character varying':\n      case 'character varying[]':\n        if (c.display_size && c.display_size >= 0 && c.display_size != 65535) {\n          // Update column type to display length on column header\n          columnType += ' (' + c.display_size + ')';\n        }\n        cellType = 'string';\n        break;\n      case 'bytea':\n      case 'bytea[]':\n        cellType = 'binary';\n        break;\n      case 'geometry':\n        // PostGIS geometry type\n        cellType = 'geometry';\n        isEditable = false;\n        break;\n      case 'geography':\n        // PostGIS geography type\n        cellType = 'geography';\n        isEditable = false;\n        break;\n      default:\n        cellType = 'string';\n    }\n    let arrayBracketIdx = columnTypeInternal.lastIndexOf('[]');\n    return {\n      'key': c.name,\n      'name': c.name,\n      'display_name': c.display_name,\n      'type': columnTypeInternal,\n      'display_type': columnType,\n      'column_type_internal': columnTypeInternal,\n      'pos': c.pos,\n      'cell': cellType,\n      'can_edit': c.name == 'oid' ? false : isEditable,\n      'not_null': c.not_null,\n      'has_default_val': c.has_default_val,\n      'is_array': arrayBracketIdx > -1 && arrayBracketIdx + 2 == columnTypeInternal.length,\n      'seqtypid': c.seqtypid,\n      'isPK': isPK\n    };\n  }\n  processColumns(data) {\n    let columns = [];\n    let self = this;\n    let pgTypesOidMap = {};\n    lodash__WEBPACK_IMPORTED_MODULE_1___default().isArray(data.types) && data.types?.forEach(t => {\n      pgTypesOidMap[t.oid] = t.typname;\n    });\n\n    // Create columns\n    data.colinfo.forEach(function (c) {\n      let isPK = false,\n        isEditable = data.can_edit && (!self.isQueryTool || c.is_editable);\n\n      // Check whether this column is a primary key\n      if (isEditable) {\n        isPK = lodash__WEBPACK_IMPORTED_MODULE_1___default().some(data.primary_keys || [], (_v, key) => key === c.name);\n      }\n\n      // Create column label and type.\n      columns.push(self.getFinalColumn(c, isEditable, isPK, pgTypesOidMap));\n    });\n    return columns;\n  }\n  processClipboardVal(columnVal, col, rawCopiedVal, pasteSerials) {\n    if (columnVal === '') {\n      if (col.has_default_val) {\n        // if column has default value\n        columnVal = undefined;\n      } else if (rawCopiedVal === null) {\n        columnVal = null;\n      }\n    } else if (col.has_default_val && col.seqtypid && !pasteSerials) {\n      // if column has default value and is serial type\n      columnVal = undefined;\n    }\n    if (col.cell === 'boolean') {\n      if (columnVal == 'true') {\n        columnVal = true;\n      } else if (columnVal == 'false') {\n        columnVal = false;\n      } else if (col.has_default_val) {\n        columnVal = undefined;\n      } else {\n        columnVal = null;\n      }\n    }\n    return columnVal;\n  }\n  processRows(result, columns) {\n    let fromClipboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    let pasteSerials = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    let retVal = [];\n    if (!lodash__WEBPACK_IMPORTED_MODULE_1___default().isArray(result) || !lodash__WEBPACK_IMPORTED_MODULE_1___default().size(result)) {\n      return retVal;\n    }\n    let copiedRowsObjects = [];\n    if (fromClipboard) {\n      try {\n        /* If the raw row objects are available, use to them identify null values */\n        copiedRowsObjects = JSON.parse(localStorage.getItem('copied-rows'));\n      } catch {/* Suppress the error */}\n    }\n    for (const [recIdx, rec] of result?.entries() ?? []) {\n      // Convert 2darray to dict.\n      let rowObj = {};\n      for (const col of columns) {\n        // if column data is undefined and there is not default value then set it to null.\n        let columnVal = rec[col.pos] ?? (col.has_default_val ? undefined : null);\n        /* If the source is clipboard, then it needs some extra handling */\n        if (fromClipboard) {\n          columnVal = this.processClipboardVal(columnVal, col, copiedRowsObjects[recIdx]?.[col.key], pasteSerials);\n        }\n        rowObj[col.key] = columnVal;\n      }\n      /* This will used for uniquely identifying selected rows */\n      rowObj[this.clientPK] = this.clientPKLastIndex.toString();\n      retVal.push(rowObj);\n      this.clientPKLastIndex++;\n    }\n    return retVal;\n  }\n  getPlanJson(result, data) {\n    if (result && !lodash__WEBPACK_IMPORTED_MODULE_1___default().isEmpty(data.colinfo) && data.colinfo[0].name == 'QUERY PLAN' && !lodash__WEBPACK_IMPORTED_MODULE_1___default().isEmpty(data.types) && data.types[0] && data.types[0].typname === 'json') {\n      /* json is sent as text, parse it */\n      let planJson = JSON.parse(data.result[0][0]);\n      if (planJson?.[0]?.hasOwnProperty('Plan') && lodash__WEBPACK_IMPORTED_MODULE_1___default().isObject(planJson[0]['Plan'])) {\n        return planJson;\n      }\n    }\n    return null;\n  }\n  queryFinished(httpMessage, onResultsAvailable, onExplain) {\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END, true);\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_CONNECTION_STATUS, httpMessage.data.data.transaction_status);\n    this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TASK_END, sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Query complete'), this.endTime);\n    let retMsg, tabMsg;\n    retMsg = tabMsg = sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Query returned successfully in %s.', this.queryRunTime());\n    if (this.hasResultsToDisplay(httpMessage.data.data)) {\n      let msg1 = sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Successfully run. Total query runtime: %s.', this.queryRunTime());\n      let msg2 = sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('%s rows affected.', httpMessage.data.data?.rows_affected);\n      retMsg = msg1 + ' ' + msg2;\n      tabMsg = msg1 + '\\n' + msg2;\n      if (!lodash__WEBPACK_IMPORTED_MODULE_1___default().isNull(httpMessage.data.data.additional_messages)) {\n        tabMsg = httpMessage.data.data.additional_messages + '\\n' + tabMsg;\n      }\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, tabMsg, true);\n      this.setClientPK(httpMessage.data.data.client_primary_key);\n      let {\n        result\n      } = httpMessage.data.data;\n      let data = _objectSpread(_objectSpread({}, this.startData), httpMessage.data.data);\n      data.primary_keys = lodash__WEBPACK_IMPORTED_MODULE_1___default().isEmpty(data.primary_keys) && data.has_oids ? data.oids : data.primary_keys;\n      data.can_edit = !lodash__WEBPACK_IMPORTED_MODULE_1___default().isEmpty(data.primary_keys);\n      let procColumns = this.processColumns(data);\n      onResultsAvailable(data, procColumns, this.processRows(result, procColumns));\n      this.setStartData(null);\n      let planJson = this.getPlanJson(result, data);\n      if (planJson) {\n        onExplain(planJson);\n      } else {\n        onExplain(null);\n        this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.DATA_OUTPUT);\n      }\n    } else {\n      if (httpMessage.data.data.result) {\n        tabMsg = httpMessage.data.data.result + '\\n\\n' + tabMsg;\n      }\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, tabMsg, true);\n      this.eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FOCUS_PANEL, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.MESSAGES);\n      /* Clear the query data if the query has no result to display.*/\n      onResultsAvailable(null, [], []);\n    }\n    return retMsg;\n  }\n}\nfunction dataChangeReducer(state, action) {\n  let dataChange = lodash__WEBPACK_IMPORTED_MODULE_1___default().clone(state);\n  let count;\n  switch (action.type) {\n    case 'updated':\n      dataChange.updated[action.clientPK] = _objectSpread(_objectSpread(_objectSpread({}, dataChange.updated[action.clientPK]), action.payload), {}, {\n        data: _objectSpread(_objectSpread({}, dataChange.updated[action.clientPK]?.data), action.payload.data)\n      });\n      break;\n    case 'added':\n      action.add = action.add || {};\n      action.remove = action.remove || [];\n      dataChange.added = lodash__WEBPACK_IMPORTED_MODULE_1___default().pickBy(dataChange.added, (_v, k) => action.remove.indexOf(k) == -1);\n      dataChange.added_index = lodash__WEBPACK_IMPORTED_MODULE_1___default().pickBy(dataChange.added_index, v => action.remove.indexOf(v) == -1);\n      count = lodash__WEBPACK_IMPORTED_MODULE_1___default().max(Object.keys(dataChange.added_index).map(k => +k)) || 0;\n      Object.keys(action.add).forEach(k => {\n        dataChange.added_index[++count] = k;\n      });\n      dataChange.added = _objectSpread(_objectSpread({}, dataChange.added), action.add);\n      break;\n    case 'deleted':\n      dataChange.deleted = lodash__WEBPACK_IMPORTED_MODULE_1___default().pickBy(dataChange.deleted, (_v, k) => action.remove.indexOf(k) == -1);\n      dataChange.deleted = _objectSpread(_objectSpread({}, dataChange.deleted), action.add);\n      if (action.all) {\n        dataChange.delete_all = true;\n      } else {\n        dataChange.delete_all = false;\n      }\n      break;\n    case 'reset':\n      dataChange = {\n        updated: {},\n        added: {},\n        added_index: {},\n        deleted: {},\n        delete_all: false\n      };\n      break;\n    default:\n      break;\n  }\n  return dataChange;\n}\nfunction ResultSet() {\n  const containerRef = react__WEBPACK_IMPORTED_MODULE_2___default().useRef(null);\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__.QueryToolEventsContext);\n  const queryToolCtx = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_7__.QueryToolContext);\n  const layoutDocker = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_static_js_helpers_Layout__WEBPACK_IMPORTED_MODULE_11__.LayoutDockerContext);\n  const [loaderText, setLoaderText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n  const [dataOutputQuery, setDataOutputQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n  const [queryData, setQueryData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const [rows, setRows] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [columns, setColumns] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const api = (0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n  const rsu = react__WEBPACK_IMPORTED_MODULE_2___default().useRef(new ResultSetUtils(api, queryToolCtx, queryToolCtx.params.trans_id, queryToolCtx.params.is_query_tool));\n  const [dataChangeStore, dispatchDataChange] = react__WEBPACK_IMPORTED_MODULE_2___default().useReducer(dataChangeReducer, {});\n  const [selectedRows, setSelectedRows] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n  const [selectedColumns, setSelectedColumns] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n  // NONE - no select, PAGE - show select all, ALL - select all.\n  const [allRowsSelect, setAllRowsSelect] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)('NONE');\n  const modalId = _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.MODAL_DIALOGS.QT_CONFIRMATIONS;\n\n  // We'll use this track if any changes were saved.\n  // It will help to decide whether results refresh is required or not on page change.\n  const pageDataDirty = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  const selectedCell = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)([]);\n  const selectedRange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const setSelectedCell = val => {\n    selectedCell.current = val;\n    fireRowsColsCellChanged();\n  };\n  const setSelectedRange = val => {\n    if (val.startColumnIdx != val.endColumnIdx || val.startRowIdx != val.endRowIdx) {\n      selectedRange.current = val;\n    } else {\n      selectedRange.current = null;\n    }\n    fireRowsColsCellChanged();\n  };\n  const [rowsResetKey, setRowsResetKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n  const lastScrollRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const isResettingScroll = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(true);\n  const pgAdmin = (0,_static_js_PgAdminProvider__WEBPACK_IMPORTED_MODULE_21__.usePgAdmin)();\n  rsu.current.setEventBus(eventBus);\n  rsu.current.setQtPref(queryToolCtx.preferences?.sqleditor);\n  const isDataChanged = () => {\n    return Boolean(lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.updated) || lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.added) || lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.deleted));\n  };\n  const fireRowsColsCellChanged = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SELECTED_ROWS_COLS_CELL_CHANGED, selectedRows.size, selectedColumns.size, selectedRange.current, selectedCell.current?.length);\n  };\n  const resetSelectionAndChanges = () => {\n    dispatchDataChange({\n      type: 'reset'\n    });\n    setSelectedRows(new Set());\n    setSelectedColumns(new Set());\n  };\n  const executionStartCallback = async (query, _ref3) => {\n    let {\n      explainObject,\n      macroSQL,\n      external = false,\n      reconnect = false,\n      executeCursor = false,\n      refreshData = false\n    } = _ref3;\n    const yesCallback = async () => {\n      /* Reset */\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HIGHLIGHT_ERROR, null);\n      resetSelectionAndChanges();\n      rsu.current.resetClientPKIndex();\n      setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Waiting for the query to complete...'));\n      setDataOutputQuery(query);\n      return await rsu.current.startExecution(query, explainObject, macroSQL, () => {\n        setColumns([]);\n        setRows([]);\n      }, {\n        isQueryTool: queryToolCtx.params.is_query_tool,\n        external: external,\n        reconnect: reconnect,\n        executeCursor: executeCursor,\n        refreshData: refreshData\n      });\n    };\n    const pollCallback = async () => {\n      rsu.current.pollForResult((procQueryData, procColumns, procRows) => {\n        setRowsResetKey(prev => prev + 1);\n        setQueryData(procQueryData);\n        setRows(procRows);\n        setColumns(procColumns);\n      }, planJson => {\n        /* No need to open if plan is empty */\n        if (!layoutDocker.isTabOpen(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.EXPLAIN) && !planJson) {\n          return;\n        }\n        layoutDocker.openTab({\n          id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.EXPLAIN,\n          title: sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Explain'),\n          content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_static_js_Explain__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n            plans: planJson\n          }),\n          closable: true\n        }, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.MESSAGES, 'after-tab', true);\n      }, () => {\n        setColumns([]);\n        setRows([]);\n      }, explainObject, {\n        isQueryTool: queryToolCtx.params.is_query_tool,\n        external: external,\n        reconnect: reconnect,\n        executeCursor: executeCursor\n      });\n    };\n    const executeAndPoll = async () => {\n      await yesCallback().then(res => {\n        if (res) {\n          pollCallback();\n        } else {\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n        }\n      }).catch(err => {\n        console.error(err);\n      });\n    };\n    if (isDataChanged() && !refreshData) {\n      queryToolCtx.modal.confirm(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Unsaved changes'), sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('The data has been modified, but not saved. Are you sure you wish to discard the changes?'), executeAndPoll, function () {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n      });\n    } else {\n      await executeAndPoll();\n    }\n  };\n  const triggerFilter = async include => {\n    if (lodash__WEBPACK_IMPORTED_MODULE_1___default().isEmpty(selectedCell.current)) {\n      return;\n    }\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Applying the new filter...'));\n    try {\n      let data = {\n        [selectedCell.current[1].key]: selectedCell.current[0][selectedCell.current[1].key]\n      };\n      if (include) {\n        await rsu.current.includeFilter(data);\n      } else {\n        await rsu.current.excludeFilter(data);\n      }\n      setLoaderText('');\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION);\n    } catch (err) {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, err, {\n        checkTransaction: true\n      });\n      setLoaderText('');\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_STOP_EXECUTION, async () => {\n      try {\n        await rsu.current.stopExecution();\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_CONNECTION_STATUS, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_IDLE);\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END);\n      } catch (e) {\n        pgAdmin.Browser.notifier.error((0,_static_js_api_instance__WEBPACK_IMPORTED_MODULE_6__.parseApiError)(e));\n      }\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END, () => {\n      setLoaderText(null);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_RESULTS, async () => {\n      let extension = queryToolCtx.preferences?.sqleditor?.csv_field_separator === ',' ? '.csv' : '.txt';\n      let fileName = 'data-' + new Date().getTime() + extension;\n      if (!queryToolCtx.params.is_query_tool) {\n        fileName = queryToolCtx.params.node_name + extension;\n      }\n      setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Downloading results...'));\n      await rsu.current.saveResultsToFile(fileName);\n      setLoaderText('');\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SET_LIMIT, async limit => {\n      setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Setting the limit on the result...'));\n      try {\n        await rsu.current.setLimit(limit);\n        setLoaderText('');\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION);\n      } catch (err) {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, err, {\n          checkTransaction: true\n        });\n        setLoaderText('');\n      }\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_REMOVE_FILTER, async () => {\n      setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Removing the filter...'));\n      try {\n        await rsu.current.removeFilter();\n        setLoaderText('');\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_EXECUTION);\n      } catch (err) {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, err, {\n          checkTransaction: true\n        });\n        setLoaderText('');\n      }\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_INCLUDE_EXCLUDE_FILTER, triggerFilter);\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.GOTO_LAST_SCROLL, triggerResetScroll);\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.ALL_PAGE_ROWS_SELECTED, selectAll => {\n      if (selectAll) {\n        setAllRowsSelect('PAGE');\n      } else {\n        setAllRowsSelect('NONE');\n      }\n      setSelectedColumns(new Set());\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.ALL_ROWS_SELECTED, () => {\n      setAllRowsSelect('ALL');\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.CLEAR_ROWS_SELECTED, () => {\n      setSelectedRows(new Set());\n      setAllRowsSelect('NONE');\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const deregExec = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, executionStartCallback);\n    return () => {\n      deregExec();\n    };\n  }, [dataChangeStore, dataOutputQuery]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    fireRowsColsCellChanged();\n    setAllRowsSelect('NONE');\n  }, [selectedRows.size, selectedColumns.size]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.ALL_ROWS_SELECTED_STATUS, allRowsSelect);\n  }, [allRowsSelect]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    rsu.current.transId = queryToolCtx.params.trans_id;\n  }, [queryToolCtx.params.trans_id]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.RESET_GRAPH_VISUALISER, columns);\n  }, [columns]);\n  const fetchWindow = async (fromRownum, toRownum, callback) => {\n    let res = [];\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Fetching rows...'));\n    try {\n      res = await rsu.current.getWindowRows(fromRownum, toRownum);\n      const newRows = rsu.current.processRows(res.data.data.result, columns);\n      setRows([...newRows]);\n      setQueryData(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        pagination: res.data.data.pagination,\n        rows_fetched_to: res.data.data.rows_fetched_to != 0 ? res.data.data.rows_fetched_to : prev.rows_fetched_to\n      }));\n    } catch (e) {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, e, {\n        connectionLostCallback: () => {\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_START, rsu.current.query, {\n            external: false,\n            reconnect: true\n          });\n        },\n        checkTransaction: true\n      });\n    } finally {\n      setLoaderText('');\n    }\n    callback?.();\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    let deregExecEnd;\n    const deregFetch = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FETCH_WINDOW, function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (pageDataDirty.current) {\n        deregExecEnd = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.EXECUTION_END, success => {\n          if (!success) return;\n          pageDataDirty.current = false;\n          fetchWindow(...args);\n        }, true);\n        executionStartCallback(rsu.current.query, {\n          refreshData: true\n        });\n      } else {\n        pageDataDirty.current = false;\n        fetchWindow(...args);\n      }\n      resetSelectionAndChanges();\n    });\n    return () => {\n      deregFetch();\n      deregExecEnd?.();\n    };\n  }, [columns]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TOTAL_ROWS_COUNT, queryData?.rows_affected);\n  }, [queryData?.rows_affected]);\n  const warnSaveDataClose = () => {\n    // No changes.\n    if (!isDataChanged() || !queryToolCtx.preferences?.sqleditor.prompt_save_data_changes) {\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_SAVE_TEXT_CLOSE);\n      return;\n    }\n    queryToolCtx.modal.showModal(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Save data changes?'), closeModal => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_static_js_Dialogs_ConfirmSaveContent__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n      closeModal: closeModal,\n      text: sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('The data has changed. Do you want to save changes?'),\n      onDontSave: () => {\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_SAVE_TEXT_CLOSE);\n      },\n      onSave: async () => {\n        await triggerSaveData();\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_SAVE_TEXT_CLOSE);\n      }\n    }), {\n      modalId: modalId\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    let isDirty = lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.updated) || lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.added) || lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.deleted);\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.DATAGRID_CHANGED, isDirty, dataChangeStore);\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_SAVE_DATA_CLOSE, warnSaveDataClose);\n    return () => {\n      eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.WARN_SAVE_DATA_CLOSE, warnSaveDataClose);\n    };\n  }, [dataChangeStore]);\n  const triggerSaveData = async () => {\n    if (!lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.updated) && !lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.added) && !lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.deleted)) {\n      return;\n    }\n    rsu.current.historyQuerySource = _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.SAVE_DATA;\n    setLoaderText(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Saving data...'));\n    try {\n      /* Convert the added info to actual rows */\n      let added = _objectSpread({}, dataChangeStore.added);\n      Object.keys(added).forEach(clientPK => {\n        added[clientPK].data = lodash__WEBPACK_IMPORTED_MODULE_1___default().find(rows, r => rowKeyGetter(r) == clientPK);\n      });\n      let {\n        data: respData\n      } = await rsu.current.saveData({\n        updated: dataChangeStore.updated,\n        deleted: dataChangeStore.deleted,\n        delete_all: dataChangeStore.delete_all,\n        added_index: dataChangeStore.added_index,\n        added: added,\n        columns: columns\n      });\n      try {\n        respData.data.query_results.forEach(r => {\n          eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.PUSH_HISTORY, {\n            'status': r.status,\n            'start_time': rsu.current.startTime,\n            'query': r.sql,\n            'row_affected': r.rows_affected,\n            'total_time': null,\n            'message': r.result,\n            'query_source': _QueryHistory__WEBPACK_IMPORTED_MODULE_14__.QuerySources.SAVE_DATA,\n            'is_pgadmin_query': true,\n            'info': sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('This query was generated by pgAdmin as part of a \"Save Data\" operation')\n          });\n        });\n      } catch {/* History errors should not bother others */}\n      if (!respData.data.status) {\n        pageDataDirty.current = false;\n        eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, respData.data.result);\n        pgAdmin.Browser.notifier.error(respData.data.result, 20000);\n        // If the transaction is not idle, notify the user that previous queries are not rolled back,\n        // only the failed save queries.\n        if (respData.data.transaction_status != _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_IDLE) {\n          pgAdmin.Browser.notifier.info(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Saving data changes was rolled back but the current transaction is ' + 'still active; previous queries are unaffected.'));\n        }\n        setLoaderText(null);\n        return;\n      }\n      pageDataDirty.current = true;\n      if (lodash__WEBPACK_IMPORTED_MODULE_1___default().size(dataChangeStore.added)) {\n        // Update the rows in a grid after addition\n        respData.data.query_results.forEach(qr => {\n          if (!lodash__WEBPACK_IMPORTED_MODULE_1___default().isNull(qr.row_added)) {\n            let rowClientPK = Object.keys(qr.row_added)[0];\n            setRows(prevRows => {\n              let rowIdx = prevRows.findIndex(r => rowKeyGetter(r) == rowClientPK);\n              return [...prevRows.slice(0, rowIdx), _objectSpread(_objectSpread({}, prevRows[rowIdx]), qr.row_added[rowClientPK]), ...prevRows.slice(rowIdx + 1)];\n            });\n          }\n        });\n      }\n      let deletedKeys = Object.keys(dataChangeStore.deleted);\n      if (deletedKeys.length == rows.length) {\n        setRows([]);\n      } else if (deletedKeys.length > 0) {\n        setRows(prevRows => {\n          return prevRows.filter(row => {\n            return deletedKeys.indexOf(row[rsu.current.clientPK]) == -1;\n          });\n        });\n        setColumns(prev => prev);\n      }\n      resetSelectionAndChanges();\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_CONNECTION_STATUS, respData.data.transaction_status);\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SET_MESSAGE, '');\n      pgAdmin.Browser.notifier.success(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Data saved successfully.'));\n      if (respData.data.transaction_status > _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.CONNECTION_STATUS.TRANSACTION_STATUS_IDLE) {\n        pgAdmin.Browser.notifier.info(sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Auto-commit is off. You still need to commit changes to the database.'));\n      }\n    } catch (error) {\n      pageDataDirty.current = false;\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.HANDLE_API_ERROR, error, {\n        checkTransaction: true\n      });\n    }\n    setLoaderText(null);\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_DATA, triggerSaveData);\n    return () => eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_DATA, triggerSaveData);\n  }, [dataChangeStore, rows, columns]);\n  const getRangeIndexes = () => {\n    let startColumnIdx = Math.min(selectedRange.current.startColumnIdx, selectedRange.current.endColumnIdx);\n    let endColumnIdx = Math.max(selectedRange.current.startColumnIdx, selectedRange.current.endColumnIdx);\n    let startRowIdx = Math.min(selectedRange.current.startRowIdx, selectedRange.current.endRowIdx);\n    let endRowIdx = Math.max(selectedRange.current.startRowIdx, selectedRange.current.endRowIdx);\n    return [startColumnIdx, endColumnIdx, startRowIdx, endRowIdx];\n  };\n  const copyDataFunc = function () {\n    let withHeaders = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    const queryToolPref = queryToolCtx.preferences.sqleditor;\n    let copyData = new _QueryToolDataGrid_CopyData__WEBPACK_IMPORTED_MODULE_16__[\"default\"]({\n      quoting: queryToolPref.results_grid_quoting,\n      quote_char: queryToolPref.results_grid_quote_char,\n      field_separator: queryToolPref.results_grid_field_separator\n    });\n    let copyRows = [],\n      copyCols = [];\n    if (selectedRows.size > 0) {\n      copyCols = columns;\n      copyRows = rows.filter(r => selectedRows.has(r[rsu.current.clientPK]));\n    } else if (selectedColumns.size > 0) {\n      /* Row num col is added by QueryDataGrid, index will be +1 */\n      copyCols = lodash__WEBPACK_IMPORTED_MODULE_1___default().filter(columns, (_c, i) => selectedColumns.has(i + 1));\n      copyRows = lodash__WEBPACK_IMPORTED_MODULE_1___default().map(rows, r => lodash__WEBPACK_IMPORTED_MODULE_1___default().pick(r, lodash__WEBPACK_IMPORTED_MODULE_1___default().map(copyCols, c => c.key)));\n    } else if (selectedRange.current) {\n      let [startColumnIdx, endColumnIdx, startRowIdx, endRowIdx] = getRangeIndexes();\n      copyCols = lodash__WEBPACK_IMPORTED_MODULE_1___default().filter(columns, (_c, i) => {\n        /* Row num col is added by QueryDataGrid, index will be +1 */\n        let idx = i + 1;\n        return idx >= startColumnIdx && idx <= endColumnIdx;\n      });\n      copyRows = rows.slice(startRowIdx, endRowIdx + 1);\n    } else if (selectedCell.current[0] && selectedCell.current[1]) {\n      copyCols = [selectedCell.current[1]];\n      copyRows = [{\n        [selectedCell.current[1].key]: selectedCell.current[0][selectedCell.current[1].key]\n      }];\n    }\n    if (copyRows.length > 0 && copyCols.length > 0) {\n      copyData.copyRowsToCsv(copyRows, copyCols, withHeaders);\n    }\n  };\n  const triggerDeleteRows = () => {\n    if (!queryData.can_edit) {\n      return;\n    }\n    let add = {};\n    let remove = [];\n    let selRowsData = rows.filter(r => selectedRows.has(r[rsu.current.clientPK]));\n    let removeNewlyAdded = [];\n    for (let row of selRowsData) {\n      let clientPK = row[rsu.current.clientPK];\n      if (clientPK in dataChangeStore.deleted) {\n        remove.push(clientPK);\n      } else if (clientPK in dataChangeStore.added) {\n        /* If deleted from newly added */\n        removeNewlyAdded.push(clientPK);\n      } else {\n        let primaryKeys = {};\n        Object.keys(queryData.primary_keys).forEach(k => {\n          primaryKeys[k] = row[k];\n        });\n        add[clientPK] = primaryKeys;\n      }\n    }\n    if (removeNewlyAdded.length > 0) {\n      dispatchDataChange({\n        type: 'added',\n        remove: removeNewlyAdded\n      });\n      setRows(prev => {\n        return prev.filter(r => removeNewlyAdded.indexOf(rowKeyGetter(r)) == -1);\n      });\n      setSelectedRows(prev => {\n        let newRows = new Set(prev);\n        removeNewlyAdded.forEach(rowId => {\n          if (newRows.has(rowId)) {\n            newRows.delete(rowId);\n          }\n        });\n        return newRows;\n      });\n    }\n    dispatchDataChange({\n      type: 'deleted',\n      add: add,\n      remove: remove,\n      all: remove.length > 0 ? false : allRowsSelect == 'ALL'\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.COPY_DATA, copyDataFunc);\n    return () => {\n      eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.COPY_DATA, copyDataFunc);\n    };\n  }, [selectedRows, selectedColumns, columns, rows]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_DELETE_ROWS, triggerDeleteRows);\n    return () => {\n      eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_DELETE_ROWS, triggerDeleteRows);\n    };\n  }, [selectedRows, queryData, dataChangeStore, rows, allRowsSelect]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const triggerAddRows = (_rows, fromClipboard, pasteSerials) => {\n      let insPosn = 0;\n      if (selectedRows.size > 0) {\n        let selectedRowsSorted = Array.from(selectedRows);\n        selectedRowsSorted.sort();\n        insPosn = lodash__WEBPACK_IMPORTED_MODULE_1___default().findIndex(rows, r => rowKeyGetter(r) == selectedRowsSorted[selectedRowsSorted.length - 1]) + 1;\n      }\n      let byteaCellSelection = columns.filter(o => o.type == 'bytea');\n      if (byteaCellSelection.length > 0) {\n        _rows = _rows.map(x => {\n          byteaCellSelection.forEach(r => {\n            x[r.pos] = null;\n            return x;\n          });\n          return x;\n        });\n      }\n      let newRows = rsu.current.processRows(_rows, columns, fromClipboard, pasteSerials);\n      setRows(prev => [...prev.slice(0, insPosn), ...newRows, ...prev.slice(insPosn)]);\n      let add = {};\n      newRows.forEach(row => {\n        add[rowKeyGetter(row)] = {\n          err: false\n        };\n      });\n      dispatchDataChange({\n        type: 'added',\n        add: add\n      });\n    };\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_ADD_ROWS, triggerAddRows);\n    return () => eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_ADD_ROWS, triggerAddRows);\n  }, [columns, selectedRows.size]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const renderGeometries = column => {\n      let selRowsData = rows;\n      if (selectedRows.size != 0) {\n        selRowsData = rows.filter(r => selectedRows.has(rowKeyGetter(r)));\n      } else if (selectedColumns.size > 0) {\n        let selectedCols = lodash__WEBPACK_IMPORTED_MODULE_1___default().filter(columns, (_c, i) => selectedColumns.has(i + 1));\n        selRowsData = lodash__WEBPACK_IMPORTED_MODULE_1___default().map(rows, r => lodash__WEBPACK_IMPORTED_MODULE_1___default().pick(r, lodash__WEBPACK_IMPORTED_MODULE_1___default().map(selectedCols, c => c.key)));\n      } else if (selectedRange.current) {\n        let [,, startRowIdx, endRowIdx] = getRangeIndexes();\n        selRowsData = rows.slice(startRowIdx, endRowIdx + 1);\n      } else if (selectedCell.current?.[0]) {\n        selRowsData = [selectedCell.current[0]];\n      }\n      layoutDocker.openTab({\n        id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.GEOMETRY,\n        title: sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Geometry Viewer'),\n        content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_GeometryViewer__WEBPACK_IMPORTED_MODULE_12__.GeometryViewer, {\n          rows: selRowsData,\n          columns: columns,\n          column: column\n        }),\n        closable: true\n      }, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.MESSAGES, 'after-tab', true);\n    };\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_RENDER_GEOMETRIES, renderGeometries);\n    return () => eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_RENDER_GEOMETRIES, renderGeometries);\n  }, [rows, columns, selectedRows.size, selectedColumns.size]);\n  const triggerResetScroll = () => {\n    // Reset the scroll position to previously saved location.\n    if (lastScrollRef.current) {\n      isResettingScroll.current = false;\n      setTimeout(() => {\n        lastScrollRef.current.ref.currentTarget.scroll({\n          top: lastScrollRef.current.top,\n          left: lastScrollRef.current.left\n        });\n        isResettingScroll.current = true;\n      }, 1);\n    }\n  };\n  const onRowsChange = (newRows, otherInfo) => {\n    let row = newRows[otherInfo.indexes[0]];\n    let clientPK = rowKeyGetter(row);\n\n    // Check if column is pk and value is null set it to default value.\n    if (otherInfo.column.has_default_val && lodash__WEBPACK_IMPORTED_MODULE_1___default().isNull(row[otherInfo.column.key]) && otherInfo.column.key in queryData.primary_keys) {\n      row[otherInfo.column.key] = undefined;\n    }\n    if (clientPK in (dataChangeStore.added || {})) {\n      /* No need to track this */\n    } else if (clientPK in (dataChangeStore.updated || {})) {\n      dispatchDataChange({\n        type: 'updated',\n        clientPK: clientPK,\n        payload: {\n          data: {\n            [otherInfo.column.key]: row[otherInfo.column.key]\n          }\n        }\n      });\n    } else {\n      let oldRow = rows[otherInfo.indexes[0]];\n      /* If there are no primary keys, then discard */\n      if (queryData.can_edit) {\n        let primaryKeys = {};\n        Object.keys(queryData.primary_keys).forEach(k => {\n          primaryKeys[k] = oldRow[k];\n        });\n        dispatchDataChange({\n          type: 'updated',\n          clientPK: clientPK,\n          payload: {\n            err: false,\n            data: {\n              [otherInfo.column.key]: row[otherInfo.column.key]\n            },\n            primary_keys: primaryKeys\n          }\n        });\n      }\n    }\n    setRows(newRows);\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const showGraphVisualiser = async () => {\n      layoutDocker.openTab({\n        id: _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.GRAPH_VISUALISER,\n        title: sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('Graph Visualiser'),\n        content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_GraphVisualiser__WEBPACK_IMPORTED_MODULE_20__.GraphVisualiser, {\n          initColumns: columns\n        }),\n        closable: true\n      }, _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.PANELS.MESSAGES, 'after-tab', true);\n    };\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_GRAPH_VISUALISER, showGraphVisualiser);\n    return () => {\n      eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_GRAPH_VISUALISER, showGraphVisualiser);\n    };\n  }, [columns]);\n  const rowKeyGetter = react__WEBPACK_IMPORTED_MODULE_2___default().useCallback(row => row[rsu.current.clientPK]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(StyledBox, {\n    ref: containerRef,\n    tabIndex: \"0\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(sources_components_Loader__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n    message: loaderText\n  }), !queryData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_static_js_components_EmptyPanelMessage__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n    text: sources_gettext__WEBPACK_IMPORTED_MODULE_8___default()('No data output. Execute a query to get output.')\n  }), queryData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_ResultSetToolbar__WEBPACK_IMPORTED_MODULE_10__.ResultSetToolbar, {\n    containerRef: containerRef,\n    query: dataOutputQuery,\n    canEdit: queryData.can_edit,\n    totalRowCount: queryData?.rows_affected,\n    pagination: queryData?.pagination ?? {},\n    allRowsSelect: allRowsSelect\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n    flexGrow: \"1\",\n    minHeight: \"0\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_QueryToolDataGrid__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    columns: columns,\n    rows: rows,\n    totalRowCount: queryData?.rows_affected,\n    startRowNum: queryData?.pagination?.rows_from,\n    columnWidthBy: queryToolCtx.preferences?.sqleditor?.column_data_auto_resize == 'by_data' ? queryToolCtx.preferences.sqleditor.column_data_max_width : queryToolCtx.preferences?.sqleditor?.column_data_auto_resize,\n    key: rowsResetKey,\n    rowKeyGetter: rowKeyGetter,\n    onRowsChange: onRowsChange,\n    dataChangeStore: dataChangeStore,\n    selectedRows: selectedRows,\n    onSelectedRowsChange: setSelectedRows,\n    selectedColumns: selectedColumns,\n    onSelectedColumnsChange: setSelectedColumns,\n    onSelectedCellChange: setSelectedCell,\n    onSelectedRangeChange: setSelectedRange,\n    stripedRows: queryToolCtx.preferences?.sqleditor?.striped_rows\n  }))));\n}\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/ResultSet.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/ResultSetToolbar.jsx":
/*!************************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/ResultSetToolbar.jsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResultSetToolbar: () => (/* binding */ ResultSetToolbar)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Portal/Portal.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../static/js/components/Buttons */ \"./pgadmin/static/js/components/Buttons.jsx\");\n/* harmony import */ var _mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/icons-material/KeyboardArrowDown */ \"./node_modules/@mui/icons-material/esm/KeyboardArrowDown.js\");\n/* harmony import */ var _mui_icons_material_PlaylistAddRounded__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/icons-material/PlaylistAddRounded */ \"./node_modules/@mui/icons-material/esm/PlaylistAddRounded.js\");\n/* harmony import */ var _mui_icons_material_FileCopyRounded__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/icons-material/FileCopyRounded */ \"./node_modules/@mui/icons-material/esm/FileCopyRounded.js\");\n/* harmony import */ var _mui_icons_material_DeleteRounded__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/icons-material/DeleteRounded */ \"./node_modules/@mui/icons-material/esm/DeleteRounded.js\");\n/* harmony import */ var _mui_icons_material_TimelineRounded__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @mui/icons-material/TimelineRounded */ \"./node_modules/@mui/icons-material/esm/TimelineRounded.js\");\n/* harmony import */ var _static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../static/js/components/ExternalIcon */ \"./pgadmin/static/js/components/ExternalIcon.jsx\");\n/* harmony import */ var _mui_icons_material_GetAppRounded__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/icons-material/GetAppRounded */ \"./node_modules/@mui/icons-material/esm/GetAppRounded.js\");\n/* harmony import */ var _mui_icons_material_FastForwardRounded__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/icons-material/FastForwardRounded */ \"./node_modules/@mui/icons-material/esm/FastForwardRounded.js\");\n/* harmony import */ var _mui_icons_material_FastRewindRounded__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/FastRewindRounded */ \"./node_modules/@mui/icons-material/esm/FastRewindRounded.js\");\n/* harmony import */ var _mui_icons_material_SkipNextRounded__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/icons-material/SkipNextRounded */ \"./node_modules/@mui/icons-material/esm/SkipNextRounded.js\");\n/* harmony import */ var _mui_icons_material_SkipPreviousRounded__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/SkipPreviousRounded */ \"./node_modules/@mui/icons-material/esm/SkipPreviousRounded.js\");\n/* harmony import */ var _mui_icons_material_EditRounded__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/EditRounded */ \"./node_modules/@mui/icons-material/esm/EditRounded.js\");\n/* harmony import */ var _mui_icons_material_EditOffRounded__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/EditOffRounded */ \"./node_modules/@mui/icons-material/esm/EditOffRounded.js\");\n/* harmony import */ var _mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/CheckRounded */ \"./node_modules/@mui/icons-material/esm/CheckRounded.js\");\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var _static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../static/js/components/Menu */ \"./pgadmin/static/js/components/Menu.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n/* harmony import */ var _QueryToolDataGrid_CopyData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../QueryToolDataGrid/CopyData */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/CopyData.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../../static/js/components/ReactCodeMirror */ \"./pgadmin/static/js/components/ReactCodeMirror/index.jsx\");\n/* harmony import */ var _QueryToolDataGrid_Editors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../QueryToolDataGrid/Editors */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolDataGrid/Editors.jsx\");\n/* harmony import */ var _static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../../static/js/components/FormComponents */ \"./pgadmin/static/js/components/FormComponents.jsx\");\n/* harmony import */ var _static_js_validators__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../../static/js/validators */ \"./pgadmin/static/js/validators.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst StyledDiv = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_14__[\"default\"])('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return _objectSpread(_objectSpread({\n    padding: '2px',\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    rowGap: '4px',\n    backgroundColor: theme.otherVars.editorToolbarBg,\n    justifyContent: 'space-between'\n  }, theme.mixins.panelBorder.bottom), {}, {\n    '& .PaginationInputs': {\n      display: 'flex',\n      alignItems: 'center',\n      gap: '4px',\n      '& .PaginationInputs-divider': _objectSpread({}, theme.mixins.panelBorder.right)\n    }\n  });\n});\nconst StyledEditor = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_14__[\"default\"])('div')(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return _objectSpread(_objectSpread({\n    position: 'absolute',\n    backgroundColor: theme.palette.background.default,\n    fontSize: '12px'\n  }, theme.mixins.panelBorder.all), {}, {\n    maxWidth: '50%',\n    overflow: 'auto',\n    maxHeight: '35%',\n    '& .textarea': {\n      border: 0,\n      outline: 0,\n      resize: 'both'\n    }\n  });\n});\nfunction ShowDataOutputQueryPopup(_ref3) {\n  let {\n    query\n  } = _ref3;\n  function suppressEnterKey(e) {\n    if (e.keyCode == 13) {\n      e.stopPropagation();\n    }\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n    container: document.body\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledEditor, {\n    ref: ele => {\n      (0,_QueryToolDataGrid_Editors__WEBPACK_IMPORTED_MODULE_11__.setEditorPosition)(document.getElementById('sql-query'), ele, '.MuiBox-root', 29);\n    },\n    onKeyDown: suppressEnterKey\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ReactCodeMirror__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    value: query || '',\n    className: 'textarea',\n    readonly: true\n  })));\n}\nShowDataOutputQueryPopup.propTypes = {\n  query: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().string)\n};\nfunction PaginationInputs(_ref4) {\n  let {\n    pagination,\n    totalRowCount,\n    clearSelection\n  } = _ref4;\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolEventsContext);\n  const [editPageRange, setEditPageRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [errorInputs, setErrorInputs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    'from': false,\n    'to': false,\n    'pageNo': false\n  });\n  const [inputs, setInputs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    from: pagination.rows_from ?? 0,\n    to: pagination.rows_to ?? 0,\n    pageNo: pagination.page_no ?? 0,\n    pageCount: pagination.page_count ?? 0\n  });\n  const goToPage = pageNo => {\n    const from = (pageNo - 1) * pagination.page_size + 1;\n    const to = from + pagination.page_size - 1;\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FETCH_WINDOW, from, to);\n    clearSelection();\n  };\n  const onInputChange = (key, value) => {\n    setInputs(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [key]: value\n    }));\n  };\n  const onInputKeydown = e => {\n    if (e.code === 'Enter' && !errorInputs.from && !errorInputs.to) {\n      e.preventDefault();\n      eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FETCH_WINDOW, inputs.from, inputs.to);\n    }\n  };\n  const onInputKeydownPageNo = e => {\n    if (e.code === 'Enter' && !errorInputs.pageNo) {\n      e.preventDefault();\n      goToPage(inputs.pageNo);\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setInputs({\n      from: pagination.rows_from ?? 0,\n      to: pagination.rows_to ?? 0,\n      pageNo: pagination.page_no ?? 0,\n      pageCount: pagination.page_count ?? 0\n    });\n  }, [pagination, editPageRange]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    // validate\n    setErrorInputs(prev => {\n      let errors = _objectSpread({}, prev);\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_13__.minMaxValidator)('', parseInt(inputs.pageNo), 1, parseInt(inputs.pageCount)) || (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_13__.isEmptyString)(inputs.pageNo)) {\n        errors.pageNo = true;\n      } else {\n        errors.pageNo = false;\n      }\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_13__.minMaxValidator)('', parseInt(inputs.from), 1, parseInt(inputs.to)) || (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_13__.isEmptyString)(inputs.from)) {\n        errors.from = true;\n      } else {\n        errors.from = false;\n      }\n      if ((0,_static_js_validators__WEBPACK_IMPORTED_MODULE_13__.minMaxValidator)('', parseInt(inputs.to), 1, totalRowCount) || (0,_static_js_validators__WEBPACK_IMPORTED_MODULE_13__.isEmptyString)(inputs.to)) {\n        errors.to = true;\n      } else {\n        errors.to = false;\n      }\n      return errors;\n    });\n  }, [inputs]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    className: \"PaginationInputs\"\n  }, editPageRange ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    display: \"flex\",\n    gap: \"2px\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Showing rows:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_12__.InputText, {\n    type: \"int\",\n    size: \"small\",\n    controlProps: {\n      maxLength: 7\n    },\n    style: {\n      maxWidth: '10ch'\n    },\n    value: inputs.from,\n    onChange: value => onInputChange('from', value),\n    onKeyDown: onInputKeydown,\n    error: errorInputs['from']\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('to')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_12__.InputText, {\n    type: \"int\",\n    size: \"small\",\n    controlProps: {\n      maxLength: 7\n    },\n    style: {\n      maxWidth: '10ch'\n    },\n    value: inputs.to,\n    onChange: value => onInputChange('to', value),\n    onKeyDown: onInputKeydown,\n    error: errorInputs['to']\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Showing rows: %s to %s', inputs.from, inputs.to)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, null, editPageRange && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    size: \"xs\",\n    title: editPageRange ? sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Apply (or press Enter on input)') : sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Edit range'),\n    onClick: () => eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.FETCH_WINDOW, inputs.from, inputs.to),\n    disabled: errorInputs.from || errorInputs.to,\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_CheckRounded__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    size: \"xs\",\n    title: editPageRange ? sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Cancel edit') : sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Edit range'),\n    onClick: () => setEditPageRange(prev => !prev),\n    icon: editPageRange ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_EditOffRounded__WEBPACK_IMPORTED_MODULE_19__[\"default\"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_EditRounded__WEBPACK_IMPORTED_MODULE_20__[\"default\"], null)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"PaginationInputs-divider\"\n  }, \"\\xA0\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Page No:')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_FormComponents__WEBPACK_IMPORTED_MODULE_12__.InputText, {\n    type: \"int\",\n    size: \"small\",\n    controlProps: {\n      maxLength: 7\n    },\n    style: {\n      maxWidth: '10ch'\n    },\n    value: inputs.pageNo,\n    onChange: value => onInputChange('pageNo', value),\n    onKeyDown: onInputKeydownPageNo,\n    error: errorInputs['pageNo']\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, \" \", sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('of'), \" \", pagination.page_count), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", {\n    className: \"PaginationInputs-divider\"\n  }, \"\\xA0\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('First Page'),\n    disabled: pagination.page_no <= 1,\n    onClick: () => goToPage(1),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_SkipPreviousRounded__WEBPACK_IMPORTED_MODULE_21__[\"default\"], null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Previous Page'),\n    disabled: pagination.page_no <= 1,\n    onClick: () => goToPage(pagination.page_no - 1),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FastRewindRounded__WEBPACK_IMPORTED_MODULE_22__[\"default\"], null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Next Page'),\n    disabled: pagination.page_no == pagination.page_count,\n    onClick: () => goToPage(pagination.page_no + 1),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FastForwardRounded__WEBPACK_IMPORTED_MODULE_23__[\"default\"], null)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Last Page'),\n    disabled: pagination.page_no == pagination.page_count,\n    onClick: () => goToPage(pagination.page_count),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_SkipNextRounded__WEBPACK_IMPORTED_MODULE_24__[\"default\"], null)\n  })));\n}\nPaginationInputs.propTypes = {\n  pagination: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),\n  totalRowCount: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),\n  clearSelection: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func)\n};\nfunction ResultSetToolbar(_ref5) {\n  let {\n    query,\n    canEdit,\n    totalRowCount,\n    pagination,\n    allRowsSelect\n  } = _ref5;\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolEventsContext);\n  const queryToolCtx = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolContext);\n  const [dataOutputQueryBtn, setDataOutputQueryBtn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [buttonsDisabled, setButtonsDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    'save-data': true,\n    'delete-rows': true,\n    'copy-rows': true,\n    'save-result': true\n  });\n  const [menuOpenId, setMenuOpenId] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(null);\n  const [checkedMenuItems, setCheckedMenuItems] = react__WEBPACK_IMPORTED_MODULE_1___default().useState({});\n  /* Menu button refs */\n  const copyMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const pasetMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const queryToolPref = queryToolCtx.preferences.sqleditor;\n  const setDisableButton = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (name) {\n    let disable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    setButtonsDisabled(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      [name]: disable\n    }));\n  }, []);\n  const saveData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_DATA);\n  }, []);\n  const deleteRows = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_DELETE_ROWS);\n  }, []);\n  const pasteRows = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n    let copyUtils = new _QueryToolDataGrid_CopyData__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\n      quoting: queryToolPref.results_grid_quoting,\n      quote_char: queryToolPref.results_grid_quote_char,\n      field_separator: queryToolPref.results_grid_field_separator\n    });\n    let copiedRows = copyUtils.getCopiedRows();\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_ADD_ROWS, copiedRows, true, checkedMenuItems['paste_with_serials']);\n  }, [queryToolPref, checkedMenuItems['paste_with_serials']]);\n  const copyData = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.COPY_DATA, checkedMenuItems['copy_with_headers']);\n  };\n  const addRow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_ADD_ROWS, [[]]);\n  }, []);\n  const downloadResult = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_SAVE_RESULTS);\n  }, []);\n  const showGraphVisualiser = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_GRAPH_VISUALISER);\n  }, []);\n  const openMenu = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    setMenuOpenId(e.currentTarget.name);\n  }, []);\n  const handleMenuClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setMenuOpenId(null);\n  }, []);\n  const checkMenuClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    setCheckedMenuItems(prev => {\n      let newVal = !prev[e.value];\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        [e.value]: newVal\n      });\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.DATAGRID_CHANGED, isDirty => {\n      setDisableButton('save-data', !isDirty);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.SELECTED_ROWS_COLS_CELL_CHANGED, (rows, cols, range, cell) => {\n      setDisableButton('delete-rows', !rows);\n      setDisableButton('copy-rows', !rows && !cols && !cell && !range);\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setDisableButton('save-result', (totalRowCount || 0) < 1);\n  }, [totalRowCount]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_COPY_DATA, copyData);\n    return () => eventBus.deregisterListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.TRIGGER_COPY_DATA, copyData);\n  }, [checkedMenuItems['copy_with_headers']]);\n  const FIXED_PREF = {\n    copy: {\n      'control': true,\n      ctrl_is_meta: true,\n      'shift': false,\n      'alt': false,\n      'key': {\n        'key_code': 67,\n        'char': 'C'\n      }\n    }\n  };\n  (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_8__.useKeyboardShortcuts)([{\n    shortcut: queryToolPref.btn_add_row,\n    options: {\n      callback: () => {\n        canEdit && addRow();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_paste_row,\n    options: {\n      callback: () => {\n        canEdit && pasteRows();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.btn_delete_row,\n    options: {\n      callback: () => {\n        !(buttonsDisabled['delete-rows'] || !canEdit) && deleteRows();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.save_data,\n    options: {\n      callback: () => {\n        saveData();\n      }\n    }\n  }, {\n    shortcut: queryToolPref.download_results,\n    options: {\n      callback: e => {\n        e.preventDefault();\n        downloadResult();\n      }\n    }\n  }], queryToolCtx.mainContainerRef);\n  const clearSelection = () => {\n    eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.CLEAR_ROWS_SELECTED);\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledDiv, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"4px\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Add row'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_PlaylistAddRounded__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n      style: {\n        height: 'unset'\n      }\n    }),\n    shortcut: queryToolPref.btn_add_row,\n    disabled: !canEdit,\n    onClick: addRow\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Copy'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_FileCopyRounded__WEBPACK_IMPORTED_MODULE_26__[\"default\"], null),\n    shortcut: FIXED_PREF.copy,\n    disabled: buttonsDisabled['copy-rows'] || allRowsSelect == 'ALL',\n    onClick: copyData\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Copy options'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_27__[\"default\"], null),\n    splitButton: true,\n    name: \"menu-copyheader\",\n    ref: copyMenuRef,\n    onClick: openMenu\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Paste'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.PasteIcon, null),\n    shortcut: queryToolPref.btn_paste_row,\n    disabled: !canEdit,\n    onClick: pasteRows\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Paste options'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_KeyboardArrowDown__WEBPACK_IMPORTED_MODULE_27__[\"default\"], null),\n    splitButton: true,\n    name: \"menu-pasteoptions\",\n    ref: pasetMenuRef,\n    onClick: openMenu\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Delete'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_DeleteRounded__WEBPACK_IMPORTED_MODULE_28__[\"default\"], null),\n    shortcut: queryToolPref.btn_delete_row,\n    disabled: buttonsDisabled['delete-rows'] || !canEdit,\n    onClick: deleteRows\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Save Data Changes'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.SaveDataIcon, null),\n    shortcut: queryToolPref.save_data,\n    disabled: buttonsDisabled['save-data'] || !canEdit,\n    onClick: saveData\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Save results to file'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_GetAppRounded__WEBPACK_IMPORTED_MODULE_29__[\"default\"], null),\n    onClick: downloadResult,\n    shortcut: queryToolPref.download_results,\n    disabled: buttonsDisabled['save-result']\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Graph Visualiser'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_icons_material_TimelineRounded__WEBPACK_IMPORTED_MODULE_30__[\"default\"], null),\n    onClick: showGraphVisualiser,\n    disabled: buttonsDisabled['save-result']\n  })), query && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgIconButton, {\n    title: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('SQL query of data'),\n    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_ExternalIcon__WEBPACK_IMPORTED_MODULE_3__.SQLQueryIcon, null),\n    onClick: () => {\n      setDataOutputQueryBtn(prev => !prev);\n    },\n    onBlur: () => {\n      setDataOutputQueryBtn(false);\n    },\n    disabled: !query,\n    id: \"sql-query\"\n  })), dataOutputQueryBtn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ShowDataOutputQueryPopup, {\n    query: query\n  })), allRowsSelect == 'PAGE' && totalRowCount > pagination.page_size && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('All rows on this page are selected.')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.DefaultButton, {\n    onClick: () => eventBus.fireEvent(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_4__.QUERY_TOOL_EVENTS.ALL_ROWS_SELECTED)\n  }, \"Select All \", totalRowCount, \" Rows\"))), allRowsSelect == 'ALL' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('All %s rows are selected.', totalRowCount)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.PgButtonGroup, {\n    size: \"small\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Buttons__WEBPACK_IMPORTED_MODULE_2__.DefaultButton, {\n    onClick: clearSelection\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Clear Selection'))))), totalRowCount > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PaginationInputs, {\n    key: JSON.stringify(pagination),\n    pagination: pagination,\n    totalRowCount: totalRowCount,\n    clearSelection: clearSelection\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: copyMenuRef,\n    open: menuOpenId == 'menu-copyheader',\n    onClose: handleMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Copy Options Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"copy_with_headers\",\n    checked: checkedMenuItems['copy_with_headers'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Copy with headers'))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenu, {\n    anchorRef: pasetMenuRef,\n    open: menuOpenId == 'menu-pasteoptions',\n    onClose: handleMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Paste Options Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_6__.PgMenuItem, {\n    hasCheck: true,\n    value: \"paste_with_serials\",\n    checked: checkedMenuItems['paste_with_serials'],\n    onClick: checkMenuClick\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_7___default()('Paste with SERIAL/IDENTITY values?'))));\n}\nResultSetToolbar.propTypes = {\n  query: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().string),\n  canEdit: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().bool),\n  totalRowCount: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),\n  allRowsSelect: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().string),\n  pagination: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/ResultSetToolbar.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/components/sections/StatusBar.jsx":
/*!*****************************************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/components/sections/StatusBar.jsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatusBar: () => (/* binding */ StatusBar)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/styles/styled.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Box/Box.js\");\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ \"./node_modules/@mui/material/Tooltip/Tooltip.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../QueryToolConstants */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolConstants.js\");\n/* harmony import */ var _static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../static/js/custom_hooks */ \"./pgadmin/static/js/custom_hooks.js\");\n/* harmony import */ var _QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../QueryToolComponent */ \"./pgadmin/tools/sqleditor/static/js/components/QueryToolComponent.jsx\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sources/gettext */ \"./pgadmin/static/js/gettext.js\");\n/* harmony import */ var sources_gettext__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(sources_gettext__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _static_js_components_Menu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../static/js/components/Menu */ \"./pgadmin/static/js/components/Menu.jsx\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _static_js_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../../static/js/utils */ \"./pgadmin/static/js/utils.js\");\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n\n\n\n\n\n\n\nconst StyledBox = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_ref => {\n  let {\n    theme\n  } = _ref;\n  return _objectSpread(_objectSpread({\n    display: 'flex',\n    alignItems: 'center'\n  }, theme.mixins.panelBorder.top), {}, {\n    flexWrap: 'wrap',\n    backgroundColor: theme.otherVars.editorToolbarBg,\n    userSelect: 'text',\n    '& .StatusBar-padding': {\n      padding: '2px 12px',\n      '&.StatusBar-mlAuto': {\n        marginLeft: 'auto'\n      },\n      '&.StatusBar-divider': _objectSpread({}, theme.mixins.panelBorder.right)\n    }\n  });\n});\nfunction StatusBar(_ref2) {\n  let {\n    eol,\n    handleEndOfLineChange\n  } = _ref2;\n  const eventBus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_QueryToolComponent__WEBPACK_IMPORTED_MODULE_5__.QueryToolEventsContext);\n  const [position, setPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([1, 1]);\n  const [lastTaskText, setLastTaskText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const [rowsCount, setRowsCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n  const [selectedRowsCount, setSelectedRowsCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n  const [dataRowChangeCounts, setDataRowChangeCounts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    isDirty: false,\n    added: 0,\n    updated: 0,\n    deleted: 0\n  });\n  const {\n    seconds,\n    minutes,\n    hours,\n    msec,\n    start: startTimer,\n    pause: pauseTimer,\n    reset: resetTimer\n  } = (0,_static_js_custom_hooks__WEBPACK_IMPORTED_MODULE_4__.useStopwatch)({});\n  const eolMenuRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n  const {\n    openMenuName,\n    toggleMenu,\n    onMenuClose\n  } = (0,_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_7__.usePgMenuGroup)();\n  // NONE - no select, PAGE - show select all, ALL - select all.\n  const [allRowsSelect, setAllRowsSelect] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('NONE');\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.CURSOR_ACTIVITY, newPos => {\n      setPosition(newPos || [1, 1]);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.EXECUTION_END, () => {\n      pauseTimer();\n      setLastTaskText(sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Query complete'));\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TASK_START, (taskText, startTime) => {\n      resetTimer();\n      startTimer(startTime);\n      setLastTaskText(taskText);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TASK_END, (taskText, endTime) => {\n      pauseTimer(endTime);\n      setLastTaskText(taskText);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.TOTAL_ROWS_COUNT, total => {\n      setRowsCount(total);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.ALL_ROWS_SELECTED_STATUS, v => {\n      setAllRowsSelect(v);\n    });\n    eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.SELECTED_ROWS_COLS_CELL_CHANGED, rows => {\n      setSelectedRowsCount(rows);\n    });\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const unregDataChange = eventBus.registerListener(_QueryToolConstants__WEBPACK_IMPORTED_MODULE_3__.QUERY_TOOL_EVENTS.DATAGRID_CHANGED, (_isDirty, dataChangeStore) => {\n      setDataRowChangeCounts({\n        added: Object.keys(dataChangeStore.added || {}).length,\n        updated: Object.keys(dataChangeStore.updated || {}).length,\n        deleted: dataChangeStore.delete_all ? rowsCount : Object.keys(dataChangeStore.deleted || {}).length\n      });\n    });\n    return () => {\n      unregDataChange();\n    };\n  }, [rowsCount]);\n  let stagedText = '';\n  if (dataRowChangeCounts.added > 0) {\n    stagedText += ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Added: %s', dataRowChangeCounts.added);\n  }\n  if (dataRowChangeCounts.updated > 0) {\n    stagedText += ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Updated: %s', dataRowChangeCounts.updated);\n  }\n  if (dataRowChangeCounts.deleted > 0) {\n    stagedText += ' ' + sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Deleted: %s', dataRowChangeCounts.deleted);\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(StyledBox, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-divider\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Total rows: %s', rowsCount)), lastTaskText && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-divider\"\n  }, lastTaskText, \" \", hours.toString().padStart(2, '0'), \":\", minutes.toString().padStart(2, '0'), \":\", seconds.toString().padStart(2, '0'), \".\", msec.toString().padStart(3, '0')), !lastTaskText && !lodash__WEBPACK_IMPORTED_MODULE_2___default().isNull(lastTaskText) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-divider\"\n  }, lastTaskText, \" \", hours.toString().padStart(2, '0'), \":\", minutes.toString().padStart(2, '0'), \":\", seconds.toString().padStart(2, '0'), \".\", msec.toString().padStart(3, '0')), Boolean(selectedRowsCount) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-divider\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Rows selected: %s', allRowsSelect == 'ALL' ? rowsCount : selectedRowsCount)), stagedText && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-divider\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Changes staged: %s', stagedText))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-mlAuto\",\n    style: {\n      display: 'flex'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding StatusBar-divider\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n    title: \"Select EOL Sequence\",\n    enterDelay: 2500\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", {\n    onClick: toggleMenu,\n    onKeyDown: (0,_static_js_utils__WEBPACK_IMPORTED_MODULE_8__.getEnterKeyHandler)(toggleMenu),\n    ref: eolMenuRef,\n    name: \"menu-eoloptions\",\n    style: {\n      cursor: 'pointer',\n      display: 'inline-flex',\n      alignItems: 'center',\n      fontSize: 'inherit'\n    }\n  }, eol.toUpperCase())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_7__.PgMenu, {\n    anchorRef: eolMenuRef,\n    open: openMenuName == 'menu-eoloptions',\n    onClose: onMenuClose,\n    label: sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('EOL Options Menu')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_7__.PgMenuItem, {\n    hasCheck: true,\n    value: \"lf\",\n    checked: eol === 'lf',\n    onClick: handleEndOfLineChange\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('LF')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_static_js_components_Menu__WEBPACK_IMPORTED_MODULE_7__.PgMenuItem, {\n    hasCheck: true,\n    value: \"crlf\",\n    checked: eol === 'crlf',\n    onClick: handleEndOfLineChange\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('CRLF')))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n    className: \"StatusBar-padding\"\n  }, sources_gettext__WEBPACK_IMPORTED_MODULE_6___default()('Ln %s, Col %s', position[0], position[1]))));\n}\nStatusBar.propTypes = {\n  eol: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().string),\n  handleEndOfLineChange: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().func)\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/components/sections/StatusBar.jsx?");

/***/ }),

/***/ "./pgadmin/tools/sqleditor/static/js/index.js":
/*!****************************************************!*\
  !*** ./pgadmin/tools/sqleditor/static/js/index.js ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sources/pgadmin */ \"./pgadmin/static/js/pgadmin.js\");\n/* harmony import */ var sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var top_browser_static_js_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! top/browser/static/js/browser */ \"./pgadmin/browser/static/js/browser.js\");\n/* harmony import */ var _SQLEditorModule__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SQLEditorModule */ \"./pgadmin/tools/sqleditor/static/js/SQLEditorModule.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n/*** IMPORTS FROM imports-loader ***/\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.tools.user_management'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.browser.bgprocessmanager'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(/*! pgadmin.node.server_group */ \"./pgadmin/browser/server_groups/static/js/server_group.js\");\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.server'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.database'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.role'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.cast'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.publication'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.subscription'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.tablespace'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.directory'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.resource_group'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.event_trigger'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.extension'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.language'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.foreign_data_wrapper'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.foreign_server'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.user_mapping'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.schema'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.catalog'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.foreign_table_column'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.catalog_object'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.collation'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.domain'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.domain_constraints'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.foreign_table'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.fts_configuration'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.fts_dictionary'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.fts_parser'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.fts_template'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.function'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.procedure'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.edbfunc'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.edbproc'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.edbvar'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.trigger_function'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.package'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.sequence'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.synonym'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.type'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.rule'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.index'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.row_security_policy'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.trigger'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.catalog_object_column'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.view'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.mview'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.table'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.partition'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.compound_trigger'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.aggregate'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.operator'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.dbms_job_scheduler'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.replica_node'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.pgd_replication_groups'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'pgadmin.node.pgd_replication_servers'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n/////////////////////////////////////////////////////////////\n//\n// pgAdmin 4 - PostgreSQL Tools\n//\n// Copyright (C) 2013 - 2025, The pgAdmin Development Team\n// This software is released under the PostgreSQL Licence\n//\n//////////////////////////////////////////////////////////////\n\n\n\n\n/* eslint-disable */\n/* This is used to change publicPath of webpack at runtime for loading chunks */\n/* Do not add let, var, const to this variable */\n__webpack_require__.p = window.resourceBasePath;\n/* eslint-enable */\n\nif (!(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools)) {\n  (sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools) = {};\n}\n(sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default().Tools).SQLEditor = _SQLEditorModule__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getInstance((sources_pgadmin__WEBPACK_IMPORTED_MODULE_0___default()), top_browser_static_js_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nmodule.exports = {\n  SQLEditor: _SQLEditorModule__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n};\n\n//# sourceURL=webpack:///./pgadmin/tools/sqleditor/static/js/index.js?");

/***/ }),

/***/ "pgadmin.browser.endpoints":
/*!********************************************!*\
  !*** external "pgadmin.browser.endpoints" ***!
  \********************************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_pgadmin_browser_endpoints__;

/***/ }),

/***/ "translations":
/*!*******************************!*\
  !*** external "translations" ***!
  \*******************************/
/***/ ((module) => {

module.exports = __WEBPACK_EXTERNAL_MODULE_translations__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/harmony module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.hmd = (module) => {
/******/ 			module = Object.create(module);
/******/ 			if (!module.children) module.children = [];
/******/ 			Object.defineProperty(module, 'exports', {
/******/ 				enumerable: true,
/******/ 				set: () => {
/******/ 					throw new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);
/******/ 				}
/******/ 			});
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/static/js/generated/";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"sqleditor": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk"] = self["webpackChunk"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./pgadmin/tools/sqleditor/static/js/index.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	__webpack_exports__ = __webpack_exports__["default"];
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});;
//# sourceMappingURL=../../../sqleditor.js.map